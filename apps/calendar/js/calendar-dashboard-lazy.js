/*! For license information please see calendar-dashboard-lazy.js.LICENSE.txt */
(self.webpackChunkcalendar=self.webpackChunkcalendar||[]).push([["dashboard-lazy"],{40013:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var r=n(31352);function a(){return[(0,r.translate)("calendar","Anniversary"),(0,r.translate)("calendar","Appointment"),(0,r.translate)("calendar","Business"),(0,r.translate)("calendar","Education"),(0,r.translate)("calendar","Holiday"),(0,r.translate)("calendar","Meeting"),(0,r.translate)("calendar","Miscellaneous"),(0,r.translate)("calendar","Non-working hours"),(0,r.translate)("calendar","Not in office"),(0,r.translate)("calendar","Personal"),(0,r.translate)("calendar","Phone call"),(0,r.translate)("calendar","Sick day"),(0,r.translate)("calendar","Special occasion"),(0,r.translate)("calendar","Travel"),(0,r.translate)("calendar","Vacation")].map((function(e){return{value:e,label:e}}))}},42849:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(82083),a=n(15558),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},{alarmComponent:null,type:null,isRelative:!1,absoluteDate:null,absoluteTimezoneId:null,relativeIsBefore:null,relativeIsRelatedToStart:null,relativeUnitTimed:null,relativeAmountTimed:null,relativeUnitAllDay:null,relativeAmountAllDay:null,relativeHoursAllDay:null,relativeMinutesAllDay:null,relativeTrigger:null},e)},i=function(e){if(e.trigger.isRelative()){var t=e.trigger.value.isNegative,n="START"===e.trigger.related,i=(0,r.Yg)(e.trigger.value.totalSeconds),c=i.amount,l=i.unit,u=(0,r.cB)(e.trigger.value.totalSeconds),s=u.unit,d=u.amount,f=u.hours,m=u.minutes,p=e.trigger.value.totalSeconds;return o({alarmComponent:e,type:e.action,isRelative:e.trigger.isRelative(),relativeIsBefore:t,relativeIsRelatedToStart:n,relativeUnitTimed:l,relativeAmountTimed:c,relativeUnitAllDay:s,relativeAmountAllDay:d,relativeHoursAllDay:f,relativeMinutesAllDay:m,relativeTrigger:p})}var h=(0,a.nZ)(e.trigger.value);return o({alarmComponent:e,type:e.action,isRelative:e.trigger.isRelative(),absoluteDate:h,absoluteTimezoneId:e.trigger.value.timezoneId})}},74300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(45582),a=n(49683);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var u=function(){function e(t){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"id",void 0),c(this,"token",void 0),c(this,"name",void 0),c(this,"description",void 0),c(this,"location",void 0),c(this,"visibility",void 0),c(this,"targetCalendarUri",void 0),c(this,"availability",void 0),c(this,"length",void 0),c(this,"increment",void 0),c(this,"preparationDuration",void 0),c(this,"followupDuration",void 0),c(this,"timeBeforeNextSlot",void 0),c(this,"dailyMax",void 0),c(this,"futureLimit",void 0),c(this,"calendarFreeBusyUris",void 0),c(this,"createTalkRoom",void 0),null!==(n=t)&&void 0!==n||(t={}),this.id=t.id,this.token=t.token,this.name=t.name,this.description=t.description,this.location=t.location,this.visibility=t.visibility,this.targetCalendarUri=t.targetCalendarUri,this.availability=t.availability,this.length=null!==(r=s(t.length))&&void 0!==r?r:0,this.increment=null!==(a=s(t.increment))&&void 0!==a?a:0,this.preparationDuration=s(t.preparationDuration),this.followupDuration=s(t.followupDuration),this.timeBeforeNextSlot=s(t.timeBeforeNextSlot),this.dailyMax=s(t.dailyMax),this.futureLimit=s(t.futureLimit),this.calendarFreeBusyUris=t.calendarFreeBusyUris,this.createTalkRoom=t.createTalkRoom}var t,n,o;return t=e,o=[{key:"createDefault",value:function(t,n,r){var o=(0,a.vA)();if(n&&n.availability){var i,c=(0,a.Xg)(n.availability);o=c.slots,r=null!==(i=c.timezoneId)&&void 0!==i?i:r}else{var l=function(e,t){return Math.round((new Date).setHours(e,t,0,0)/1e3)};["MO","TU","WE","TH","FR"].forEach((function(e){return o[e].push({start:l(9,0),end:l(17,0)})}))}return new e({name:"",description:"",location:"",targetCalendarUri:t,availability:{timezoneId:r,slots:o},visibility:"PRIVATE",length:300,increment:900,preparationDuration:0,followupDuration:0,timeBeforeNextSlot:0,calendarFreeBusyUris:[],futureLimit:5184e3})}},{key:"fromJSON",value:function(t){return new e(JSON.parse(t))}}],(n=[{key:"clone",value:function(){return e.fromJSON(JSON.stringify(this))}},{key:"bookingUrl",get:function(){return"".concat(window.location.protocol,"//").concat(window.location.hostname)+(0,r.generateUrl)("/apps/calendar/appointment/{token}",{token:this.token})}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){if(null!=e)return parseInt(e)}},25573:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var r=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},{attachmentProperty:null,fileName:null,formatType:null,uri:null,value:null,xNcHasPreview:null,xNcFileId:null},e)}({attachmentProperty:e,fileName:e.getParameterFirstValue("FILENAME"),formatType:e.formatType,uri:e.uri,value:e.value,xNcHasPreview:"true"===e.getParameterFirstValue("X-NC-HAS-PREVIEW"),xNcFileId:e.getParameterFirstValue("X-NC-FILE-ID")})}},31799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var r=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},{attendeeProperty:null,commonName:null,calendarUserType:"INDIVIDUAL",participationStatus:"NEEDS-ACTION",role:"REQ-PARTICIPANT",rsvp:!1,uri:null},e)}({attendeeProperty:e,commonName:e.commonName,calendarUserType:e.userType,participationStatus:e.participationStatus,role:e.role,rsvp:e.rsvp,uri:e.email})}},37494:(e,t,n)=>{"use strict";n.d(t,{J:()=>c,o:()=>l});var r=n(62768),a=n(96466);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},{id:"",displayName:"",color:(0,r.ny)(""),enabled:!0,loading:!1,supportsEvents:!0,supportsJournals:!1,supportsTasks:!1,owner:"",timezone:null,shares:[],publishURL:null,url:"",readOnly:!1,order:0,isSharedWithMe:!1,canBeShared:!1,canBePublished:!1,dav:!1,calendarObjects:[],fetchedTimeRanges:[]},e)},l=function(e,t){var n=btoa(e.url),i=e.displayname||function(e){e.endsWith("/")&&(e=e.substring(0,e.length-1));return e.substring(e.lastIndexOf("/")+1)}(e.url),l=(0,r._u)(e.color);l||(l=(0,r.ny)(i));var u,s=e.components.includes("VEVENT"),d=e.components.includes("VJOURNAL"),f=e.components.includes("VTODO"),m=e.owner,p=!e.isWriteable(),h=e.isShareable(),v=e.isPublishable(),y=e.order||0,g=e.url,b=e.publishURL||null,w=e.timezone||null,j=!1;j=!t||m!==t.url,t?"boolean"==typeof e.enabled?u=e.enabled:(u=!0,e.enabled=!0):u=!0;var _=[];if(t&&Array.isArray(e.shares)){var O,I=o(e.shares);try{for(I.s();!(O=I.n()).done;){var x=O.value;x.href!==t.principalScheme&&_.push((0,a.F)(x))}}catch(e){I.e(e)}finally{I.f()}}return c({id:n,displayName:i,color:l,order:y,url:g,enabled:u,supportsEvents:s,supportsJournals:d,supportsTasks:f,isSharedWithMe:j,owner:m,readOnly:p,publishURL:b,canBeShared:h,canBePublished:v,shares:_,timezone:w,dav:e})}},96690:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>c,un:()=>i});var r=n(59491),a=n(59055),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},{id:null,calendarId:null,dav:null,calendarComponent:null,uid:null,uri:null,objectType:null,isEvent:!1,isJournal:!1,isTodo:!1,existsOnServer:!1},e)},i=function(e,t){var n=(0,r.wJ)().getParserForFileType("text/calendar");if("string"!=typeof e.data||""===e.data.trim())throw new Error("Empty calendar object");n.parse(e.data);var i=n.getItemIterator().next().value;if(!i)throw new Error("Empty calendar object");var c=i.getVObjectIterator().next().value;return o({id:btoa(e.url),calendarId:t,dav:e,calendarComponent:i,uid:c.uid,uri:e.url,objectType:c.name,isEvent:c.name===a.RP,isJournal:c.name===a.PA,isTodo:c.name===a.nx,existsOnServer:!0})},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.getVObjectIterator(),r=n.next().value;if(!r)throw new Error("Calendar object without vobjects");return o({calendarId:t,calendarComponent:e,uid:r.uid,objectType:r.name,isEvent:r.name===a.RP,isJournal:r.name===a.PA,isTodo:r.name===a.nx})}},96466:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var r=n(59055),a=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},{id:null,displayName:null,writeable:!1,isUser:!1,isGroup:!1,isCircle:!1,uri:null},e)}({id:btoa(encodeURI(e.href)),displayName:e["common-name"]&&""!==e["common-name"].trim()?e["common-name"]:e.href.startsWith(r.vG)?decodeURIComponent(e.href.slice(28)):e.href.startsWith(r.v0)?decodeURIComponent(e.href.slice(27)):e.href,writeable:e.access[0].endsWith("read-write"),isUser:e.href.startsWith(r.v0),isGroup:e.href.startsWith(r.vG),isCircle:e.href.startsWith(r.WV),uri:e.href})}},59055:(e,t,n)=>{"use strict";n.d(t,{EG:()=>u,EI:()=>m,FR:()=>s,On:()=>d,PA:()=>a,RP:()=>r,WV:()=>l,bL:()=>p,mz:()=>f,nx:()=>o,v0:()=>i,vG:()=>c});var r="VEVENT",a="VJOURNAL",o="VTODO",i="principal:principals/users/",c="principal:principals/groups/",l="principal:principals/circles/",u="principal:principals/calendar-resources/",s="principal:principals/calendar-rooms/",d="contact_birthdays",f="default",m="importing",p="processing"},53978:(e,t,n)=>{"use strict";n.d(t,{H4:()=>p,QX:()=>m,_F:()=>f});var r=n(15558),a=n(59491),o=n(62768),i=n(42849),c=n(31799),l=n(25573),u=n(88440);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},{eventComponent:null,title:null,startDate:null,startTimezoneId:null,endDate:null,endTimezoneId:null,isAllDay:!1,canModifyAllDay:!0,location:null,description:null,accessClass:null,status:null,timeTransparency:null,recurrenceRule:(0,u.K)(),hasMultipleRRules:!1,isMasterItem:!1,isRecurrenceException:!1,forceThisAndAllFuture:!1,canCreateRecurrenceException:!1,attendees:[],organizer:null,alarms:[],customColor:null,categories:[],attachments:[]},e)},m=function(e){var t=f({eventComponent:e,title:e.title,isAllDay:e.isAllDay(),canModifyAllDay:e.canModifyAllDay(),location:e.location,description:e.description,accessClass:e.accessClass,status:e.status,timeTransparency:e.timeTransparency,categories:Array.from(e.getCategoryIterator()),isMasterItem:e.isMasterItem(),isRecurrenceException:e.isRecurrenceException(),canCreateRecurrenceException:e.canCreateRecurrenceExceptions()});if(t.startDate=(0,r.nZ)(e.startDate),t.startTimezoneId=e.startDate.timezoneId,e.isAllDay()){var n=e.endDate.clone();n.addDuration(a.iM.fromSeconds(-86400)),t.endDate=(0,r.nZ)(n)}else t.endDate=(0,r.nZ)(e.endDate);if(t.endTimezoneId=e.endDate.timezoneId,e.organizer){var d=e.getFirstProperty("ORGANIZER");t.organizer={commonName:d.commonName,uri:d.email,attendeeProperty:d}}var m,p=s(e.getAlarmIterator());try{for(p.s();!(m=p.n()).done;){var h=m.value;t.alarms.push((0,i.P)(h))}}catch(e){p.e(e)}finally{p.f()}var v,y=s(e.getAttendeeIterator());try{for(y.s();!(v=y.n()).done;){var g=v.value;t.attendees.push((0,c.Z)(g))}}catch(e){y.e(e)}finally{y.f()}var b,w=s(e.getPropertyIterator("ATTACH"));try{for(w.s();!(b=w.n()).done;){var j=b.value;t.attachments.push((0,l.d)(j))}}catch(e){w.e(e)}finally{w.f()}var _=e.getPropertyIterator("RRULE"),O=_.next().value;if(O&&(t.recurrenceRule=(0,u.N)(O.getFirstValue(),e.startDate),t.hasMultipleRRules=!_.next().done),e.hasProperty("COLOR")){var I=(0,o.eq)(e.getFirstPropertyFirstValue("COLOR"));null!==I&&(t.customColor=I)}return t},p=function(e,t){t.title=e.title,t.location=e.location,t.description=e.description,t.accessClass=e.accessClass,t.status=e.status,t.timeTransparency=e.timeTransparency;var n,r=s(e.categories);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.addCategory(i)}}catch(e){r.e(e)}finally{r.f()}e.organizer&&t.setOrganizerFromNameAndEMail(e.organizer.commonName,e.organizer.uri);var c,l=s(e.alarms);try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u.isRelative){var d=a.iM.fromSeconds(u.relativeTrigger);t.addRelativeAlarm(u.type,d,u.relativeIsRelatedToStart)}else{var f=a.ul.fromJSDate(u.absoluteDate);t.addAbsoluteAlarm(u.type,f)}}}catch(e){l.e(e)}finally{l.f()}var m,p=s(e.attendees);try{for(p.s();!(m=p.n()).done;){var h=m.value;t.addProperty(h.attendeeProperty)}}catch(e){p.e(e)}finally{p.f()}var v,y=s(e.eventComponent.getPropertyIterator("RRULE"));try{for(y.s();!(v=y.n()).done;){var g=v.value;t.addProperty(g)}}catch(e){y.e(e)}finally{y.f()}e.customColor&&(t.color=(0,o.Nt)(e.customColor))}},4269:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,R:()=>o});var r=n(59055),a=function(e){return Object.assign({},{id:null,calendarUserType:"INDIVIDUAL",emailAddress:null,displayname:null,principalScheme:null,userId:null,url:null,dav:null,isCircle:!1,isUser:!1,isGroup:!1,isCalendarResource:!1,isCalendarRoom:!1,principalId:null},e)},o=function(e){var t=btoa(encodeURI(e.url)),n=e.calendarUserType,o=e.principalScheme,i=e.email,c=e.displayname,l=e.principalScheme.startsWith(r.v0),u=e.principalScheme.startsWith(r.vG),s=e.principalScheme.startsWith(r.WV),d=e.principalScheme.startsWith(r.EG),f=e.principalScheme.startsWith(r.FR),m=null;l?m=e.principalScheme.substring(r.v0.length):u?m=e.principalScheme.substring(r.vG.length):s?m=e.principalScheme.substring(r.WV.length):d?m=e.principalScheme.substring(r.EG.length):f&&(m=e.principalScheme.substring(r.FR.length));var p=e.principalUrl,h=e.userId;return a({id:t,calendarUserType:n,principalScheme:o,emailAddress:i,displayname:c,url:p,dav:e,isUser:l,isGroup:u,isCircle:s,isCalendarResource:d,isCalendarRoom:f,principalId:m,userId:h})}},88440:(e,t,n)=>{"use strict";n.d(t,{K:()=>c,N:()=>l});var r=n(53854),a=n(15558);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},{recurrenceRuleValue:null,frequency:"NONE",interval:1,count:null,until:null,byDay:[],byMonth:[],byMonthDay:[],bySetPosition:null,isUnsupported:!1},e)},l=function(e,t){switch(e.frequency){case"DAILY":return y(e);case"WEEKLY":return g(e,t);case"MONTHLY":return b(e,t);case"YEARLY":return w(e,t);default:return I(e,{isUnsupported:!0})}},u=["BYSECOND","BYMINUTE","BYHOUR","BYDAY","BYMONTHDAY","BYYEARDAY","BYWEEKNO","BYMONTH","BYSETPOS"],s=["BYSECOND","BYMINUTE","BYHOUR","BYMONTHDAY","BYYEARDAY","BYWEEKNO","BYMONTH","BYSETPOS"],d=["BYSECOND","BYMINUTE","BYHOUR","BYYEARDAY","BYWEEKNO","BYMONTH"],f=["BYSECOND","BYMINUTE","BYHOUR","BYMONTHDAY","BYYEARDAY","BYWEEKNO"],m=["SU","MO","TU","WE","TH","FR","SA"],p=function(e,t){return Array.apply(null,Array(t-e+1)).map((function(t,n){return n+e})).map((function(e){return e.toString()}))},h=p(1,31),v=p(1,12),y=function(e){var t=O(e,u);return I(e,{isUnsupported:t})},g=function(e,t){var n=O(e,s),a=e.getComponent("BYDAY").some((function(e){return!m.includes(e)})),o=n||a,i=e.getComponent("BYDAY").filter((function(e){return m.includes(e)}));return 0===i.length&&i.push((0,r.F)(t.jsDate)),I(e,{byDay:i,isUnsupported:o})},b=function(e,t){var n=O(e,d),r=[],a=null,o=[];if(O(e,["BYMONTHDAY"])){O(e,["BYDAY","BYSETPOS"])&&(n=!0);var i=e.getComponent("BYMONTHDAY").some((function(e){return!h.includes(e.toString())}));n=n||i,o=e.getComponent("BYMONTHDAY").filter((function(e){return h.includes(e.toString())})).map((function(e){return e.toString()}))}else if(O(e,["BYDAY"])&&O(e,["BYSETPOS"])){j(e.getComponent("BYDAY"))?r=e.getComponent("BYDAY"):(r=["MO","TU","WE","TH","FR","SA","SU"],n=!0);var c=e.getComponent("BYSETPOS");1===c.length&&_(c[0])?a=c[0]:(a=1,n=!0)}else if(O(e,["BYDAY"])){var l=e.getComponent("BYDAY");if(l.length>1)o.push(t.day.toString()),n=!0;else{var u=l[0],s=/^(-?\d)([A-Z]{2})$/.exec(u);if(s){var f=s[1],m=s[2];_(f)?(r=[m],a=parseInt(f,10)):(r=[m],a=1,n=!0)}else o.push(t.day.toString()),n=!0}}else o.push(t.day.toString());return I(e,{byDay:r,bySetPosition:a,byMonthDay:o,isUnsupported:n})},w=function(e,t){var n=O(e,f),r=[],a=null,o=[];if(O(e,["BYMONTH"])){var i=e.getComponent("BYMONTH").some((function(e){return!v.includes(e.toString())}));n=n||i,o=e.getComponent("BYMONTH").filter((function(e){return v.includes(e.toString())})).map((function(e){return e.toString()}))}else o.push(t.month.toString());if(O(e,["BYDAY"])&&O(e,["BYSETPOS"])){j(e.getComponent("BYDAY"))?r=e.getComponent("BYDAY"):(r=["MO","TU","WE","TH","FR","SA","SU"],n=!0);var c=e.getComponent("BYSETPOS");1===c.length&&_(c[0])?a=c[0]:(a=1,n=!0)}else if(O(e,["BYDAY"])){var l=e.getComponent("BYDAY");if(l.length>1)n=!0;else{var u=l[0],s=/^(-?\d)([A-Z]{2})$/.exec(u);if(s){var d=s[1],m=s[2];_(d)?(r=[m],a=parseInt(d,10)):(r=[m],a=1,n=!0)}else n=!0}}return I(e,{byDay:r,bySetPosition:a,byMonth:o,isUnsupported:n})},j=function(e){return["MO","TU","WE","TH","FR","SA","SU","FR,MO,SA,SU,TH,TU,WE","FR,MO,TH,TU,WE","SA,SU"].includes(e.slice().sort().join(","))},_=function(e){return["-2","-1","1","2","3","4","5"].includes(e.toString())},O=function(e,t){var n,r=o(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e.getComponent(a).length>0)return!0}}catch(e){r.e(e)}finally{r.f()}return!1},I=function(e,t){var n=null!==e.count&&null!==e.until,r={};return n&&(r={isUnsupported:n}),c(Object.assign({},{recurrenceRuleValue:e,frequency:e.frequency,interval:parseInt(e.interval,10)||1,count:e.count,until:e.until?(0,a.nZ)(e.until):null},t,r))}},8838:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(31352),a=n(40013),o=function(){return{accessClass:{readableName:(0,r.translate)("calendar","When shared show"),icon:"Eye",options:[{value:"PUBLIC",label:(0,r.translate)("calendar","When shared show full event")},{value:"CONFIDENTIAL",label:(0,r.translate)("calendar","When shared show only busy")},{value:"PRIVATE",label:(0,r.translate)("calendar","When shared hide this event")}],multiple:!1,info:(0,r.translate)("calendar","The visibility of this event in shared calendars."),defaultValue:"PUBLIC"},location:{readableName:(0,r.translate)("calendar","Location"),placeholder:(0,r.translate)("calendar","Add a location"),icon:"MapMarker"},description:{readableName:(0,r.translate)("calendar","Description"),placeholder:(0,r.translate)("calendar","Add a description"),icon:"TextBoxOutline",defaultNumberOfRows:2},status:{readableName:(0,r.translate)("calendar","Status"),icon:"Check",options:[{value:"CONFIRMED",label:(0,r.translate)("calendar","Confirmed")},{value:"TENTATIVE",label:(0,r.translate)("calendar","Tentative")},{value:"CANCELLED",label:(0,r.translate)("calendar","Canceled")}],multiple:!1,info:(0,r.translate)("calendar","Confirmation about the overall status of the event."),defaultValue:"CONFIRMED"},timeTransparency:{readableName:(0,r.translate)("calendar","Show as"),icon:"Briefcase",multiple:!1,info:(0,r.translate)("calendar","Take this event into account when calculating free-busy information."),options:[{value:"TRANSPARENT",label:(0,r.translate)("calendar","Free")},{value:"OPAQUE",label:(0,r.translate)("calendar","Busy")}],defaultValue:"TRANSPARENT"},categories:{readableName:(0,r.translate)("calendar","Categories"),icon:"Tag",multiple:!0,info:(0,r.translate)("calendar","Categories help you to structure and organize your events."),placeholder:(0,r.translate)("calendar","Search or add categories"),tagPlaceholder:(0,r.translate)("calendar","Add this as a new category"),options:(0,a.x)()},color:{readableName:(0,r.translate)("calendar","Custom color"),icon:"EyedropperVariant",multiple:!1,info:(0,r.translate)("calendar","Special color of this event. Overrides the calendar-color.")}}}},34671:(e,t,n)=>{"use strict";n.d(t,{_g:()=>d,rF:()=>h,vj:()=>m});var r=n(45582),a=n(93664),o=n(74300),i=n(75357);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};s(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,o)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,l){var u=f(e[r],e,o);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),s(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(d(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),s(w,u,"Generator"),s(w,o,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function u(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,c,"next",e)}function c(e){u(o,r,a,i,c,"throw",e)}i(void 0)}))}}function d(e){return f.apply(this,arguments)}function f(){return(f=s(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.generateUrl)("/apps/calendar/v1/appointment_configs"),e.next=3,a.Z.post(n,t);case 3:return i=e.sent,e.abrupt("return",new o.Z(i.data.data));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=s(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.generateUrl)("/apps/calendar/v1/appointment_configs/{id}",{id:t}),e.next=3,a.Z.delete(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=s(l().mark((function e(t){var n,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.ZP.info("Deleting config",{config:t,id:t.id}),n=(0,r.generateUrl)("/apps/calendar/v1/appointment_configs/{id}",{id:t.id}),e.next=4,a.Z.put(n,t);case 4:return c=e.sent,e.abrupt("return",new o.Z(c.data.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2323:(e,t,n)=>{"use strict";n.d(t,{Dz:()=>O,Oq:()=>_,S3:()=>I,V_:()=>E,XW:()=>C,YR:()=>x,i8:()=>S,yG:()=>w,z$:()=>A});var r=n(3781),a=n.n(r),o=n(45582),i=n(77958),c=n(59055);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,o)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,c){var u=f(e[r],e,o);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==l(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),u(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),u(w,c,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function f(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,c,"next",e)}function c(e){f(o,r,a,i,c,"throw",e)}i(void 0)}))}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={},g=function(e){return JSON.stringify(e)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g(e);return y[t]||(y[t]=new(a())({rootUrl:(0,o.generateRemoteUrl)("dav")},(function(){var t=h({"X-Requested-With":"XMLHttpRequest",requesttoken:(0,i.IH)(),"X-NC-CalDAV-Webcal-Caching":"On"},e),n=new XMLHttpRequest,r=n.open;return n.open=function(){var e=r.apply(this,arguments);for(var a in t)n.setRequestHeader(a,t[a]);return e},OC.registerXHRForErrorProcessing(n),n}))),y[t]},w=function(){var e=m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().connect({enableCalDAV:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e){return b(e).calendarHomes[0]},_=function(){return j().findAllCalDAVCollectionsGrouped()},O=function(){return j().findAllDeletedCalendars()},I=function(){var e=m(d().mark((function e(t){var n,r,a,o,i,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=u(t);try{for(r.s();!(a=r.n()).done;)o=a.value,i=b().publicCalendarHome.find(o).catch((function(){return null})),n.push(i)}catch(e){r.e(e)}finally{r.f()}return e.next=5,Promise.all(n);case 5:return c=e.sent,e.abrupt("return",c.filter((function(e){return null!==e})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=m(d().mark((function e(t,n,r,a,o){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j().createCalendarCollection(t,n,r,a,o));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),C=function(){var e=m(d().mark((function e(t,n,r,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j().createSubscribedCollection(t,n,r,a));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),E=function(){var e=m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j().enableBirthdayCalendar();case 2:return e.abrupt("return",T());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j().find(c.On));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){return b().currentUserPrincipal},S=function(){var e=m(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b().findPrincipal(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},67718:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var r=n(93664),a=n(83884);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};s(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,c)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,i,c,l){var u=f(e[r],e,i);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==o(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,c,l)}),(function(e){a("throw",e,c,l)})):t.resolve(d).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,l)}))}l(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),s(_.prototype,l,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(d(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),s(w,u,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function c(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}var l=function(){var e,t=(e=i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.post((0,a.i)(t),{value:n});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,l,"next",e)}function l(e){c(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},90124:(e,t,n)=>{"use strict";n.d(t,{jv:()=>h});var r=n(93664),a=(n(31352),n(45582)),o=n(43554),i=n(77958),c=n(75357),l=n(33827);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function p(){}function h(){}function v(){}var y={};l(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,o)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,c){var l=d(e[r],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==u(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=d(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),l(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),l(w,c,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function m(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,c,"next",e)}function c(e){m(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h(e){return v.apply(this,arguments)}function v(){return(v=p(f().mark((function e(t){var n,u,d,m,p,h,v,y,g,b,w,j;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=(0,o.j)("calendar","talk_api_version"),(m=null!==(n=null===(u=t.getConferenceList()[0])||void 0===u?void 0:u.uri)&&void 0!==n?n:t.location)&&m.startsWith(window.location.protocol+"//"+window.location.host)){e.next=5;break}return c.ZP.debug("Event's conference/location is from another host",m),e.abrupt("return");case 5:if(p=m.match(/\/call\/([a-z0-9]*)$/)[1]){e.next=9;break}return c.ZP.debug("URL "+m+" contains no call token"),e.abrupt("return");case 9:return e.prev=9,e.next=12,r.Z.get((0,a.generateOcsUrl)("apps/spreed/api/"+d+"/",2)+"room/"+p+"/participants");case 12:if((h=e.sent).data.ocs.data.some((function(e){return e.actorId===(0,i.ts)().uid&&e.participantType<=2}))){e.next=16;break}return c.ZP.debug("Current user is not a moderator or owner",{currentUser:(0,i.ts)().uid,conversation:h.data.ocs.data}),e.abrupt("return");case 16:v=s(t.getAttendeeIterator()),e.prev=17,v.s();case 19:if((y=v.n()).done){e.next=43;break}if(g=y.value,c.ZP.debug("Processing attendee",{attendee:g}),!["GROUP","RESOURCE","ROOM"].includes(g.userType)){e.next=24;break}return e.abrupt("continue",41);case 24:return b=(0,l.Oo)(g.email),w="emails",e.prev=26,e.next=29,r.Z.get((0,a.generateOcsUrl)("core/autocomplete/",2)+"get?search="+encodeURIComponent(b)+"&itemType=&itemId=%20&shareTypes[]=0&limit=2");case 29:1===(j=e.sent).data.ocs.data.length?(b=j.data.ocs.data[0].id,w="users"):c.ZP.debug("Attendee "+b+" is not a Nextcloud user"),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(26),c.ZP.info("Could not find user data for attendee "+b,{error:e.t0});case 36:if("users"!==w||b!==(0,i.ts)().uid){e.next=39;break}return c.ZP.debug("Skipping organizer"),e.abrupt("continue",41);case 39:return e.next=41,r.Z.post((0,a.generateOcsUrl)("apps/spreed/api/"+d+"/",2)+"room/"+p+"/participants",{newParticipant:b,source:w});case 41:e.next=19;break;case 43:e.next=48;break;case 45:e.prev=45,e.t1=e.catch(17),v.e(e.t1);case 48:return e.prev=48,v.f(),e.finish(48);case 51:e.next=56;break;case 53:e.prev=53,e.t2=e.catch(9),c.ZP.warn("Could not update Talk room attendees",{error:e.t2});case 56:case"end":return e.stop()}}),e,null,[[9,53],[17,45,48,51],[26,33]])})))).apply(this,arguments)}},54782:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=(0,n(59491).ko)(),a=!1;function o(){return a||(r.registerDefaultTimezones(),a=!0),r}},50923:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(44140),a=n.n(r),o=function(){var e=a().determine();if(!e)return"UTC";var t=e.name();return t||"UTC"}},84627:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(20144),a=n(34671),o=n(75357);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};s(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,o)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,c,l){var u=f(e[r],e,o);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,c,l)}),(function(e){a("throw",e,c,l)})):t.resolve(d).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,l)}))}l(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),s(_.prototype,l,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(d(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),s(w,u,"Generator"),s(w,o,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,c,"next",e)}function c(e){l(o,r,a,i,c,"throw",e)}i(void 0)}))}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={addInitialConfigs:function(e,t){var n,a=s(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;r.default.set(e.configs,o.id,o)}}catch(e){a.e(e)}finally{a.f()}},updateConfig:function(e,t){var n=t.config;e.configs[n.id]&&r.default.set(e.configs,n.id,n.clone())},addConfig:function(e,t){var n=t.config;r.default.set(e.configs,n.id,n)},deleteConfig:function(e,t){var n=t.id;e.configs[n]&&r.default.delete(e.configs,n)}},m={allConfigs:function(e){return Object.values(e.configs)}};const p={state:{configs:{}},mutations:f,getters:m,actions:{updateConfig:function(e,t){return u(c().mark((function n(){var r,i,l;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,i=t.config,n.prev=2,n.next=5,(0,a.rF)(i);case 5:return l=n.sent,r("updateConfig",{config:l}),n.abrupt("return",l);case 10:throw n.prev=10,n.t0=n.catch(2),o.ZP.error("Failed to update config",{error:n.t0}),n.t0;case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},createConfig:function(e,t){return u(c().mark((function n(){var r,i,l;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,i=t.config,n.prev=2,n.next=5,(0,a._g)(i);case 5:return l=n.sent,r("addConfig",{config:l}),n.abrupt("return",l);case 10:throw n.prev=10,n.t0=n.catch(2),o.ZP.error("Failed to create config",{error:n.t0}),n.t0;case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},deleteConfig:function(e,t){return u(c().mark((function n(){var r,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,i=t.id,n.prev=2,n.next=5,(0,a.vj)(i);case 5:r("deleteConfig",{id:i}),n.next=12;break;case 8:throw n.prev=8,n.t0=n.catch(2),o.ZP.error("Failed to delete config",{error:n.t0}),n.t0;case 12:case"end":return n.stop()}}),n,null,[[2,8]])})))()}}}},64280:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(20144),a=n(54782),o=n(15558),i=n(59491),c=n(53854),l=n(53978),u=n(82083),s=n(62768),d=n(42849),f=n(45792),m=n(75357),p=n(92539),h=n(8838),v=n(45582),y=n(90124);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(){w=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==t&&n.call(y,o)&&(h=y);var b=p.prototype=f.prototype=Object.create(h);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==g(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},j(_.prototype),l(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function j(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function O(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x={setCalendarObjectInstanceForExistingEvent:function(e,t){var n=t.calendarObject,r=t.calendarObjectInstance,a=t.objectId,o=t.recurrenceId;e.isNew=!1,e.calendarObject=n,e.calendarObjectInstance=r,e.existingEvent.objectId=a,e.existingEvent.recurrenceId=o},setCalendarObjectInstanceForNewEvent:function(e,t){var n=t.calendarObject,r=t.calendarObjectInstance;e.isNew=!0,e.calendarObject=n,e.calendarObjectInstance=r,e.existingEvent.objectId=null,e.existingEvent.recurrenceId=null},resetCalendarObjectInstanceObjectIdAndRecurrenceId:function(e){e.isNew=!1,e.calendarObject=null,e.calendarObjectInstance=null,e.existingEvent.objectId=null,e.existingEvent.recurrenceId=null},changeTitle:function(e,t){var n=t.calendarObjectInstance,r=t.title;n.eventComponent.title=r,n.title=r},changeStartDate:function(e,t){var n=t.calendarObjectInstance,r=t.startDate;n.eventComponent.startDate.year=r.getFullYear(),n.eventComponent.startDate.month=r.getMonth()+1,n.eventComponent.startDate.day=r.getDate(),n.eventComponent.startDate.hour=r.getHours(),n.eventComponent.startDate.minute=r.getMinutes(),n.eventComponent.startDate.second=0;var c=n.eventComponent.isAllDay(),l=n.eventComponent.endDate.clone(),u=n.eventComponent.startDate.clone();if(c){if(l.addDuration(i.iM.fromSeconds(-86400)),-1===l.compare(u)){var s=(0,a.Z)().getTimezoneForId(l.timezoneId);n.eventComponent.endDate=n.eventComponent.startDate.getInTimezone(s),n.endDate=(0,o.nZ)(n.eventComponent.endDate),n.eventComponent.endDate.addDuration(i.iM.fromSeconds(86400))}}else if(-1===l.compare(u)){var d=(0,a.Z)().getTimezoneForId(l.timezoneId);n.eventComponent.endDate=n.eventComponent.startDate.getInTimezone(d),n.endDate=(0,o.nZ)(n.eventComponent.endDate)}n.startDate=r},changeStartTimezone:function(e,t){var n=t.calendarObjectInstance,r=t.startTimezone,o=(0,a.Z)().getTimezoneForId(r);n.eventComponent.startDate.replaceTimezone(o),n.startTimezoneId=r,"floating"!==r&&"floating"!==n.endTimezoneId||(n.eventComponent.endDate.replaceTimezone(o),n.endTimezoneId=r)},changeEndDate:function(e,t){var n=t.calendarObjectInstance,r=t.endDate,c=n.eventComponent.endDate;n.eventComponent.endDate=c,n.eventComponent.endDate.year=r.getFullYear(),n.eventComponent.endDate.month=r.getMonth()+1,n.eventComponent.endDate.day=r.getDate(),n.eventComponent.endDate.hour=r.getHours(),n.eventComponent.endDate.minute=r.getMinutes(),n.eventComponent.endDate.second=0;var l=n.eventComponent.isAllDay(),u=n.eventComponent.endDate.clone(),s=n.eventComponent.startDate.clone();if(l){if(-1===u.compare(s)){var d=(0,a.Z)().getTimezoneForId(s.timezoneId);n.eventComponent.startDate=n.eventComponent.endDate.getInTimezone(d),n.startDate=(0,o.nZ)(n.eventComponent.startDate)}n.eventComponent.endDate.addDuration(i.iM.fromSeconds(86400))}else if(-1===u.compare(s))if(u.addDuration(i.iM.fromSeconds(86400)),-1===u.compare(s)){var f=(0,a.Z)().getTimezoneForId(s.timezoneId);n.eventComponent.startDate=n.eventComponent.endDate.getInTimezone(f),n.startDate=(0,o.nZ)(n.eventComponent.startDate)}else n.eventComponent.endDate.addDuration(i.iM.fromSeconds(86400)),r=new Date(r.getTime()+864e5);n.endDate=r},changeEndTimezone:function(e,t){var n=t.calendarObjectInstance,r=t.endTimezone,o=(0,a.Z)().getTimezoneForId(r);n.eventComponent.endDate.replaceTimezone(o),n.endTimezoneId=r,"floating"!==r&&"floating"!==n.startTimezoneId||(n.eventComponent.startDate.replaceTimezone(o),n.startTimezoneId=r)},toggleAllDay:function(e,t){var n=t.calendarObjectInstance;if(n.eventComponent.canModifyAllDay()){var r=n.eventComponent.isAllDay();n.eventComponent.startDate.isDate=!r,n.eventComponent.endDate.isDate=!r,n.isAllDay=n.eventComponent.isAllDay(),r?n.eventComponent.endDate.addDuration(i.iM.fromSeconds(-86400)):n.eventComponent.endDate.addDuration(i.iM.fromSeconds(86400))}},changeTimeToDefaultForTimedEvents:function(e,t){var n=t.calendarObjectInstance,r=n.eventComponent.startDate,a=n.eventComponent.endDate;0===r.hour&&0===r.minute&&0===a.hour&&0===a.minute&&(r.hour=10,a.hour=11,n.startDate=(0,o.nZ)(r),n.endDate=(0,o.nZ)(a))},changeLocation:function(e,t){var n=t.calendarObjectInstance,r=t.location;n.eventComponent.deleteAllProperties("X-APPLE-STRUCTURED-LOCATION"),n.eventComponent.location=r,n.location=r},changeDescription:function(e,t){var n=t.calendarObjectInstance,r=t.description,a=n.eventComponent.getFirstProperty("Description");if(a){var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(a.getParametersIterator());try{for(i.s();!(o=i.n()).done;){var c=o.value;a.deleteParameter(c.name)}}catch(e){i.e(e)}finally{i.f()}}n.eventComponent.deleteAllProperties("X-ALT-DESC"),n.eventComponent.description=r,n.description=r},changeAccessClass:function(e,t){var n=t.calendarObjectInstance,r=t.accessClass;n.eventComponent.accessClass=r,n.accessClass=r},changeStatus:function(e,t){var n=t.calendarObjectInstance,r=t.status;n.eventComponent.status=r,n.status=r},changeTimeTransparency:function(e,t){var n=t.calendarObjectInstance,r=t.timeTransparency;n.eventComponent.timeTransparency=r,n.timeTransparency=r},changeCustomColor:function(e,t){var n=t.calendarObjectInstance,a=t.customColor;if(null===a)return n.eventComponent.deleteAllProperties("COLOR"),void r.default.set(n,"customColor",null);var o=(0,s.Nt)(a),i=(0,s.eq)(o);if(!o||!i)return console.error("Setting custom color failed"),console.error("customColor: ",a),console.error("cssColorName: ",o),void console.error("hexColorOfCssName: ",i);n.eventComponent.color=o,r.default.set(n,"customColor",i)},addAttendee:function(e,t){var n=t.calendarObjectInstance,r=t.commonName,a=t.uri,o=t.calendarUserType,c=void 0===o?null:o,l=t.participationStatus,u=void 0===l?null:l,s=t.role,d=void 0===s?null:s,f=t.rsvp,m=void 0===f?null:f,p=t.language,h=void 0===p?null:p,v=t.timezoneId,y=void 0===v?null:v,g=t.organizer,b=void 0===g?null:g,w=i.NQ.fromNameAndEMail(r,a);null!==c&&(w.userType=c),null!==u&&(w.participationStatus=u),null!==d&&(w.role=d),null!==m&&(w.rsvp=m),null!==h&&(w.language=h),null!==y&&w.updateParameterIfExist("TZID",y),n.eventComponent.addProperty(w),n.attendees.push({commonName:r,participationStatus:u,role:d,rsvp:m,uri:a,attendeeProperty:w}),!n.organizer&&b&&this.commit("setOrganizer",{calendarObjectInstance:n,commonName:b.displayname,email:b.emailAddress})},removeAttendee:function(e,t){var n=t.calendarObjectInstance,r=t.attendee;n.eventComponent.removeAttendee(r.attendeeProperty);var a=n.attendees.indexOf(r);-1!==a&&n.attendees.splice(a,1)},changeAttendeesParticipationStatus:function(e,t){var n=t.attendee,r=t.participationStatus;n.attendeeProperty.participationStatus=r,n.participationStatus=r},changeAttendeesRole:function(e,t){var n=t.attendee,r=t.role;n.attendeeProperty.role=r,n.role=r},toggleAttendeeRSVP:function(e,t){var n=t.attendee,r=n.attendeeProperty.rsvp;n.attendeeProperty.rsvp=!r,n.rsvp=!r},setOrganizer:function(e,t){var n=t.calendarObjectInstance,a=t.commonName,o=void 0===a?null:a,i=t.email;n.eventComponent.setOrganizerFromNameAndEMail(o,i),r.default.set(n,"organizer",{}),r.default.set(n.organizer,"commonName",o),r.default.set(n.organizer,"uri",i),r.default.set(n.organizer,"attendeeProperty",n.eventComponent.getFirstProperty("ORGANIZER"))},addCategory:function(e,t){var n=t.calendarObjectInstance,r=t.category;n.eventComponent.addCategory(r),n.categories.push(r)},removeCategory:function(e,t){var n=t.calendarObjectInstance,r=t.category;n.eventComponent.removeCategory(r);var a=n.categories.indexOf(r);-1!==a&&n.categories.splice(a,1)},changeRecurrenceInterval:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.interval;n.recurrenceRuleValue&&(n.recurrenceRuleValue.interval=r,n.interval=r,console.debug(n.recurrenceRuleValue._innerValue.toString()))},changeRecurrenceFrequency:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.frequency;n.recurrenceRuleValue&&(n.recurrenceRuleValue.frequency=r,n.frequency=r,console.debug(n.recurrenceRuleValue._innerValue.toString()))},changeRecurrenceCount:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.count;n.recurrenceRuleValue&&(n.recurrenceRuleValue.count=r,n.count=r,n.until=null,console.debug(n.recurrenceRuleValue._innerValue.toString()))},changeRecurrenceUntil:function(e,t){var n=t.calendarObjectInstance,r=t.recurrenceRule,a=t.until;r.recurrenceRuleValue&&("floating"!==n.startTimezoneId?r.recurrenceRuleValue.until=i.ul.fromJSDate(a,{zone:"utc"}):r.recurrenceRuleValue.until=i.ul.fromJSDate(a),r.until=a,r.count=null,console.debug(r.recurrenceRuleValue._innerValue.toString()))},changeRecurrenceToInfinite:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule;n.recurrenceRuleValue&&(n.recurrenceRuleValue.setToInfinite(),n.until=null,n.count=null,console.debug(n.recurrenceRuleValue._innerValue.toString()))},resetRecurrenceByParts:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule;if(n.recurrenceRuleValue){for(var a=0,o=["BYSECOND","BYMINUTE","BYHOUR","BYDAY","BYMONTHDAY","BYYEARDAY","BYWEEKNO","BYMONTH","BYSETPOS"];a<o.length;a++){var i=o[a];n.recurrenceRuleValue.setComponent(i,[])}r.default.set(n,"byDay",[]),r.default.set(n,"byMonth",[]),r.default.set(n,"byMonthDay",[]),r.default.set(n,"bySetPosition",null),console.debug(n.recurrenceRuleValue._innerValue.toString())}},setDefaultRecurrenceByPartsForWeekly:function(e,t){var n=t.calendarObjectInstance,r=t.recurrenceRule;if(r.recurrenceRuleValue){var a=(0,c.F)(n.startDate);r.recurrenceRuleValue.setComponent("BYDAY",[a]),r.byDay.push(a),console.debug(r.recurrenceRuleValue._innerValue.toString())}},setDefaultRecurrenceByPartsForMonthly:function(e,t){var n=t.calendarObjectInstance,r=t.recurrenceRule;if(r.recurrenceRuleValue){var a=n.startDate.getDate().toString();r.recurrenceRuleValue.setComponent("BYMONTHDAY",[a]),r.byMonthDay.push(a),console.debug(r.recurrenceRuleValue._innerValue.toString())}},setDefaultRecurrenceByPartsForMonthlyBySetPosition:function(e,t){var n=t.calendarObjectInstance,r=t.recurrenceRule;if(r.recurrenceRuleValue){var a=(0,c.b)(n.startDate),o=a.byDay,i=a.bySetPosition;r.recurrenceRuleValue.setComponent("BYDAY",[o]),r.recurrenceRuleValue.setComponent("BYSETPOS",[i]),r.byDay.push(o),r.bySetPosition=i,console.debug(r.recurrenceRuleValue._innerValue.toString())}},setDefaultRecurrenceByPartsForYearly:function(e,t){var n=t.calendarObjectInstance,r=t.recurrenceRule;if(r.recurrenceRuleValue){var a=n.startDate.getMonth()+1;r.recurrenceRuleValue.setComponent("BYMONTH",[a]),r.byMonth.push(a),console.debug(r.recurrenceRuleValue._innerValue.toString())}},addByDayToRecurrenceRule:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.byDay;if(n.recurrenceRuleValue){var a=n.recurrenceRuleValue.getComponent("BYDAY");-1===a.indexOf(r)&&(a.push(r),n.recurrenceRuleValue.setComponent("BYDAY",a)),-1===n.byDay.indexOf(r)&&n.byDay.push(r),console.debug(n.recurrenceRuleValue._innerValue.toString())}},removeByDayFromRecurrenceRule:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.byDay;if(n.recurrenceRuleValue){var a=n.recurrenceRuleValue.getComponent("BYDAY"),o=a.indexOf(r);-1!==o&&(a.splice(o,1),n.recurrenceRuleValue.setComponent("BYDAY",a));var i=n.byDay.indexOf(r);-1!==i&&n.byDay.splice(i,1),console.debug(n.recurrenceRuleValue._innerValue.toString())}},addByMonthDayToRecurrenceRule:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.byMonthDay;if(n.recurrenceRuleValue){var a=n.recurrenceRuleValue.getComponent("BYMONTHDAY");-1===a.indexOf(r)&&(a.push(r),n.recurrenceRuleValue.setComponent("BYMONTHDAY",a)),-1===n.byMonthDay.indexOf(r)&&n.byMonthDay.push(r),console.debug(n.recurrenceRuleValue._innerValue.toString())}},removeByMonthDayFromRecurrenceRule:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.byMonthDay;if(n.recurrenceRuleValue){var a=n.recurrenceRuleValue.getComponent("BYMONTHDAY"),o=a.indexOf(r);-1!==o&&(a.splice(o,1),n.recurrenceRuleValue.setComponent("BYMONTHDAY",a));var i=n.byMonthDay.indexOf(r);-1!==i&&n.byMonthDay.splice(i,1),console.debug(n.recurrenceRuleValue._innerValue.toString())}},addByMonthToRecurrenceRule:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.byMonth;if(n.recurrenceRuleValue){console.debug("addByMonthToRecurrenceRule",r);var a=n.recurrenceRuleValue.getComponent("BYMONTH");-1===a.indexOf(r)&&(a.push(r),n.recurrenceRuleValue.setComponent("BYMONTH",a)),-1===n.byMonth.indexOf(r)&&n.byMonth.push(r),console.debug(n.recurrenceRuleValue._innerValue.toString())}},removeByMonthFromRecurrenceRule:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,r=t.byMonth;if(n.recurrenceRuleValue){console.debug("removeByMonthFromRecurrenceRule",r);var a=n.recurrenceRuleValue.getComponent("BYMONTH"),o=a.indexOf(r);-1!==o&&(a.splice(o,1),n.recurrenceRuleValue.setComponent("BYMONTH",a));var i=n.byMonth.indexOf(r);-1!==i&&n.byMonth.splice(i,1),console.debug(n.recurrenceRuleValue._innerValue.toString())}},changeRecurrenceByDay:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,a=t.byDay;n.recurrenceRuleValue&&(n.recurrenceRuleValue.setComponent("BYDAY",a),r.default.set(n,"byDay",a),console.debug(n.recurrenceRuleValue._innerValue.toString()))},changeRecurrenceBySetPosition:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule,a=t.bySetPosition;n.recurrenceRuleValue&&(n.recurrenceRuleValue.setComponent("BYSETPOS",[a]),r.default.set(n,"bySetPosition",a),console.debug(n.recurrenceRuleValue._innerValue.toString()))},unsetRecurrenceBySetPosition:function(e,t){t.calendarObjectInstance;var n=t.recurrenceRule;n.recurrenceRuleValue&&(n.recurrenceRuleValue.setComponent("BYSETPOS",[]),r.default.set(n,"bySetPosition",null),console.debug(n.recurrenceRuleValue._innerValue.toString()))},removeRecurrenceRuleFromCalendarObjectInstance:function(e,t){var n=t.calendarObjectInstance,a=t.recurrenceRule;a.recurrenceRuleValue&&(n.eventComponent.deleteAllProperties("RRULE"),r.default.set(n,"recurrenceRule",(0,l._F)().recurrenceRule),console.debug(n),console.debug(a))},addRecurrenceRuleFromCalendarObjectInstance:function(e,t){var n=t.calendarObjectInstance,r=i.Ze.fromData({}),a=new i.Z9("RRULE",r);n.eventComponent.addProperty(a),n.recurrenceRule.recurrenceRuleValue=r},markRecurrenceRuleAsSupported:function(e,t){t.calendarObjectInstance;t.recurrenceRule.isUnsupported=!1},changeAlarmType:function(e,t){t.calendarObjectInstance;var n=t.alarm,r=t.type;n.alarmComponent&&(n.alarmComponent.action=r,n.type=r,console.debug(n.alarmComponent.toICALJs().toString()))},changeAlarmAmountTimed:function(e,t){t.calendarObjectInstance;var n=t.alarm,r=t.amount;n.alarmComponent&&(n.alarmComponent.trigger.value.totalSeconds=(0,u.IP)(r,n.relativeUnitTimed,n.relativeIsBefore),n.relativeAmountTimed=r,n.relativeTrigger=n.alarmComponent.trigger.value.totalSeconds,console.debug(n.alarmComponent.toICALJs().toString()))},changeAlarmUnitTimed:function(e,t){t.calendarObjectInstance;var n=t.alarm,r=t.unit;n.alarmComponent&&(n.alarmComponent.trigger.value.totalSeconds=(0,u.IP)(n.relativeAmountTimed,r,n.relativeIsBefore),n.relativeUnitTimed=r,n.relativeTrigger=n.alarmComponent.trigger.value.totalSeconds,console.debug(n.alarmComponent.toICALJs().toString()))},changeAlarmAmountAllDay:function(e,t){t.calendarObjectInstance;var n=t.alarm,r=t.amount;n.alarmComponent&&(n.alarmComponent.trigger.value.totalSeconds=(0,u.mV)(r,n.relativeHoursAllDay,n.relativeMinutesAllDay,n.relativeUnitAllDay),n.relativeAmountAllDay=r,n.relativeTrigger=n.alarmComponent.trigger.value.totalSeconds,console.debug(n.alarmComponent.toICALJs().toString()))},changeAlarmUnitAllDay:function(e,t){t.calendarObjectInstance;var n=t.alarm,r=t.unit;n.alarmComponent&&(n.alarmComponent.trigger.value.totalSeconds=(0,u.mV)(n.relativeAmountAllDay,n.relativeHoursAllDay,n.relativeMinutesAllDay,r),n.relativeUnitAllDay=r,n.relativeTrigger=n.alarmComponent.trigger.value.totalSeconds,console.debug(n.alarmComponent.toICALJs().toString()))},changeAlarmHoursMinutesAllDay:function(e,t){t.calendarObjectInstance;var n=t.alarm,r=t.hours,a=t.minutes;n.alarmComponent&&(n.alarmComponent.trigger.value.totalSeconds=(0,u.mV)(n.relativeAmountAllDay,r,a,n.relativeUnitAllDay),n.relativeHoursAllDay=r,n.relativeMinutesAllDay=a,n.relativeTrigger=n.alarmComponent.trigger.value.totalSeconds,console.debug(n.alarmComponent.toICALJs().toString()))},changeAlarmAbsoluteDate:function(e,t){t.calendarObjectInstance;var n=t.alarm,r=t.date;n.alarmComponent&&(n.alarmComponent.trigger.value.year=r.getFullYear(),n.alarmComponent.trigger.value.month=r.getMonth()+1,n.alarmComponent.trigger.value.day=r.getDate(),n.alarmComponent.trigger.value.hour=r.getHours(),n.alarmComponent.trigger.value.minute=r.getMinutes(),n.alarmComponent.trigger.value.second=0,n.absoluteDate=r,console.debug(n.alarmComponent.toICALJs().toString()))},changeAlarmAbsoluteTimezoneId:function(e,t){t.calendarObjectInstance;var n=t.alarm,r=t.timezoneId;if(n.alarmComponent){var o=(0,a.Z)().getTimezoneForId(r);n.alarmComponent.trigger.value.replaceTimezone(o),n.absoluteTimezoneId=r,console.debug(n.alarmComponent.toICALJs().toString())}},changeAlarmFromRelativeToAbsolute:function(e,t){var n=t.calendarObjectInstance,r=t.alarm;if(r.alarmComponent){var a=n.eventComponent.startDate.clone();a.isDate=!1,a.addDuration(r.alarmComponent.trigger.value),r.alarmComponent.setTriggerFromAbsolute(a),r.absoluteDate=(0,o.nZ)(r.alarmComponent.trigger.value),r.absoluteTimezoneId=r.alarmComponent.trigger.value.timezoneId,console.debug(r.alarmComponent.toICALJs().toString())}},changeAlarmFromAbsoluteToRelative:function(e,t){var n=t.calendarObjectInstance,r=t.alarm;if(r.alarmComponent){var a=r.alarmComponent.trigger.value.subtractDateWithTimezone(n.eventComponent.startDate);r.alarmComponent.setTriggerFromRelative(a),r.relativeIsBefore=r.alarmComponent.trigger.value.isNegative,r.relativeIsRelatedToStart=!0,r.relativeTrigger=a.totalSeconds}},resetAlarmRelativeParts:function(e,t){var n=t.alarm;n.relativeIsBefore=null,n.relativeIsRelatedToStart=null,n.relativeUnitTimed=null,n.relativeAmountTimed=null,n.relativeUnitAllDay=null,n.relativeAmountAllDay=null,n.relativeHoursAllDay=null,n.relativeMinutesAllDay=null,n.relativeTrigger=null},resetAlarmAbsoluteParts:function(e,t){var n=t.alarm;n.absoluteDate=null,n.absoluteTimezoneId=null},updateAlarmAllDayParts:function(e,t){t.calendarObjectInstance;var n=t.alarm;if(n.alarmComponent){var r=n.alarmComponent.trigger.value.totalSeconds,a=(0,u.cB)(r);n.relativeUnitAllDay=a.unit,n.relativeAmountAllDay=a.amount,n.relativeHoursAllDay=a.hours,n.relativeMinutesAllDay=a.minutes}},updateAlarmTimedParts:function(e,t){t.calendarObjectInstance;var n=t.alarm;if(n.alarmComponent){var r=n.alarmComponent.trigger.value.totalSeconds,a=(0,u.Yg)(r);n.relativeUnitTimed=a.unit,n.relativeAmountTimed=a.amount,console.debug(n.alarmComponent.toICALJs().toString())}},addAlarmToCalendarObjectInstance:function(e,t){var n=t.calendarObjectInstance,r=t.type,a=t.totalSeconds;if(n.eventComponent){var o=n.eventComponent,c=i.iM.fromSeconds(a),l=o.addRelativeAlarm(r,c),u=(0,d.P)(l);n.alarms.push(u),console.debug(u.alarmComponent.toICALJs().toString())}},removeAlarmFromCalendarObjectInstance:function(e,t){var n=t.calendarObjectInstance,r=t.alarm;if(r.alarmComponent){n.eventComponent.removeAlarm(r.alarmComponent);var a=n.alarms.indexOf(r);-1!==a&&n.alarms.splice(a,1)}},addAttachmentBySharedData:function(e,t){var n=t.calendarObjectInstance,r=t.sharedData,a=i.gj.fromLink(r.url),o=r.fileName,c=new i.d2("FILENAME",o),l=new i.d2("X-NC-HAS-PREVIEW",r["has-preview"].toString()),u=new i.d2("X-NC-FILE-ID",r.fileid.toString()),s=new i.d2("X-NC-SHARED-TYPES",r["share-types"]["share-type"]?r["share-types"]["share-type"].join(","):"");a.setParameter(c),a.setParameter(u),a.setParameter(l),a.setParameter(s),a.isNew=!0,a.shareTypes=r["share-types"]["share-type"]?r["share-types"]["share-type"].join(","):"",a.fileName=o,a.xNcFileId=r.fileid,a.xNcHasPreview=r["has-preview"],a.formatType=r.getcontenttype,a.uri=r.url?r.url:(0,v.generateUrl)("/f/".concat(r.fileid)),n.eventComponent.addProperty(a),n.attachments.push(a)},addAttachmentWithProperty:function(e,t){var n,r,a,o,c,l,u=t.calendarObjectInstance,s=t.sharedData,d={},f=s.fileName;d.isNew=!0,d.shareTypes=null!==(n="number"==typeof(null==s||null===(r=s["share-types"])||void 0===r?void 0:r["share-type"])?null==s||null===(a=s["share-types"])||void 0===a||null===(o=a["share-type"])||void 0===o?void 0:o.toString():null==s||null===(c=s["share-types"])||void 0===c||null===(l=c["share-type"])||void 0===l?void 0:l.join(","))&&void 0!==n?n:null,d.fileName=f,d.xNcFileId=s.fileid,d.xNcHasPreview=s["has-preview"],d.formatType=s.getcontenttype,d.uri=s.url?s.url:(0,v.generateUrl)("/f/".concat(s.fileid));var m=i.gj.fromLink(d.uri,d.formatType),p=new i.d2("FILENAME",f),h=new i.d2("X-NC-HAS-PREVIEW",d.xNcHasPreview.toString()),y=new i.d2("X-NC-FILE-ID",d.xNcFileId.toString());if(null!==d.shareTypes){var g=new i.d2("X-NC-SHARED-TYPES",d.shareTypes);m.setParameter(g)}m.setParameter(p),m.setParameter(y),m.setParameter(h),m.uri=d.uri,d.attachmentProperty=m,u.eventComponent.addProperty(m),u.attachments.push(d)},deleteAttachment:function(e,t){var n=t.calendarObjectInstance,r=t.attachment;try{var a=n.attachments.indexOf(r);-1!==a&&n.attachments.splice(a,1),n.eventComponent.removeAttachment(r.attachmentProperty)}catch(e){}}},C={resolveClosestRecurrenceIdForCalendarObject:function(e,t){return _(w().mark((function n(){var r,a,o,c,l,u,s;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.state,r=e.dispatch,e.commit,a=t.objectId,o=t.closeToDate,n.next=4,r("getEventByObjectId",{objectId:a});case 4:return c=n.sent,l=c.calendarComponent.getVObjectIterator(),u=l.next().value,s=i.ul.fromJSDate(o,!0),n.abrupt("return",u.recurrenceManager.getClosestOccurrence(s).getReferenceRecurrenceId().unixTime);case 9:case"end":return n.stop()}}),n)})))()},getCalendarObjectInstanceByObjectIdAndRecurrenceId:function(e,t){return _(w().mark((function n(){var r,a,o,i,c,u,s,d,m;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,a=e.dispatch,o=e.commit,i=t.objectId,c=t.recurrenceId,r.existingEvent.objectId!==i||r.existingEvent.recurrenceId!==c){n.next=4;break}return n.abrupt("return",Promise.resolve({calendarObject:r.calendarObject,calendarObjectInstance:r.calendarObjectInstance}));case 4:return u=new Date(1e3*c),n.next=7,a("getEventByObjectId",{objectId:i});case 7:if(s=n.sent,null!==(d=(0,f.f)(s,u))){n.next=11;break}throw new Error("Not a valid recurrence-id");case 11:return m=(0,l.QX)(d),o("setCalendarObjectInstanceForExistingEvent",{calendarObject:s,calendarObjectInstance:m,objectId:i,recurrenceId:c}),n.abrupt("return",{calendarObject:s,calendarObjectInstance:m});case 14:case"end":return n.stop()}}),n)})))()},getCalendarObjectInstanceForNewEvent:function(e,t){return _(w().mark((function n(){var r,a,o,i,c,u,s,d,v,y,g,b,j,_;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,a=e.dispatch,o=e.commit,i=t.isAllDay,c=t.start,u=t.end,s=t.timezoneId,!0!==r.isNew){n.next=4;break}return n.abrupt("return",Promise.resolve({calendarObject:r.calendarObject,calendarObjectInstance:r.calendarObjectInstance}));case 4:return n.next=6,a("createNewEvent",{start:c,end:u,isAllDay:i,timezoneId:s});case 6:return d=n.sent,v=new Date(1e3*c),y=(0,f.f)(d,v),g=(0,l.QX)(y),b=parseInt(p.Z.state.defaultReminder),isNaN(b)||(o("addAlarmToCalendarObjectInstance",{calendarObjectInstance:g,type:"DISPLAY",totalSeconds:b}),m.ZP.debug("Added defaultReminder (".concat(b,"s) to newly created event"))),j=(0,h.w)(),_=j.status.defaultValue,o("changeStatus",{calendarObjectInstance:g,status:_}),o("setCalendarObjectInstanceForNewEvent",{calendarObject:d,calendarObjectInstance:g}),n.abrupt("return",{calendarObject:d,calendarObjectInstance:g});case 17:case"end":return n.stop()}}),n)})))()},updateCalendarObjectInstanceForNewEvent:function(e,t){return _(w().mark((function n(){var r,a,o,i,c,l,u;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,o=e.commit,i=t.isAllDay,c=t.start,l=t.end,u=t.timezoneId,n.next=4,a("updateTimeOfNewEvent",{calendarObjectInstance:r.calendarObjectInstance,start:c,end:l,isAllDay:i,timezoneId:u});case 4:return o("setCalendarObjectInstanceForNewEvent",{calendarObject:r.calendarObject,calendarObjectInstance:r.calendarObjectInstance}),n.abrupt("return",{calendarObject:r.calendarObject,calendarObjectInstance:r.calendarObjectInstance});case 6:case"end":return n.stop()}}),n)})))()},saveCalendarObjectInstance:function(e,t){return _(w().mark((function n(){var r,a,o,i,c,l,s,d,f,m,p;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,a=e.dispatch,e.commit,o=t.thisAndAllFuture,i=t.calendarId,c=r.calendarObjectInstance.eventComponent,l=r.calendarObject,(0,u.oG)(c),(0,y.jv)(c),!c.isDirty()){n.next=16;break}return s=null!==c.primaryItem,d=null,f=null,s&&c.canCreateRecurrenceExceptions()&&(m=c.createRecurrenceException(o),p=b(m,2),d=p[0],f=p[1]),n.next=13,a("updateCalendarObject",{calendarObject:l});case 13:if(null===d||null===f||d.root===f.root){n.next=16;break}return n.next=16,a("createCalendarObjectFromFork",{eventComponent:f,calendarId:i});case 16:if(i===r.calendarObject.calendarId){n.next=19;break}return n.next=19,a("moveCalendarObject",{calendarObject:l,newCalendarId:i});case 19:case"end":return n.stop()}}),n)})))()},duplicateCalendarObjectInstance:function(e){return _(w().mark((function t(){var n,r,a,o,i,c,u,s,d,m;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=e.dispatch,a=e.commit,o=n.calendarObjectInstance,i=o.eventComponent,c=i.startDate.getInUTC(),u=i.endDate.getInUTC(),t.next=7,r("createNewEvent",{start:c.unixTime,end:u.unixTime,timezoneId:i.startDate.timezoneId,isAllDay:i.isAllDay()});case 7:return s=t.sent,d=(0,f.f)(s,c.jsDate),(0,l.H4)(o,d),m=(0,l.QX)(d),t.next=13,a("setCalendarObjectInstanceForNewEvent",{calendarObject:s,calendarObjectInstance:m});case 13:case"end":return t.stop()}}),t)})))()},deleteCalendarObjectInstance:function(e,t){return _(w().mark((function n(){var r,a,o,i,c,l;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,a=e.dispatch,e.commit,o=t.thisAndAllFuture,i=r.calendarObjectInstance.eventComponent,c=i.removeThisOccurrence(o),l=r.calendarObject,!c){n.next=10;break}return n.next=8,a("deleteCalendarObject",{calendarObject:l});case 8:n.next=12;break;case 10:return n.next=12,a("updateCalendarObject",{calendarObject:l});case 12:case"end":return n.stop()}}),n)})))()},changeStartDate:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.startDate,o=a.getTime()-r.startDate.getTime(),i=new Date(r.endDate.getTime()+o);n("changeStartDate",{calendarObjectInstance:r,startDate:a}),n("changeEndDate",{calendarObjectInstance:r,endDate:i})},changeStartTimezone:function(e,t){var n=e.commit,r=t.calendarObjectInstance;n("changeStartTimezone",{calendarObjectInstance:r,startTimezone:t.startTimezone}),n("changeStartDate",{calendarObjectInstance:r,startDate:r.startDate})},changeEndTimezone:function(e,t){var n=e.commit,r=t.calendarObjectInstance;n("changeEndTimezone",{calendarObjectInstance:r,endTimezone:t.endTimezone}),n("changeEndDate",{calendarObjectInstance:r,endDate:r.endDate})},changeRecurrenceFrequency:function(e,t){var n=e.commit,r=e.dispatch,a=t.calendarObjectInstance,o=t.recurrenceRule,i=t.frequency;console.debug(a),console.debug(o),console.debug(i),"NONE"===o.frequency&&"NONE"!==i?(n("addRecurrenceRuleFromCalendarObjectInstance",{calendarObjectInstance:a}),n("resetRecurrenceByParts",{calendarObjectInstance:a,recurrenceRule:o}),n("changeRecurrenceFrequency",{calendarObjectInstance:a,recurrenceRule:a.recurrenceRule,frequency:i}),n("changeRecurrenceInterval",{calendarObjectInstance:a,recurrenceRule:a.recurrenceRule,interval:1}),n("changeRecurrenceToInfinite",{calendarObjectInstance:a,recurrenceRule:a.recurrenceRule}),r("setDefaultRecurrenceByParts",{calendarObjectInstance:a,recurrenceRule:o,frequency:i}),console.debug("changed from none to ".concat(i))):"NONE"!==o.frequency&&"NONE"===i?(console.debug("calling removeRecurrenceRuleFromCalendarObjectInstance"),n("removeRecurrenceRuleFromCalendarObjectInstance",{calendarObjectInstance:a,recurrenceRule:o})):(n("resetRecurrenceByParts",{calendarObjectInstance:a,recurrenceRule:o}),n("changeRecurrenceFrequency",{calendarObjectInstance:a,recurrenceRule:a.recurrenceRule,frequency:i}),r("setDefaultRecurrenceByParts",{calendarObjectInstance:a,recurrenceRule:o,frequency:i}))},setDefaultRecurrenceByParts:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.recurrenceRule;switch(t.frequency){case"WEEKLY":n("setDefaultRecurrenceByPartsForWeekly",{calendarObjectInstance:r,recurrenceRule:a});break;case"MONTHLY":n("setDefaultRecurrenceByPartsForMonthly",{calendarObjectInstance:r,recurrenceRule:a});break;case"YEARLY":n("setDefaultRecurrenceByPartsForYearly",{calendarObjectInstance:r,recurrenceRule:a})}},setRecurrenceToInfinite:function(e,t){(0,e.commit)("changeRecurrenceToInfinite",{calendarObjectInstance:t.calendarObjectInstance,recurrenceRule:t.recurrenceRule})},changeMonthlyRecurrenceFromByDayToBySetPosition:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.recurrenceRule;console.debug("changeMonthlyRecurrenceFromByDayToBySetPosition"),n("resetRecurrenceByParts",{calendarObjectInstance:r,recurrenceRule:a}),n("setDefaultRecurrenceByPartsForMonthlyBySetPosition",{calendarObjectInstance:r,recurrenceRule:a})},changeMonthlyRecurrenceFromBySetPositionToByDay:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.recurrenceRule;console.debug("changeMonthlyRecurrenceFromBySetPositionToByDay"),n("resetRecurrenceByParts",{calendarObjectInstance:r,recurrenceRule:a}),n("setDefaultRecurrenceByPartsForMonthly",{calendarObjectInstance:r,recurrenceRule:a})},enableYearlyRecurrenceBySetPosition:function(e,t){(0,e.commit)("setDefaultRecurrenceByPartsForMonthlyBySetPosition",{calendarObjectInstance:t.calendarObjectInstance,recurrenceRule:t.recurrenceRule})},disableYearlyRecurrenceBySetPosition:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.recurrenceRule;n("changeRecurrenceByDay",{calendarObjectInstance:r,recurrenceRule:a,byDay:[]}),n("unsetRecurrenceBySetPosition",{calendarObjectInstance:r,recurrenceRule:a})},enableRecurrenceLimitByUntil:function(e,t){var n,r=e.commit,a=t.calendarObjectInstance,o=t.recurrenceRule;switch(o.frequency){case"DAILY":n=new Date(a.startDate.getTime()+6048e5);break;case"WEEKLY":n=new Date(a.startDate.getTime()+24192e5);break;case"YEARLY":n=new Date(a.startDate.getFullYear()+10,a.startDate.getMonth(),a.startDate.getDate(),23,59,59);break;default:n=new Date(a.startDate.getFullYear()+1,a.startDate.getMonth(),a.startDate.getDate(),23,59,59)}r("changeRecurrenceToInfinite",{calendarObjectInstance:a,recurrenceRule:o}),r("changeRecurrenceUntil",{calendarObjectInstance:a,recurrenceRule:o,until:n})},enableRecurrenceLimitByCount:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.recurrenceRule;n("changeRecurrenceToInfinite",{calendarObjectInstance:r,recurrenceRule:a}),n("changeRecurrenceCount",{calendarObjectInstance:r,recurrenceRule:a,count:2})},changeAlarmAmountTimed:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.alarm;n("changeAlarmAmountTimed",{calendarObjectInstance:r,alarm:a,amount:t.amount}),n("updateAlarmAllDayParts",{calendarObjectInstance:r,alarm:a})},changeAlarmUnitTimed:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.alarm;n("changeAlarmUnitTimed",{calendarObjectInstance:r,alarm:a,unit:t.unit}),n("updateAlarmAllDayParts",{calendarObjectInstance:r,alarm:a})},changeAlarmAmountAllDay:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.alarm;n("changeAlarmAmountAllDay",{calendarObjectInstance:r,alarm:a,amount:t.amount}),n("updateAlarmTimedParts",{calendarObjectInstance:r,alarm:a})},changeAlarmUnitAllDay:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.alarm;n("changeAlarmUnitAllDay",{calendarObjectInstance:r,alarm:a,unit:t.unit}),n("updateAlarmTimedParts",{calendarObjectInstance:r,alarm:a})},changeAlarmHoursMinutesAllDay:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.alarm;n("changeAlarmHoursMinutesAllDay",{calendarObjectInstance:r,alarm:a,hours:t.hours,minutes:t.minutes}),n("updateAlarmTimedParts",{calendarObjectInstance:r,alarm:a})},changeAlarmFromRelativeToAbsolute:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.alarm;n("changeAlarmFromRelativeToAbsolute",{calendarObjectInstance:r,alarm:a}),n("resetAlarmRelativeParts",{alarm:a})},changeAlarmFromAbsoluteToRelative:function(e,t){var n=e.commit,r=t.calendarObjectInstance,a=t.alarm;n("changeAlarmFromAbsoluteToRelative",{calendarObjectInstance:r,alarm:a}),n("updateAlarmAllDayParts",{calendarObjectInstance:r,alarm:a}),n("updateAlarmTimedParts",{calendarObjectInstance:r,alarm:a}),n("resetAlarmAbsoluteParts",{alarm:a})},toggleAllDay:function(e,t){var n=e.commit,r=e.getters,a=t.calendarObjectInstance;if(n("toggleAllDay",{calendarObjectInstance:a}),!a.isAllDay){if("floating"===a.startTimezoneId)n("changeStartTimezone",{calendarObjectInstance:a,startTimezone:r.getResolvedTimezone});n("changeTimeToDefaultForTimedEvents",{calendarObjectInstance:a})}}};const E={state:{isNew:null,calendarObject:null,calendarObjectInstance:null,existingEvent:{objectId:null,recurrenceId:null}},mutations:x,getters:{},actions:C}},83e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(20144),a=n(96690),o=n(75357),i=n(59491);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};s(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,o)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,l){var u=f(e[r],e,o);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),s(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(d(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),s(w,u,"Generator"),s(w,o,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function u(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,c,"next",e)}function c(e){u(o,r,a,i,c,"throw",e)}i(void 0)}))}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={appendCalendarObjects:function(e,t){var n,a=t.calendarObjects,o=d(void 0===a?[]:a);try{for(o.s();!(n=o.n()).done;){var i=n.value;e.calendarObjects[i.id]||r.default.set(e.calendarObjects,i.id,i)}}catch(e){o.e(e)}finally{o.f()}},appendCalendarObject:function(e,t){var n=t.calendarObject;e.calendarObjects[n.id]||r.default.set(e.calendarObjects,n.id,n)},updateCalendarObjectId:function(e,t){var n=t.calendarObject;null===n.dav?n.id=null:n.id=btoa(n.dav.url)},updateCalendarObjectIdCalendarId:function(e,t){var n=t.calendarObjectId,r=t.calendarId;e.calendarObjects[n].calendarId=r},resetCalendarObjectToDav:function(e,t){var n=t.calendarObject;if((n=e.calendarObjects[n.id])&&n.existsOnServer){var r=(0,i.wJ)().getParserForFileType("text/calendar");r.parse(n.dav.data);var a=r.getItemIterator().next().value;a&&(n.calendarComponent=a)}},deleteCalendarObject:function(e,t){var n=t.calendarObject;r.default.delete(e.calendarObjects,n.id)},incrementModificationCount:function(e){e.modificationCount++}};const p={state:{calendarObjects:{},modificationCount:0},mutations:m,getters:{getCalendarObjectById:function(e){return function(t){return e.calendarObjects[t]}}},actions:{moveCalendarObject:function(e,t){return s(l().mark((function n(){var r,a,i,c,u;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.calendarObject,a=t.newCalendarId,r.existsOnServer){n.next=3;break}return n.abrupt("return");case 3:if(i=r.id,(c=r.calendarId)!==a){n.next=8;break}return o.ZP.error("Old calendar Id and new calendar Id are the same, nothing to move"),n.abrupt("return");case 8:if(u=e.getters.getCalendarById(a)){n.next=12;break}return o.ZP.error("Calendar to move to not found, aborting"),n.abrupt("return");case 12:return n.next=14,r.dav.move(u.dav);case 14:e.commit("updateCalendarObjectIdCalendarId",{calendarObjectId:r.id,calendarId:a}),e.commit("addCalendarObjectToCalendar",{calendar:{id:a},calendarObjectId:r.id}),e.commit("addCalendarObjectIdToAllTimeRangesOfCalendar",{calendarId:a,calendarObjectId:r.id}),e.commit("deleteCalendarObjectFromCalendar",{calendar:{id:c},calendarObjectId:i}),e.commit("removeCalendarObjectIdFromAllTimeRangesOfCalendar",{calendarId:c,calendarObjectId:i}),e.commit("incrementModificationCount");case 20:case"end":return n.stop()}}),n)})))()},updateCalendarObject:function(e,t){return s(l().mark((function n(){var r,a;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=t.calendarObject).existsOnServer){n.next=8;break}return r.dav.data=r.calendarComponent.toICS(),n.next=5,r.dav.update();case 5:return e.commit("addCalendarObjectIdToAllTimeRangesOfCalendar",{calendarId:r.calendarId,calendarObjectId:r.id}),e.commit("incrementModificationCount"),n.abrupt("return");case 8:return a=e.getters.getCalendarById(r.calendarId),n.next=11,a.dav.createVObject(r.calendarComponent.toICS());case 11:r.dav=n.sent,r.existsOnServer=!0,e.commit("updateCalendarObjectId",{calendarObject:r}),e.commit("appendCalendarObject",{calendarObject:r}),e.commit("addCalendarObjectToCalendar",{calendar:{id:r.calendarId},calendarObjectId:r.id}),e.commit("addCalendarObjectIdToAllTimeRangesOfCalendar",{calendarId:r.calendarId,calendarObjectId:r.id}),e.commit("resetCalendarObjectToDav",{calendarObject:r}),e.commit("incrementModificationCount");case 19:case"end":return n.stop()}}),n)})))()},createCalendarObjectFromFork:function(e,t){return s(l().mark((function n(){var r,o,i,c;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.eventComponent,o=t.calendarId,i=e.getters.getCalendarById(o),c=(0,a.Vw)(r.root,i.id),n.next=5,i.dav.createVObject(c.calendarComponent.toICS());case 5:c.dav=n.sent,c.existsOnServer=!0,e.commit("updateCalendarObjectId",{calendarObject:c}),e.commit("appendCalendarObject",{calendarObject:c}),e.commit("addCalendarObjectToCalendar",{calendar:{id:c.calendarId},calendarObjectId:c.id}),e.commit("addCalendarObjectIdToAllTimeRangesOfCalendar",{calendarId:i.id,calendarObjectId:c.id}),e.commit("incrementModificationCount");case 12:case"end":return n.stop()}}),n)})))()},deleteCalendarObject:function(e,t){return s(l().mark((function n(){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=t.calendarObject).existsOnServer){n.next=4;break}return n.next=4,r.dav.delete();case 4:e.commit("deleteCalendarObject",{calendarObject:r}),e.commit("deleteCalendarObjectFromCalendar",{calendar:{id:r.calendarId},calendarObjectId:r.id}),e.commit("removeCalendarObjectIdFromAnyTimeRange",{calendarObjectId:r.id}),e.commit("incrementModificationCount");case 8:case"end":return n.stop()}}),n)})))()},createNewEvent:function(e,t){var n=t.start,r=t.end,o=t.timezoneId,c=t.isAllDay,l=(0,i.ko)().getTimezoneForId(o),u=new Date(1e3*n),s=new Date(1e3*r),f=i.ul.fromJSDate(u,!0).getInTimezone(l),m=i.ul.fromJSDate(s,!0).getInTimezone(l);c&&(f.isDate=!0,m.isDate=!0);var p,h=(0,i.yM)(f,m),v=d(h.getVObjectIterator());try{for(v.s();!(p=v.n()).done;){p.value.undirtify()}}catch(e){v.e(e)}finally{v.f()}var y=e.getters.sortedCalendars[0].id;return Promise.resolve((0,a.Vw)(h,y))},updateTimeOfNewEvent:function(e,t){var n=e.commit,r=e.dispatch,a=t.calendarObjectInstance,o=t.start,i=t.end,c=t.timezoneId,l=t.isAllDay,u=a.eventComponent.isDirty(),s=new Date(1e3*o),d=new Date(1e3*i);a.isAllDay!==l&&n("toggleAllDay",{calendarObjectInstance:a}),r("changeStartTimezone",{calendarObjectInstance:a,startTimezone:c}),r("changeEndTimezone",{calendarObjectInstance:a,endTimezone:c}),n("changeStartDate",{calendarObjectInstance:a,startDate:s}),n("changeEndDate",l?{calendarObjectInstance:a,endDate:new Date(d.getTime()-864e5)}:{calendarObjectInstance:a,endDate:d}),u||a.eventComponent.undirtify()}}}},77800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(20144),a=n(2323),o=n(96690),i=n(15558),c=n(37494),l=n(98448),u=n(62768),s=n(31352),d=n(54782),f=n(59491),m=n(59055),p=n(64024);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var y={};l(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,o)&&(y=b);var w=p.prototype=f.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==h(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,r(w,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),l(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),l(w,c,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function y(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,c,"next",e)}function c(e){y(o,r,a,i,c,"throw",e)}i(void 0)}))}}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O={addCalendar:function(e,t){var n=t.calendar,a=(0,c.J)(n);e.calendars.some((function(e){return e.id===a.id}))||e.calendars.push(a),r.default.set(e.calendarsById,a.id,a)},addTrashBin:function(e,t){var n=t.trashBin;e.trashBin=n},addScheduleInbox:function(e,t){var n=t.scheduleInbox;e.scheduleInbox=n},addDeletedCalendar:function(e,t){var n=t.calendar;e.deletedCalendars.some((function(e){return e.url===n.url}))||e.deletedCalendars.push(n)},removeDeletedCalendar:function(e,t){var n=t.calendar;e.deletedCalendars=e.deletedCalendars.filter((function(e){return e!==n}))},removeDeletedCalendarObject:function(e,t){var n=t.vobject;e.deletedCalendarObjects=e.deletedCalendarObjects.filter((function(e){return e.id!==n.id}))},addDeletedCalendarObject:function(e,t){var n=t.vobject;e.deletedCalendarObjects.some((function(e){return e.uri===n.uri}))||e.deletedCalendarObjects.push(n)},deleteCalendar:function(e,t){var n=t.calendar;e.calendars.splice(e.calendars.indexOf(n),1),r.default.delete(e.calendarsById,n.id)},toggleCalendarEnabled:function(e,t){var n=t.calendar;e.calendarsById[n.id].enabled=!e.calendarsById[n.id].enabled},renameCalendar:function(e,t){var n=t.calendar,r=t.newName;e.calendarsById[n.id].displayName=r},changeCalendarColor:function(e,t){var n=t.calendar,r=t.newColor;e.calendarsById[n.id].color=r},changeCalendarOrder:function(e,t){var n=t.calendar,r=t.newOrder;e.calendarsById[n.id].order=r},appendCalendarObjectsToCalendar:function(e,t){var n,r=t.calendar,a=j(t.calendarObjectIds);try{for(a.s();!(n=a.n()).done;){var o=n.value;-1===e.calendarsById[r.id].calendarObjects.indexOf(o)&&e.calendarsById[r.id].calendarObjects.push(o)}}catch(e){a.e(e)}finally{a.f()}},addCalendarObjectToCalendar:function(e,t){var n=t.calendar,r=t.calendarObjectId;-1===e.calendarsById[n.id].calendarObjects.indexOf(r)&&e.calendarsById[n.id].calendarObjects.push(r)},deleteCalendarObjectFromCalendar:function(e,t){var n=t.calendar,r=t.calendarObjectId,a=e.calendarsById[n.id].calendarObjects.indexOf(r);-1!==a&&e.calendarsById[n.id].calendarObjects.slice(a,1)},addFetchedTimeRangeToCalendar:function(e,t){var n=t.calendar,r=t.fetchedTimeRangeId;e.calendarsById[n.id].fetchedTimeRanges.push(r)},deleteFetchedTimeRangeFromCalendar:function(e,t){var n=t.calendar,r=t.fetchedTimeRangeId,a=e.calendarsById[n.id].fetchedTimeRanges.indexOf(r);-1!==a&&e.calendarsById[n.id].fetchedTimeRanges.slice(a,1)},shareCalendar:function(e,t){var n=t.calendar,r=t.user,a=t.displayName,o=t.uri,i={displayName:a,id:r,writeable:!1,isGroup:t.isGroup,isCircle:t.isCircle,uri:o};e.calendarsById[n.id].shares.push(i)},unshareCalendar:function(e,t){var n=t.calendar,r=t.uri,a=(n=e.calendars.find((function(e){return e.id===n.id}))).shares.findIndex((function(e){return e.uri===r}));n.shares.splice(a,1)},toggleCalendarShareWritable:function(e,t){var n=t.calendar,r=t.uri,a=(n=e.calendars.find((function(e){return e.id===n.id}))).shares.find((function(e){return e.uri===r}));a.writeable=!a.writeable},publishCalendar:function(e,t){var n=t.calendar,r=t.publishURL;(n=e.calendars.find((function(e){return e.id===n.id}))).publishURL=r},unpublishCalendar:function(e,t){var n=t.calendar;(n=e.calendars.find((function(e){return e.id===n.id}))).publishURL=null},initialCalendarsLoaded:function(e){e.initialCalendarsLoaded=!0},markCalendarAsLoading:function(e,t){var n=t.calendar;e.calendarsById[n.id].loading=!0},markCalendarAsNotLoading:function(e,t){var n=t.calendar;e.calendarsById[n.id].loading=!1},showEditCalendarModal:function(e,t){var n=t.calendarId;e.editCalendarModal={calendarId:n}},hideEditCalendarModal:function(e){e.editCalendarModal=void 0},setCalendarDeleteCountdown:function(e,t){var n=t.calendar,a=t.countdown;r.default.set(e.calendarsById[n.id],"countdown",a)},setCalendarDeleteHandles:function(e,t){var n=t.calendar,a=t.deleteTimeout,o=t.deleteInterval;r.default.set(e.calendarsById[n.id],"deleteTimeout",a),r.default.set(e.calendarsById[n.id],"deleteInterval",o)}},I={sortedCalendarsSubscriptions:function(e,t,n){return e.calendars.filter((function(e){return e.supportsEvents||n.settings.showTasks&&e.supportsTasks})).sort((function(e,t){return e.order-t.order}))},sortedCalendars:function(e){return e.calendars.filter((function(e){return e.supportsEvents})).filter((function(e){return!e.readOnly})).sort((function(e,t){return e.order-t.order}))},ownSortedCalendars:function(e){return e.calendars.filter((function(e){return e.supportsEvents})).filter((function(e){return!e.readOnly})).filter((function(e){return!e.isSharedWithMe})).sort((function(e,t){return e.order-t.order}))},hasTrashBin:function(e){return void 0!==e.trashBin&&0!==e.trashBin.retentionDuration},trashBin:function(e){return e.trashBin},scheduleInbox:function(e){return e.scheduleInbox},sortedDeletedCalendars:function(e){return e.deletedCalendars.sort((function(e,t){return e.deletedAt-t.deletedAt}))},deletedCalendarObjects:function(e){var t={};return e.calendars.forEach((function(e){var n=e.url.replace(/\/$/,""),r=n.slice(n.lastIndexOf("/")+1);t[r]=e})),e.deletedCalendarObjects.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calendar:t[e.dav._props["{http://nextcloud.com/ns}calendar-uri"]]},e)}))},sortedSubscriptions:function(e){return e.calendars.filter((function(e){return e.supportsEvents})).filter((function(e){return e.readOnly})).sort((function(e,t){return e.order-t.order}))},enabledCalendars:function(e,t,n){return e.calendars.filter((function(e){return e.supportsEvents||n.settings.showTasks&&e.supportsTasks})).filter((function(e){return e.enabled}))},getCalendarById:function(e){return function(t){return e.calendarsById[t]}},getBirthdayCalendar:function(e){var t,n=j(e.calendars);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.url.slice(0,-1),o=a.lastIndexOf("/");if(a.slice(o+1)===m.On)return r}}catch(e){n.e(e)}finally{n.f()}return null},hasBirthdayCalendar:function(e,t){return!!t.getBirthdayCalendar},sortedCalendarFilteredByComponents:function(e,t){return function(e,n,r){return t.sortedCalendars.filter((function(t){return!(e&&!t.supportsEvents)&&(!(n&&!t.supportsJournals)&&!(r&&!t.supportsTasks))}))}},editCalendarModal:function(e){return e.editCalendarModal}},x={loadCollections:function(e){return g(v().mark((function t(){var n,r,o,i,l,u,s,d;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,o=e.getters,t.next=3,(0,a.Oq)();case 3:return i=t.sent,l=i.calendars,u=i.trashBins,s=i.scheduleInboxes,d=i.subscriptions,console.info("calendar home scanned",l,u,d),l.map((function(e){return(0,c.o)(e,o.getCurrentUserPrincipal)})).forEach((function(e){n("addCalendar",{calendar:e})})),u.length&&n("addTrashBin",{trashBin:u[0]}),s.length&&n("addScheduleInbox",{scheduleInbox:s[0]}),n("initialCalendarsLoaded"),t.abrupt("return",{calendars:r.calendars,trashBin:r.trashBin});case 14:case"end":return t.stop()}}),t)})))()},loadDeletedCalendars:function(e){return g(v().mark((function t(){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,(0,a.Dz)();case 3:t.sent.forEach((function(e){return n("addDeletedCalendar",{calendar:e})}));case 5:case"end":return t.stop()}}),t)})))()},loadDeletedCalendarObjects:function(e){return g(v().mark((function t(){var n,r,a;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.next=3,r.trashBin.findDeletedObjects();case 3:a=t.sent,console.info("vobjects loaded",{vobjects:a}),a.forEach((function(e){try{var t=(0,o.un)(e,void 0);n("addDeletedCalendarObject",{vobject:t})}catch(t){console.error("could not convert calendar object",e,t)}}));case 6:case"end":return t.stop()}}),t)})))()},getPublicCalendars:function(e,t){return g(v().mark((function n(){var r,o,i,l,u,s,d,f;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,o=t.tokens,n.next=4,(0,a.S3)(o);case 4:i=n.sent,l=[],u=j(i);try{for(u.s();!(s=u.n()).done;)d=s.value,f=(0,c.o)(d),r("addCalendar",{calendar:f}),l.push(f)}catch(e){u.e(e)}finally{u.f()}return r("initialCalendarsLoaded"),n.abrupt("return",l);case 10:case"end":return n.stop()}}),n)})))()},appendCalendar:function(e,t){return g(v().mark((function n(){var r,o,i,l,u,s,m,p,h,y,g,b;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.displayName,o=t.color,i=t.order,l=t.components,u=void 0===l?["VEVENT"]:l,s=t.timezone,null===(m=void 0===s?null:s)&&(m=e.getters.getResolvedTimezone),p=null,(h=(0,d.Z)().getTimezoneForId(m))!==f.ru.utc&&h!==f.ru.floating&&((y=f.eV.fromEmpty()).addComponent(f.Qy.fromICALJs(h.toICALJs())),p=y.toICS(!1)),n.next=7,(0,a.YR)(r,o,u,i,p);case 7:g=n.sent,b=(0,c.o)(g,e.getters.getCurrentUserPrincipal),e.commit("addCalendar",{calendar:b});case 10:case"end":return n.stop()}}),n)})))()},appendSubscription:function(e,t){return g(v().mark((function n(){var r,o,i,l,u,s;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.displayName,o=t.color,i=t.order,l=t.source,n.next=3,(0,a.XW)(r,o,l,i);case 3:u=n.sent,s=(0,c.o)(u,e.getters.getCurrentUserPrincipal),e.commit("addCalendar",{calendar:s});case 6:case"end":return n.stop()}}),n)})))()},deleteCalendar:function(e,t){return g(v().mark((function n(){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,n.next=3,r.dav.delete();case 3:e.commit("deleteCalendar",{calendar:r});case 4:case"end":return n.stop()}}),n)})))()},deleteCalendarPermanently:function(e,t){return g(v().mark((function n(){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,n.next=3,r.delete({"X-NC-CalDAV-No-Trashbin":1});case 3:e.commit("removeDeletedCalendar",{calendar:r});case 4:case"end":return n.stop()}}),n)})))()},deleteCalendarAfterTimeout:function(e,t){var n=t.calendar,r=t.countdown,a=void 0===r?7:r;e.commit("setCalendarDeleteCountdown",{calendar:n,countdown:a});var o=setInterval((function(){--a<0&&(a=0),e.commit("setCalendarDeleteCountdown",{calendar:n,countdown:a})}),1e3),i=setTimeout(g(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.dispatch("deleteCalendar",{calendar:n});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),(0,p.x2)((0,s.translate)("calendar","An error occurred, unable to delete the calendar.")),console.error(t.t0);case 9:return t.prev=9,clearInterval(o),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,5,9,12]])}))),7e3);e.commit("setCalendarDeleteHandles",{calendar:n,deleteInterval:o,deleteTimeout:i})},cancelCalendarDeletion:function(e,t){var n=t.calendar;n.deleteInterval&&clearInterval(n.deleteInterval),n.deleteTimeout&&clearTimeout(n.deleteTimeout),e.commit("setCalendarDeleteHandles",{calendar:n,deleteInterval:void 0,deleteTimeout:void 0})},restoreCalendar:function(e,t){return g(v().mark((function n(){var r,a,o;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,a=e.state,o=t.calendar,n.next=4,a.trashBin.restore(o.url);case 4:r("removeDeletedCalendar",{calendar:o});case 5:case"end":return n.stop()}}),n)})))()},restoreCalendarObject:function(e,t){return g(v().mark((function n(){var r,a,i,c,l,u,s,d,f;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.commit,c=e.state,l=e.getters,u=t.vobject,n.next=4,c.trashBin.restore(u.uri);case 4:i("removeDeletedCalendarObject",{vobject:u}),s=(0,o.un)(u.dav,void 0),d=s.calendarComponent.getFirstComponent(u.objectType),(f=l.getTimeRangeForCalendarCoveringRange(u.calendar.id,null===(r=d.startDate)||void 0===r?void 0:r.unixTime,null===(a=d.endDate)||void 0===a?void 0:a.unixTime))&&(i("deleteFetchedTimeRangeFromCalendar",{calendar:u.calendar,fetchedTimeRangeId:f.id}),i("removeTimeRange",{timeRangeId:f.id})),i("incrementModificationCount");case 10:case"end":return n.stop()}}),n)})))()},deleteCalendarObjectPermanently:function(e,t){return g(v().mark((function n(){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.vobject,n.next=3,r.dav.delete({"X-NC-CalDAV-No-Trashbin":1});case 3:e.commit("removeDeletedCalendarObject",{vobject:r});case 4:case"end":return n.stop()}}),n)})))()},toggleCalendarEnabled:function(e,t){return g(v().mark((function n(){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,e.commit("markCalendarAsLoading",{calendar:r}),r.dav.enabled=!r.dav.enabled,n.prev=3,n.next=6,r.dav.update();case 6:e.commit("markCalendarAsNotLoading",{calendar:r}),e.commit("toggleCalendarEnabled",{calendar:r}),n.next=14;break;case 10:throw n.prev=10,n.t0=n.catch(3),e.commit("markCalendarAsNotLoading",{calendar:r}),n.t0;case 14:case"end":return n.stop()}}),n,null,[[3,10]])})))()},renameCalendar:function(e,t){return g(v().mark((function n(){var r,a;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,a=t.newName,r.dav.displayname=a,n.next=4,r.dav.update();case 4:e.commit("renameCalendar",{calendar:r,newName:a});case 5:case"end":return n.stop()}}),n)})))()},changeCalendarColor:function(e,t){return g(v().mark((function n(){var r,a;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,a=t.newColor,r.dav.color=a,n.next=4,r.dav.update();case 4:e.commit("changeCalendarColor",{calendar:r,newColor:a});case 5:case"end":return n.stop()}}),n)})))()},shareCalendar:function(e,t){return g(v().mark((function n(){var r,a,o,i,c,l;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,a=t.user,o=t.displayName,i=t.uri,c=t.isGroup,l=t.isCircle,n.next=3,r.dav.share(i);case 3:e.commit("shareCalendar",{calendar:r,user:a,displayName:o,uri:i,isGroup:c,isCircle:l});case 4:case"end":return n.stop()}}),n)})))()},toggleCalendarShareWritable:function(e,t){return g(v().mark((function n(){var r,a,o;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,a=t.uri,o=r.shares.find((function(e){return e.uri===a})),n.next=4,r.dav.share(a,!o.writeable);case 4:e.commit("toggleCalendarShareWritable",{calendar:r,uri:a});case 5:case"end":return n.stop()}}),n)})))()},unshareCalendar:function(e,t){return g(v().mark((function n(){var r,a;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,a=t.uri,n.next=3,r.dav.unshare(a);case 3:e.commit("unshareCalendar",{calendar:r,uri:a});case 4:case"end":return n.stop()}}),n)})))()},publishCalendar:function(e,t){return g(v().mark((function n(){var r,a;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,n.next=3,r.dav.publish();case 3:a=r.dav.publishURL,e.commit("publishCalendar",{calendar:r,publishURL:a});case 5:case"end":return n.stop()}}),n)})))()},unpublishCalendar:function(e,t){return g(v().mark((function n(){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,n.next=3,r.dav.unpublish();case 3:e.commit("unpublishCalendar",{calendar:r});case 4:case"end":return n.stop()}}),n)})))()},getEventsFromCalendarInTimeRange:function(e,t){return g(v().mark((function n(){var r,a,c,l,u,s,d,f,m,p,h,y;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.calendar,a=t.from,c=t.to,e.commit("markCalendarAsLoading",{calendar:r}),n.next=4,r.dav.findByTypeInTimeRange("VEVENT",a,c);case 4:if(l=n.sent,u=[],!e.rootState.settings.showTasks){n.next=10;break}return n.next=9,r.dav.findByTypeInTimeRange("VTODO",a,c);case 9:u=n.sent;case 10:e.commit("addTimeRange",{calendarId:r.id,from:(0,i._6)(a),to:(0,i._6)(c),lastFetched:(0,i._6)((0,i.n8)()),calendarObjectIds:[]}),s=e.getters.getLastTimeRangeInsertId,e.commit("addFetchedTimeRangeToCalendar",{calendar:r,fetchedTimeRangeId:s}),d=[],f=[],m=j(l.concat(u));try{for(m.s();!(p=m.n()).done;){h=p.value;try{y=(0,o.un)(h,r.id),d.push(y),f.push(y.id)}catch(e){console.error("could not convert calendar object of calendar ".concat(r.id),e,{response:h})}}}catch(e){m.e(e)}finally{m.f()}return e.commit("appendCalendarObjects",{calendarObjects:d}),e.commit("appendCalendarObjectsToCalendar",{calendar:r,calendarObjectIds:f}),e.commit("appendCalendarObjectIdsToTimeFrame",{timeRangeId:s,calendarObjectIds:f}),e.commit("markCalendarAsNotLoading",{calendar:r}),n.abrupt("return",e.rootState.fetchedTimeRanges.lastTimeRangeInsertId);case 22:case"end":return n.stop()}}),n)})))()},getEventByObjectId:function(e,t){return g(v().mark((function n(){var r,a,i,c,l,u,s,d,f;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.objectId,!e.getters.getCalendarObjectById(r)){n.next=3;break}return n.abrupt("return",Promise.resolve(e.getters.getCalendarObjectById(r)));case 3:if(a=atob(r),i=a.lastIndexOf("/"),c=a.slice(0,i+1),l=a.slice(i+1),u=btoa(c),e.state.calendarsById[u]){n.next=10;break}return n.abrupt("return",Promise.reject(new Error("")));case 10:return s=e.state.calendarsById[u],n.next=13,s.dav.find(l);case 13:return d=n.sent,f=(0,o.un)(d,s.id),e.commit("appendCalendarObject",{calendarObject:f}),e.commit("addCalendarObjectToCalendar",{calendar:{id:u},calendarObjectId:f.id}),n.abrupt("return",f);case 18:case"end":return n.stop()}}),n)})))()},importEventsIntoCalendar:function(e){return g(v().mark((function t(){var n,r,i,d,f,p,h,y,b,w,_,O,I,x,C;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.commit("changeStage",m.EI),n=e.rootState.importFiles.importFiles.slice(),r=0,i=j(n),t.prev=4,i.s();case 6:if((d=i.n()).done){t.next=25;break}if(f=d.value,r+=f.parser.getItemCount(),"new"!==e.rootState.importFiles.importCalendarRelation[f.id]){t.next=23;break}return p=f.parser.getName()||(0,s.translate)("calendar","Imported {filename}",{filename:f.name}),h=f.parser.getColor()||(0,u.ny)(p),y=[],f.parser.containsVEvents()&&y.push("VEVENT"),f.parser.containsVJournals()&&y.push("VJOURNAL"),f.parser.containsVTodos()&&y.push("VTODO"),t.next=19,(0,a.YR)(p,h,y,0);case 19:b=t.sent,w=(0,c.o)(b,e.getters.getCurrentUserPrincipal),e.commit("addCalendar",{calendar:w}),e.commit("setCalendarForFileId",{fileId:f.id,calendarId:w.id});case 23:t.next=6;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(4),i.e(t.t0);case 30:return t.prev=30,i.f(),t.finish(30);case 33:e.commit("setTotal",r),_=(0,l.Z)(3),O=[],I=j(n),t.prev=37,C=v().mark((function t(){var n,r,a,i,c,l;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=x.value,r=e.rootState.importFiles.importCalendarRelation[n.id],a=e.getters.getCalendarById(r),i=j(n.parser.getItemIterator()),t.prev=4,l=v().mark((function t(){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c.value,O.push(_(g(v().mark((function t(){var i,c,l;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.toICS(),t.prev=1,t.next=4,a.dav.createVObject(i);case 4:c=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),e.commit("incrementDenied"),console.error(t.t0),t.abrupt("return");case 12:l=(0,o.un)(c,r),e.commit("appendCalendarObject",{calendarObject:l}),e.commit("addCalendarObjectToCalendar",{calendar:a,calendarObjectId:l.id}),e.commit("addCalendarObjectIdToAllTimeRangesOfCalendar",{calendarId:a.id,calendarObjectId:l.id}),e.commit("incrementAccepted");case 17:case"end":return t.stop()}}),t,null,[[1,7]])})))));case 2:case"end":return t.stop()}}),t)})),i.s();case 7:if((c=i.n()).done){t.next=11;break}return t.delegateYield(l(),"t0",9);case 9:t.next=7;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(4),i.e(t.t1);case 16:return t.prev=16,i.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[4,13,16,19]])})),I.s();case 40:if((x=I.n()).done){t.next=44;break}return t.delegateYield(C(),"t1",42);case 42:t.next=40;break;case 44:t.next=49;break;case 46:t.prev=46,t.t2=t.catch(37),I.e(t.t2);case 49:return t.prev=49,I.f(),t.finish(49);case 52:return t.next=54,Promise.all(O);case 54:e.commit("changeStage",m.bL);case 55:case"end":return t.stop()}}),t,null,[[4,27,30,33],[37,46,49,52]])})))()},updateCalendarListOrder:function(e,t){return g(v().mark((function n(){var r,a,o,i,c,u,s,d,f,m,p,h,y;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.state,a=e.commit,o=t.newOrder,i=(0,l.Z)(3),c=[],u=[],s=v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.push(i(g(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.calendarsById[t]).dav.order!==o[t]){e.next=3;break}return e.abrupt("return");case 3:return n.dav.order=o[t],e.next=6,n.dav.update();case 6:u.push({calendar:n,newOrder:o[t]});case 7:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})),n.t0=v().keys(o);case 7:if((n.t1=n.t0()).done){n.next=12;break}return d=n.t1.value,n.delegateYield(s(d),"t2",10);case 10:n.next=7;break;case 12:return n.next=14,Promise.all(c);case 14:for(f=0,m=u;f<m.length;f++)p=m[f],h=p.calendar,y=p.newOrder,console.debug(h,y),a("changeCalendarOrder",{calendar:h,newOrder:y});case 15:case"end":return n.stop()}}),n)})))()}};const C={state:{calendars:[],trashBin:void 0,scheduleInbox:void 0,deletedCalendars:[],deletedCalendarObjects:[],calendarsById:{},initialCalendarsLoaded:!1,editCalendarModal:void 0},mutations:O,getters:I,actions:x}},16748:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(20144);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i={appendContact:function(e,t){var n=t.contact;-1===e.contacts.indexOf(n)&&e.contacts.push(n);var o,i=a(n.emails);try{for(i.s();!(o=i.n()).done;){var c=o.value;void 0===e.contactByEMail[c]&&r.default.set(e.contactByEMail,c,n)}}catch(e){i.e(e)}finally{i.f()}},removeContact:function(e,t){var n,o=t.contact,i=a(o.emails);try{for(i.s();!(n=i.n()).done;){var c=n.value;e.contactByEMail[c]===o&&r.default.delete(e.contactByEMail,c)}}catch(e){i.e(e)}finally{i.f()}var l=e.contacts.indexOf(o);-1!==l&&e.contacts.splice(l,1)}};const c={state:{contacts:[],contactByEMail:{}},mutations:i,getters:{},actions:{}}},96951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={state:{minimumDate:"1970-01-01T00:00:00Z",maximumDate:"2037-12-31T23:59:59Z"},mutations:{loadDavRestrictionsFromServer:function(e,t){var n=t.minimumDate,r=t.maximumDate;e.minimumDate=n,e.maximumDate=r}},getters:{},actions:{}}},73544:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(20144);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i={addTimeRange:function(e,t){var n=t.calendarId,a=t.from,o=t.to,i=t.lastFetched,c=t.calendarObjectIds,l={id:++e.lastTimeRangeInsertId,calendarId:n,from:a,to:o,lastFetched:i,calendarObjectIds:c};e.fetchedTimeRanges.push(l),r.default.set(e.fetchedTimeRangesById,l.id,l)},removeTimeRange:function(e,t){var n=t.timeRangeId,a=e.fetchedTimeRangesById[n],o=e.fetchedTimeRanges.indexOf(a);-1!==o&&(e.fetchedTimeRanges.splice(o,1),r.default.delete(e.fetchedTimeRangesById,n))},appendCalendarObjectIdsToTimeFrame:function(e,t){var n,r=t.timeRangeId,o=a(t.calendarObjectIds);try{for(o.s();!(n=o.n()).done;){var i=n.value;-1===e.fetchedTimeRangesById[r].calendarObjectIds.indexOf(i)&&e.fetchedTimeRangesById[r].calendarObjectIds.push(i)}}catch(e){o.e(e)}finally{o.f()}},appendCalendarObjectIdToTimeRange:function(e,t){var n=t.timeRangeId,r=t.calendarObjectId;e.fetchedTimeRangesById[n].calendarObjectIds.push(r)},removeCalendarObjectIdFromTimeRange:function(e,t){var n=t.timeRangeId,r=t.calendarObjectId,a=e.fetchedTimeRangesById[n].calendarObjectIds.indexOf(r);-1!==a&&e.fetchedTimeRangesById[n].calendarObjectIds.splice(a,1)},removeCalendarObjectIdFromAnyTimeRange:function(e,t){var n,r=t.calendarObjectId,o=a(e.fetchedTimeRanges);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=i.calendarObjectIds.indexOf(r);-1!==c&&i.calendarObjectIds.splice(c,1)}}catch(e){o.e(e)}finally{o.f()}},updateTimestampOfLastFetched:function(e,t){var n=t.timeRangeId,r=t.lastFetched;e.fetchedTimeRangesById[n].lastFetched=r},addCalendarObjectIdToAllTimeRangesOfCalendar:function(e,t){var n,r=t.calendarObjectId,o=t.calendarId,i=a(e.fetchedTimeRanges);try{for(i.s();!(n=i.n()).done;){var c=n.value;c.calendarId===o&&(-1===c.calendarObjectIds.indexOf(r)&&c.calendarObjectIds.push(r))}}catch(e){i.e(e)}finally{i.f()}},removeCalendarObjectIdFromAllTimeRangesOfCalendar:function(e,t){var n,r=t.calendarObjectId,o=t.calendarId,i=a(e.fetchedTimeRanges);try{for(i.s();!(n=i.n()).done;){var c=n.value;if(c.calendarId===o){var l=c.calendarObjectIds.indexOf(r);-1!==l&&c.calendarObjectIds.splice(l,1)}}}catch(e){i.e(e)}finally{i.f()}},clearFetchedTimeRanges:function(e){e.lastTimeRangeInsertId=-1,e.fetchedTimeRanges=[],e.fetchedTimeRangesById={}}};const c={state:{lastTimeRangeInsertId:-1,fetchedTimeRanges:[],fetchedTimeRangesById:{}},mutations:i,getters:{getAllTimeRangesForCalendar:function(e){return function(t){return e.fetchedTimeRanges.filter((function(e){return e.calendarId===t}))}},getTimeRangeForCalendarCoveringRange:function(e){return function(t,n,r){return e.fetchedTimeRanges.find((function(e){return e.calendarId===t&&e.from<=n&&e.to>=r}))}},getAllTimeRangesOlderThan:function(e){return function(t){return e.fetchedTimeRanges.filter((function(e){return e.lastFetched<=t}))}},getLastTimeRangeInsertId:function(e){return e.lastTimeRangeInsertId},getCalendarObjectsByTimeRangeId:function(e,t){return function(n){return e.fetchedTimeRangesById[n]?e.fetchedTimeRangesById[n].calendarObjectIds.map((function(e){return t.getCalendarObjectById(e)})):[]}}},actions:{}}},41259:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(20144),a={addFile:function(e,t){var n=t.contents,a=t.lastModified,o=t.name,i=t.parser,c=t.size,l=t.type,u={id:++e.lastFileInsertId,contents:n,lastModified:a,name:o,parser:i,size:c,type:l};e.importFiles.push(u),r.default.set(e.importFilesById,u.id,u)},setCalendarForFileId:function(e,t){var n=t.fileId,a=t.calendarId;r.default.set(e.importCalendarRelation,n,a)},removeAllFiles:function(e){r.default.set(e,"importFiles",[]),r.default.set(e,"importFilesById",{}),r.default.set(e,"importCalendarRelation",{})}};const o={state:{lastFileInsertId:-1,importFiles:[],importFilesById:{},importCalendarRelation:{}},mutations:a,getters:{},actions:{}}},6985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(59055),a={incrementAccepted:function(e){e.accepted++},incrementDenied:function(e){e.denied++},setTotal:function(e,t){e.total=t},changeStage:function(e,t){e.stage=t},resetState:function(e){e.total=0,e.accepted=0,e.denied=0,e.stage=r.mz}};const o={state:{total:0,accepted:0,denied:0,stage:r.mz},mutations:a,getters:{},actions:{}}},30319:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(20144),a=n(20629),o=n(64280),i=n(83e3),c=n(77800),l=n(16748),u=n(96951),s=n(73544),d=n(41259),f=n(6985),m=n(54480),p=n(92539),h=n(84627);r.default.use(a.ZP);const v=new a.ZP.Store({modules:{appointmentConfigs:h.Z,calendarObjectInstance:o.Z,calendarObjects:i.Z,calendars:c.Z,contacts:l.Z,davRestrictions:u.Z,fetchedTimeRanges:s.Z,importFiles:d.Z,importState:f.Z,principals:m.Z,settings:p.Z}})},54480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(20144),a=n(2323),o=n(75357),i=n(4269);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};s(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,o)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,l){var u=f(e[r],e,o);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),s(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(d(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),s(w,u,"Generator"),s(w,o,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function u(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,c,"next",e)}function c(e){u(o,r,a,i,c,"throw",e)}i(void 0)}))}}var d={addPrincipal:function(e,t){var n=t.principal,a=(0,i.B)(n);e.principalsById[a.id]||(e.principals.push(a),r.default.set(e.principalsById,a.id,a))},setCurrentUserPrincipal:function(e,t){var n=t.principalId;e.currentUserPrincipal=n}};const f={state:{principals:[],principalsById:{},currentUserPrincipal:null},mutations:d,getters:{getPrincipalByUrl:function(e){return function(t){return e.principals.find((function(e){return e.url===t}))}},getPrincipalById:function(e){return function(t){return e.principalsById[t]}},getCurrentUserPrincipal:function(e){return e.principalsById[e.currentUserPrincipal]},getCurrentUserPrincipalEmail:function(e){var t;return null===(t=e.principalsById[e.currentUserPrincipal])||void 0===t?void 0:t.emailAddress}},actions:{fetchPrincipalByUrl:function(e,t){return s(l().mark((function n(){var r,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.url,!e.getters.getPrincipalByUrl(r)){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,(0,a.i8)(r);case 5:if(o=n.sent){n.next=8;break}return n.abrupt("return");case 8:e.commit("addPrincipal",{principal:(0,i.R)(o)});case 9:case"end":return n.stop()}}),n)})))()},fetchCurrentUserPrincipal:function(e){return s(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,a.z$)()){t.next=3;break}return t.abrupt("return");case 3:r=(0,i.R)(n),e.commit("addPrincipal",{principal:r}),e.commit("setCurrentUserPrincipal",{principalId:r.id}),o.ZP.debug("Current user principal is ".concat(r.url));case 7:case"end":return t.stop()}}),t)})))()}}}},92539:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(2323),a=n(37494),o=n(50923),i=n(59491),c=n(67718),l=n(75357),u=n(54782);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:O(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function p(){}function h(){}function v(){}var y={};l(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&n.call(b,o)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,c){var l=f(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==s(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(_.prototype),l(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(w),l(w,c,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function f(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,c,"next",e)}function c(e){f(o,r,a,i,c,"throw",e)}i(void 0)}))}}var p={toggleEventLimitEnabled:function(e){e.eventLimit=!e.eventLimit},togglePopoverEnabled:function(e){e.skipPopover=!e.skipPopover},toggleTasksEnabled:function(e){e.showTasks=!e.showTasks},toggleWeekendsEnabled:function(e){e.showWeekends=!e.showWeekends},toggleWeekNumberEnabled:function(e){e.showWeekNumbers=!e.showWeekNumbers},setSlotDuration:function(e,t){var n=t.slotDuration;e.slotDuration=n},setDefaultReminder:function(e,t){var n=t.defaultReminder;e.defaultReminder=n},setTimezone:function(e,t){var n=t.timezoneId;e.timezone=n},setAttachmentsFolder:function(e,t){var n=t.attachmentsFolder;e.attachmentsFolder=n},loadSettingsFromServer:function(e,t){var n=t.appVersion,r=t.eventLimit,a=t.firstRun,o=t.showWeekNumbers,i=t.showTasks,c=t.showWeekends,u=t.skipPopover,s=t.slotDuration,d=t.defaultReminder,f=t.talkEnabled,m=t.tasksEnabled,p=t.timezone,h=t.hideEventExport,v=t.forceEventAlarmType,y=t.disableAppointments,g=t.canSubscribeLink,b=t.attachmentsFolder,w=t.showResources;(0,l.PN)("\nInitial settings:\n\t- AppVersion: ".concat(n,"\n\t- EventLimit: ").concat(r,"\n\t- FirstRun: ").concat(a,"\n\t- ShowWeekNumbers: ").concat(o,"\n\t- ShowTasks: ").concat(i,"\n\t- ShowWeekends: ").concat(c,"\n\t- SkipPopover: ").concat(u,"\n\t- SlotDuration: ").concat(s,"\n\t- DefaultReminder: ").concat(d,"\n\t- TalkEnabled: ").concat(f,"\n\t- TasksEnabled: ").concat(m,"\n\t- Timezone: ").concat(p,"\n\t- HideEventExport: ").concat(h,"\n\t- ForceEventAlarmType: ").concat(v,"\n\t- disableAppointments: ").concat(y,"\n\t- CanSubscribeLink: ").concat(g,"\n\t- attachmentsFolder: ").concat(b,"\n\t- ShowResources: ").concat(w,"\n")),e.appVersion=n,e.eventLimit=r,e.firstRun=a,e.showWeekNumbers=o,e.showTasks=i,e.showWeekends=c,e.skipPopover=u,e.slotDuration=s,e.defaultReminder=d,e.talkEnabled=f,e.tasksEnabled=m,e.timezone=p,e.hideEventExport=h,e.forceEventAlarmType=v,e.disableAppointments=y,e.canSubscribeLink=g,e.attachmentsFolder=b,e.showResources=w},setMomentLocale:function(e,t){var n=t.locale;(0,l.PN)("Updated moment locale: ".concat(n)),e.momentLocale=n}},h={isTalkEnabled:function(e){return e.talkEnabled},getResolvedTimezone:function(e){return"automatic"===e.timezone?(0,o.N)():e.timezone},getResolvedTimezoneObject:function(e,t){var n=t.getResolvedTimezone,r=(0,u.Z)().getTimezoneForId(n);return r||(r=(0,u.Z)().getTimezoneForId("UTC")),r}},v={toggleBirthdayCalendarEnabled:function(e){return m(d().mark((function t(){var n,o,i,c,l,u;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getters,o=e.commit,i=e.dispatch,!n.hasBirthdayCalendar){t.next=7;break}return c=n.getBirthdayCalendar,t.next=5,i("deleteCalendar",{calendar:c});case 5:t.next=12;break;case 7:return t.next=9,(0,r.V_)();case 9:l=t.sent,u=(0,a.o)(l),o("addCalendar",{calendar:u});case 12:case"end":return t.stop()}}),t)})))()},toggleEventLimitEnabled:function(e){return m(d().mark((function t(){var n,r,a,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,a=!n.eventLimit,o=a?"yes":"no",t.next=5,(0,c.v)("eventLimit",o);case 5:r("toggleEventLimitEnabled");case 6:case"end":return t.stop()}}),t)})))()},togglePopoverEnabled:function(e){return m(d().mark((function t(){var n,r,a,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,a=!n.skipPopover,o=a?"yes":"no",t.next=5,(0,c.v)("skipPopover",o);case 5:r("togglePopoverEnabled");case 6:case"end":return t.stop()}}),t)})))()},toggleWeekendsEnabled:function(e){return m(d().mark((function t(){var n,r,a,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,a=!n.showWeekends,o=a?"yes":"no",t.next=5,(0,c.v)("showWeekends",o);case 5:r("toggleWeekendsEnabled");case 6:case"end":return t.stop()}}),t)})))()},toggleTasksEnabled:function(e){return m(d().mark((function t(){var n,r,a,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,a=!n.showTasks,o=a?"yes":"no",t.next=5,(0,c.v)("showTasks",o);case 5:r("toggleTasksEnabled"),r("clearFetchedTimeRanges"),r("incrementModificationCount");case 8:case"end":return t.stop()}}),t)})))()},toggleWeekNumberEnabled:function(e){return m(d().mark((function t(){var n,r,a,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,a=!n.showWeekNumbers,o=a?"yes":"no",t.next=5,(0,c.v)("showWeekNr",o);case 5:r("toggleWeekNumberEnabled");case 6:case"end":return t.stop()}}),t)})))()},setInitialView:function(e,t){return m(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.initialView,e.next=3,(0,c.v)("view",n);case 3:case"end":return e.stop()}}),e)})))()},setSlotDuration:function(e,t){return m(d().mark((function n(){var r,a,o;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,a=e.commit,o=t.slotDuration,r.slotDuration!==o){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,(0,c.v)("slotDuration",o);case 6:a("setSlotDuration",{slotDuration:o});case 7:case"end":return n.stop()}}),n)})))()},setDefaultReminder:function(e,t){return m(d().mark((function n(){var r,a,o;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,a=e.commit,o=t.defaultReminder,r.defaultReminder!==o){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,(0,c.v)("defaultReminder",o);case 6:a("setDefaultReminder",{defaultReminder:o});case 7:case"end":return n.stop()}}),n)})))()},setTimezone:function(e,t){return m(d().mark((function n(){var r,a,o;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,a=e.commit,o=t.timezoneId,r.timezone!==o){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,(0,c.v)("timezone",o);case 6:a("setTimezone",{timezoneId:o});case 7:case"end":return n.stop()}}),n)})))()},setAttachmentsFolder:function(e,t){return m(d().mark((function n(){var r,a,o;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,a=e.commit,o=t.attachmentsFolder,r.attachmentsFolder!==o){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,(0,c.v)("attachmentsFolder",o);case 6:a("setAttachmentsFolder",{attachmentsFolder:o});case 7:case"end":return n.stop()}}),n)})))()},initializeCalendarJsConfig:function(e){var t=e.state;(0,i.v6)("PRODID","-//IDN nextcloud.com//Calendar app ".concat(t.appVersion,"//EN")),(0,i.v6)("property-list-significant-change",["SUMMARY","LOCATION","DESCRIPTION"])}};const y={state:{appVersion:null,firstRun:null,talkEnabled:!1,disableAppointments:!1,eventLimit:null,showTasks:null,showWeekends:null,showWeekNumbers:null,skipPopover:null,slotDuration:null,defaultReminder:null,tasksEnabled:!1,timezone:"automatic",hideEventExport:!1,forceEventAlarmType:!1,canSubscribeLink:!0,showResources:!0,momentLocale:"en",attachmentsFolder:"/Calendar"},mutations:p,getters:h,actions:v}},82083:(e,t,n)=>{"use strict";n.d(t,{IP:()=>u,Yg:()=>l,cB:()=>s,mV:()=>d,oG:()=>f});var r=n(59491),a=n(31352);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){switch(e){case"seconds":default:return 1;case"minutes":return 60;case"hours":return 3600;case"days":return 86400;case"weeks":return 604800}}function l(e){return 0===(e=Math.abs(e))?{amount:0,unit:"minutes"}:e%604800==0?{amount:e/604800,unit:"weeks"}:e%86400==0?{amount:e/86400,unit:"days"}:e%3600==0?{amount:e/3600,unit:"hours"}:e%60==0?{amount:e/60,unit:"minutes"}:{amount:e,unit:"seconds"}}function u(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e*c(t)*(n?-1:1)}function s(e){var t=c("days"),n=c("hours"),r=c("minutes"),a=e<0;e=Math.abs(e);var o=Math.floor(e/t),i=e%t;0!==i&&a&&o++;var l=0,u=null;0===o?u="days":o%7==0?(l=o/7,u="weeks"):(l=o,u="days");var s=Math.floor(i/n),d=i%n,f=Math.floor(d/r);return a&&(s=24-s,0!==f&&(s--,f=60-f)),{amount:l,unit:u,hours:s,minutes:f}}function d(e,t,n,r){if("weeks"===r&&(e*=7,r="days"),e>0){e--,e*=c(r);var a=24-t,o=0;0!==n&&(a--,o=60-n),e+=a*c("hours"),e+=o*c("minutes"),e*=-1}else e*=c("days"),e+=t*c("hours"),e+=n*c("minutes");return e}function f(e){var t,n=o(e.getAlarmIterator());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("EMAIL"===i.action){i.deleteAllProperties("SUMMARY");var c=e.getFirstProperty("SUMMARY");if(c)i.addProperty(c.clone());else{var l=(0,a.translate)("calendar","Untitled event");i.addProperty(new r.Z9("SUMMARY",l))}if(!i.hasProperty("DESCRIPTION")){var u=(0,a.translate)("calendar","This is an event reminder.");i.addProperty(new r.Z9("DESCRIPTION",u))}i.deleteAllProperties("ATTENDEE");var s,d=o(e.getAttendeeIterator());try{for(d.s();!(s=d.n()).done;){var f=s.value;["RESOURCE","ROOM"].includes(f.userType)||i.addProperty(new r.NQ("ATTENDEE",f.value))}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){n.e(e)}finally{n.f()}}},33827:(e,t,n)=>{"use strict";function r(e){return"string"!=typeof e?"":e.startsWith("mailto:")?e.slice(7):e}n.d(t,{Oo:()=>r})},45792:(e,t,n)=>{"use strict";n.d(t,{f:()=>o,m:()=>a});var r=n(59491),a=function(e,t,n){var a=e.calendarComponent.getVObjectIterator().next().value;if(!a)return[];var o=r.ul.fromJSDate(t,!0),i=r.ul.fromJSDate(n,!0);return a.recurrenceManager.getAllOccurrencesBetween(o,i)},o=function(e,t){var n=e.calendarComponent.getVObjectIterator().next().value;if(!n)return null;var a=r.ul.fromJSDate(t,!0);return n.recurrenceManager.getOccurrenceAtExactly(a)}},62768:(e,t,n)=>{"use strict";n.d(t,{_u:()=>S,Ud:()=>E,Nt:()=>R,eq:()=>D,$W:()=>T,RQ:()=>C,ny:()=>A});var r=n(12085),a=n.n(r),o=n(74655),i=n(44998),c=n(89734),l=n.n(c),u=n(78718),s=n.n(u),d=n(45578),f=n.n(d),m=n(19818);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=f()(Object.keys(i),(function(e){return i[e]})),b=s()(i,g),w=l()(Object.keys(b).map((function(e){return{name:e,hex:b[e]}})),(function(e){return e.hex})),j={detailed:!1};function _(e,t){var n=O(m.get.rgb(e)),r=O(m.get.rgb(t));return Math.sqrt(Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2)+Math.pow(n[2]-r[2],2))}function O(e){for(var t=[0,0,0],n=[0,0,0],r=[0,0,0],a=0;a<e.length;a++){var o=e[a]/255;o>.04045?o=Math.pow((o+.055)/1.055,2.4):o/=12.92,t[a]=100*o}n[0]=(.4124*t[0]+.3576*t[1]+.1805*t[2])/95.047,n[1]=(.2126*t[0]+.7152*t[1]+.0722*t[2])/100,n[2]=(.0193*t[0]+.1192*t[1]+.9505*t[2])/108.883;for(var i=0;i<3;i++){var c=n[i];c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,n[i]=c}return r[0]=parseFloat((116*n[1]-16).toFixed(3)),r[1]=parseFloat((500*(n[0]-n[1])).toFixed(3)),r[2]=parseFloat((200*(n[1]-n[2])).toFixed(3)),r}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){return(299*e.red+587*e.green+114*e.blue)/1e3>130}function E(e){return t=T(e),n=t.red,r=t.green,a=t.blue,C({red:n,green:r,blue:a})?"#000000":"#FAFAFA";var t,n,r,a}function T(e){if(null==e)return{red:0,green:0,blue:0};var t=I(a().hex.rgb(e.slice(1)),3);return{red:t[0],green:t[1],blue:t[2]}}function A(e){var t=(0,o.U)(e);return"#"+a().rgb.hex(t.r,t.g,t.b)}function S(e){return/^(#)((?:[A-Fa-f0-9]{3}){1,2})$/.test(e)?e:/^((?:[A-Fa-f0-9]{3}){1,2})$/.test(e)?"#"+e:/^(#)((?:[A-Fa-f0-9]{8}))$/.test(e)?e.slice(0,7):!!/^((?:[A-Fa-f0-9]{8}))$/.test(e)&&"#"+e.slice(0,6)}function D(e){return i[e]||null}function R(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v(v({},j),t),r=l()(w,(function(t){return _(e,t.hex)}));return n.detailed?r[0]:r[0].name}(e)}},15558:(e,t,n)=>{"use strict";n.d(t,{_6:()=>a,n8:()=>r,nZ:()=>o});n(75357);function r(){return new Date}function a(e){return Math.floor(e.getTime()/1e3)}function o(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute,0,0)}},75357:(e,t,n)=>{"use strict";n.d(t,{PN:()=>a,ZP:()=>o});var r=(0,n(17499).IY)().setApp("calendar").detectUser().build(),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.info(e,t)};const o=r},53854:(e,t,n)=>{"use strict";function r(e){for(var t=a(e),n=1,r=e.getDate();r>7;r-=7)n++;return{byDay:t,bySetPosition:n}}function a(e){switch(e.getDay()){case 0:return"SU";case 1:return"MO";case 2:return"TU";case 3:return"WE";case 4:return"TH";case 5:return"FR";case 6:return"SA";default:throw TypeError("Invalid date-object given")}}n.d(t,{F:()=>a,b:()=>r})},83884:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(45582);function a(e){return[(0,r.linkTo)("calendar","index.php"),"v1/config",e].join("/")}},74655:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(2568),a=n.n(r),o=function(e){var t=e.toLowerCase();null===t.match(/^([0-9a-f]{4}-?){8}$/)&&(t=a()(t)),t=t.replace(/[^0-9a-f]/g,"");var n=function(e){e||(e=6);var t=new i(182,70,157),n=new i(221,203,85),r=new i(0,130,201),a=c(e,t,n),o=c(e,n,r),l=c(e,r,t);return a.concat(o).concat(l)}(6);return n[function(e,t){for(var n=0,r=[],a=0;a<e.length;a++)r.push(parseInt(e.charAt(a),16)%16);for(var o in r)n+=r[o];return parseInt(parseInt(n,10)%t,10)}(t,18)]};function i(e,t,n){this.r=e,this.g=t,this.b=n}function c(e,t,n){var r=[];r.push(t);for(var a=function(e,t){var n=new Array(3);return n[0]=(t[1].r-t[0].r)/e,n[1]=(t[1].g-t[0].g)/e,n[2]=(t[1].b-t[0].b)/e,n}(e,[t,n]),o=1;o<e;o++){var c=parseInt(t.r+a[0]*o,10),l=parseInt(t.g+a[1]*o,10),u=parseInt(t.b+a[2]*o,10);r.push(new i(c,l,u))}return r}},92916:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,"#calendar_panel .calendar-dot{flex-shrink:0;height:1rem;width:1rem;margin-top:.2rem;border-radius:50%}#calendar_panel #calendar-widget-empty-content{text-align:center;margin-top:5vh}#calendar_panel #calendar-widget-empty-content.half-screen{margin-top:0;height:120px;margin-bottom:2vh}#calendar_panel .empty-label{display:flex;justify-content:center;margin-top:5vh}","",{version:3,sources:["webpack://./src/views/Dashboard.vue"],names:[],mappings:"AAEC,8BACC,aAAA,CACA,WAAA,CACA,UAAA,CACA,gBAAA,CACA,iBAAA,CAGD,+CACC,iBAAA,CACA,cAAA,CAEA,2DACC,YAAA,CACA,YAAA,CACA,iBAAA,CAKF,6BACC,YAAA,CACA,sBAAA,CACA,cAAA",sourcesContent:["\n#calendar_panel {\n\t.calendar-dot {\n\t\tflex-shrink: 0;\n\t\theight: 1rem;\n\t\twidth: 1rem;\n\t\tmargin-top: 0.2rem;\n\t\tborder-radius: 50%;\n\t}\n\n\t#calendar-widget-empty-content {\n\t\ttext-align: center;\n\t\tmargin-top: 5vh;\n\n\t\t&.half-screen {\n\t\t\tmargin-top: 0;\n\t\t\theight: 120px;\n\t\t\tmargin-bottom: 2vh;\n\t\t}\n\n\t}\n\n\t.empty-label {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tmargin-top: 5vh;\n\t}\n}\n"],sourceRoot:""}]);const c=i},77961:(e,t,n)=>{var r={"./af.js":[42786,"node_modules_moment_locale_af_js"],"./ar-dz.js":[14130,"node_modules_moment_locale_ar-dz_js"],"./ar-kw.js":[96135,"node_modules_moment_locale_ar-kw_js"],"./ar-ly.js":[56440,"node_modules_moment_locale_ar-ly_js"],"./ar-ma.js":[47702,"node_modules_moment_locale_ar-ma_js"],"./ar-sa.js":[16040,"node_modules_moment_locale_ar-sa_js"],"./ar-tn.js":[37100,"node_modules_moment_locale_ar-tn_js"],"./ar.js":[30867,"node_modules_moment_locale_ar_js"],"./az.js":[31083,"node_modules_moment_locale_az_js"],"./be.js":[9808,"node_modules_moment_locale_be_js"],"./bg.js":[68338,"node_modules_moment_locale_bg_js"],"./bm.js":[67438,"node_modules_moment_locale_bm_js"],"./bn-bd.js":[76225,"node_modules_moment_locale_bn-bd_js"],"./bn.js":[8905,"node_modules_moment_locale_bn_js"],"./bo.js":[11560,"node_modules_moment_locale_bo_js"],"./br.js":[1278,"node_modules_moment_locale_br_js"],"./bs.js":[80622,"node_modules_moment_locale_bs_js"],"./ca.js":[2468,"node_modules_moment_locale_ca_js"],"./cs.js":[5822,"node_modules_moment_locale_cs_js"],"./cv.js":[50877,"node_modules_moment_locale_cv_js"],"./cy.js":[47373,"node_modules_moment_locale_cy_js"],"./da.js":[24780,"node_modules_moment_locale_da_js"],"./de-at.js":[60217,"node_modules_moment_locale_de-at_js"],"./de-ch.js":[60894,"node_modules_moment_locale_de-ch_js"],"./de.js":[59740,"node_modules_moment_locale_de_js"],"./dv.js":[5300,"node_modules_moment_locale_dv_js"],"./el.js":[50837,"node_modules_moment_locale_el_js"],"./en-au.js":[78348,"node_modules_moment_locale_en-au_js"],"./en-ca.js":[77925,"node_modules_moment_locale_en-ca_js"],"./en-gb.js":[22243,"node_modules_moment_locale_en-gb_js"],"./en-ie.js":[46436,"node_modules_moment_locale_en-ie_js"],"./en-il.js":[47207,"node_modules_moment_locale_en-il_js"],"./en-in.js":[44175,"node_modules_moment_locale_en-in_js"],"./en-nz.js":[76319,"node_modules_moment_locale_en-nz_js"],"./en-sg.js":[31662,"node_modules_moment_locale_en-sg_js"],"./eo.js":[92915,"node_modules_moment_locale_eo_js"],"./es-do.js":[55251,"node_modules_moment_locale_es-do_js"],"./es-mx.js":[96112,"node_modules_moment_locale_es-mx_js"],"./es-us.js":[71146,"node_modules_moment_locale_es-us_js"],"./es.js":[55655,"node_modules_moment_locale_es_js"],"./et.js":[5603,"node_modules_moment_locale_et_js"],"./eu.js":[77763,"node_modules_moment_locale_eu_js"],"./fa.js":[76959,"node_modules_moment_locale_fa_js"],"./fi.js":[11897,"node_modules_moment_locale_fi_js"],"./fil.js":[42549,"node_modules_moment_locale_fil_js"],"./fo.js":[94694,"node_modules_moment_locale_fo_js"],"./fr-ca.js":[63049,"node_modules_moment_locale_fr-ca_js"],"./fr-ch.js":[52330,"node_modules_moment_locale_fr-ch_js"],"./fr.js":[15596,"node_modules_moment_locale_fr_js"],"./fy.js":[5044,"node_modules_moment_locale_fy_js"],"./ga.js":[29295,"node_modules_moment_locale_ga_js"],"./gd.js":[2101,"node_modules_moment_locale_gd_js"],"./gl.js":[38794,"node_modules_moment_locale_gl_js"],"./gom-deva.js":[27884,"node_modules_moment_locale_gom-deva_js"],"./gom-latn.js":[23168,"node_modules_moment_locale_gom-latn_js"],"./gu.js":[95349,"node_modules_moment_locale_gu_js"],"./he.js":[24206,"node_modules_moment_locale_he_js"],"./hi.js":[2819,"node_modules_moment_locale_hi_js"],"./hr.js":[30316,"node_modules_moment_locale_hr_js"],"./hu.js":[22138,"node_modules_moment_locale_hu_js"],"./hy-am.js":[11423,"node_modules_moment_locale_hy-am_js"],"./id.js":[29218,"node_modules_moment_locale_id_js"],"./is.js":[90135,"node_modules_moment_locale_is_js"],"./it-ch.js":[10150,"node_modules_moment_locale_it-ch_js"],"./it.js":[90626,"node_modules_moment_locale_it_js"],"./ja.js":[39183,"node_modules_moment_locale_ja_js"],"./jv.js":[24286,"node_modules_moment_locale_jv_js"],"./ka.js":[12105,"node_modules_moment_locale_ka_js"],"./kk.js":[47772,"node_modules_moment_locale_kk_js"],"./km.js":[18758,"node_modules_moment_locale_km_js"],"./kn.js":[79282,"node_modules_moment_locale_kn_js"],"./ko.js":[33730,"node_modules_moment_locale_ko_js"],"./ku.js":[1408,"node_modules_moment_locale_ku_js"],"./ky.js":[33291,"node_modules_moment_locale_ky_js"],"./lb.js":[36841,"node_modules_moment_locale_lb_js"],"./lo.js":[55466,"node_modules_moment_locale_lo_js"],"./lt.js":[57010,"node_modules_moment_locale_lt_js"],"./lv.js":[37595,"node_modules_moment_locale_lv_js"],"./me.js":[39861,"node_modules_moment_locale_me_js"],"./mi.js":[35493,"node_modules_moment_locale_mi_js"],"./mk.js":[95966,"node_modules_moment_locale_mk_js"],"./ml.js":[87341,"node_modules_moment_locale_ml_js"],"./mn.js":[5115,"node_modules_moment_locale_mn_js"],"./mr.js":[10370,"node_modules_moment_locale_mr_js"],"./ms-my.js":[41237,"node_modules_moment_locale_ms-my_js"],"./ms.js":[9847,"node_modules_moment_locale_ms_js"],"./mt.js":[72126,"node_modules_moment_locale_mt_js"],"./my.js":[56165,"node_modules_moment_locale_my_js"],"./nb.js":[64924,"node_modules_moment_locale_nb_js"],"./ne.js":[16744,"node_modules_moment_locale_ne_js"],"./nl-be.js":[59814,"node_modules_moment_locale_nl-be_js"],"./nl.js":[93901,"node_modules_moment_locale_nl_js"],"./nn.js":[83877,"node_modules_moment_locale_nn_js"],"./oc-lnc.js":[92135,"node_modules_moment_locale_oc-lnc_js"],"./pa-in.js":[15858,"node_modules_moment_locale_pa-in_js"],"./pl.js":[64495,"node_modules_moment_locale_pl_js"],"./pt-br.js":[57971,"node_modules_moment_locale_pt-br_js"],"./pt.js":[89520,"node_modules_moment_locale_pt_js"],"./ro.js":[96459,"node_modules_moment_locale_ro_js"],"./ru.js":[21793,"node_modules_moment_locale_ru_js"],"./sd.js":[40950,"node_modules_moment_locale_sd_js"],"./se.js":[10490,"node_modules_moment_locale_se_js"],"./si.js":[26994,"node_modules_moment_locale_si_js"],"./sk.js":[64249,"node_modules_moment_locale_sk_js"],"./sl.js":[14985,"node_modules_moment_locale_sl_js"],"./sq.js":[51104,"node_modules_moment_locale_sq_js"],"./sr-cyrl.js":[79915,"node_modules_moment_locale_sr-cyrl_js"],"./sr.js":[49131,"node_modules_moment_locale_sr_js"],"./ss.js":[85893,"node_modules_moment_locale_ss_js"],"./sv.js":[98760,"node_modules_moment_locale_sv_js"],"./sw.js":[91172,"node_modules_moment_locale_sw_js"],"./ta.js":[27333,"node_modules_moment_locale_ta_js"],"./te.js":[23110,"node_modules_moment_locale_te_js"],"./tet.js":[52095,"node_modules_moment_locale_tet_js"],"./tg.js":[27321,"node_modules_moment_locale_tg_js"],"./th.js":[9041,"node_modules_moment_locale_th_js"],"./tk.js":[19005,"node_modules_moment_locale_tk_js"],"./tl-ph.js":[75768,"node_modules_moment_locale_tl-ph_js"],"./tlh.js":[89444,"node_modules_moment_locale_tlh_js"],"./tr.js":[72397,"node_modules_moment_locale_tr_js"],"./tzl.js":[28254,"node_modules_moment_locale_tzl_js"],"./tzm-latn.js":[30699,"node_modules_moment_locale_tzm-latn_js"],"./tzm.js":[51106,"node_modules_moment_locale_tzm_js"],"./ug-cn.js":[9288,"node_modules_moment_locale_ug-cn_js"],"./uk.js":[67691,"node_modules_moment_locale_uk_js"],"./ur.js":[13795,"node_modules_moment_locale_ur_js"],"./uz-latn.js":[60588,"node_modules_moment_locale_uz-latn_js"],"./uz.js":[6791,"node_modules_moment_locale_uz_js"],"./vi.js":[65666,"node_modules_moment_locale_vi_js"],"./x-pseudo.js":[14378,"node_modules_moment_locale_x-pseudo_js"],"./yo.js":[75805,"node_modules_moment_locale_yo_js"],"./zh-cn.js":[83839,"node_modules_moment_locale_zh-cn_js"],"./zh-hk.js":[55726,"node_modules_moment_locale_zh-hk_js"],"./zh-mo.js":[99807,"node_modules_moment_locale_zh-mo_js"],"./zh-tw.js":[74152,"node_modules_moment_locale_zh-tw_js"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n.t(a,23)))}a.keys=()=>Object.keys(r),a.id=77961,e.exports=a},33260:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>Z});var a=r(18600),o=r(15961),i=r(32861),c=r(80419),l=r(8417),u=r(43554),s=r(80351),d=r.n(s),f=r(45582),m=r(2323),p=r(15558),h=r(98448),v=r(31352),y=r(62768),g=r(75357),b=r(45792);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a){var o,i=[],c=w(e);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=void 0;try{u=(0,b.m)(l,n,r)}catch(e){g.ZP.error(e.message);continue}var s,d=w(u);try{for(d.s();!(s=d.n()).done;){var f=s.value,m=[];if("CANCELLED"===f.status?m.push("fc-event-nc-cancelled"):"TENTATIVE"===f.status&&m.push("fc-event-nc-tentative"),f.hasComponent("VALARM")&&m.push("fc-event-nc-alarms"),"VTODO"!==f.name||null!==f.endDate){var p=void 0,h=void 0;if("VEVENT"===f.name)p=f.startDate.getInTimezone(a).jsDate,h=f.endDate.getInTimezone(a).jsDate;else{if("VTODO"!==f.name)continue;p=f.endDate.getInTimezone(a).jsDate,h=f.endDate.getInTimezone(a).jsDate}p.getTime()===h.getTime()&&h.setSeconds(h.getSeconds()+1),"VTODO"===f.name&&(m.push("fc-event-nc-task"),100!==f.percent&&"COMPLETED"!==f.status||m.push("fc-event-nc-task-completed"));var j=void 0;"VEVENT"===f.name?j=f.title?f.title.replace(/\n/g," "):(0,v.translate)("calendar","Untitled event"):(j=f.title?f.title.replace(/\n/g," "):(0,v.translate)("calendar","Untitled task"),null!==f.percent&&(j+=" (".concat(f.percent,"%)")));var _={id:[l.id,f.id].join("###"),title:j,allDay:f.isAllDay(),start:p,end:h,classNames:m,extendedProps:{objectId:l.id,recurrenceId:f.getReferenceRecurrenceId()?f.getReferenceRecurrenceId().unixTime:null,canModifyAllDay:f.canModifyAllDay(),calendarOrder:t.order,calendarName:t.displayName,calendarId:t.id,darkText:(0,y.RQ)((0,y.$W)(t.color)),objectType:f.name,percent:f.percent||null,davUrl:l.dav.url,location:f.location,description:f.description}};if(f.color){var O=(0,y.eq)(f.color);O&&(_.backgroundColor=O,_.borderColor=O,_.textColor=(0,y.Ud)(O))}i.push(_)}}}catch(e){d.e(e)}finally{d.f()}}}catch(e){c.e(e)}finally{c.f()}return i}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function I(){I=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new E(a||[]);return r(i,"_invoke",{value:j(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==O(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=_(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,c,"next",e)}function c(e){E(o,r,a,i,c,"throw",e)}i(void 0)}))}}function A(){return S.apply(this,arguments)}function S(){return(S=T(I().mark((function e(){var t,n,r,a,o,i,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,v.getLocale)().replace("_","-").toLowerCase(),n=(0,v.getLanguage)().replace("_","-").toLowerCase(),t!==n){e.next=4;break}return e.abrupt("return",D(t));case 4:return e.next=6,Promise.all([D(t),D(n)]);case 6:if(r=e.sent,a=x(r,2),o=a[0],i=a[1],o!==i){e.next=12;break}return e.abrupt("return",o);case 12:return c="nextcloud-calendar-fake-locale-".concat(o,"-").concat(i),d().defineLocale(c,{parentLocale:i,longDateFormat:{LT:d().localeData(o).longDateFormat("LT"),LTS:d().localeData(o).longDateFormat("LTS"),L:d().localeData(o).longDateFormat("L"),LL:d().localeData(o).longDateFormat("LL"),LLL:d().localeData(o).longDateFormat("LLL"),LLLL:d().localeData(o).longDateFormat("LLLL"),l:d().localeData(o).longDateFormat("l"),ll:d().localeData(o).longDateFormat("ll"),lll:d().localeData(o).longDateFormat("lll"),llll:d().localeData(o).longDateFormat("llll")},week:{dow:d().localeData(o).firstDayOfWeek(),doy:d().localeData(o).firstDayOfYear()}}),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return R.apply(this,arguments)}function R(){return(R=T(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(77961)("./".concat(t,".js"));case 3:return e.abrupt("return",t);case 6:return e.prev=6,e.t0=e.catch(0),n=t.split("-"),e.prev=9,t=n[0],e.next=13,r(77961)("./".concat(t,".js"));case 13:return e.abrupt("return",t);case 16:e.prev=16,e.t1=e.catch(9),console.debug("Fallback to locale","en");case 19:return e.abrupt("return","en");case 20:case"end":return e.stop()}}),e,null,[[0,6],[9,16]])})))).apply(this,arguments)}var L=r(59491),k=r(20629);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(){B=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new x(a||[]);return r(i,"_invoke",{value:j(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==P(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return E()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=_(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return m.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function M(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,c,"next",e)}function c(e){M(o,r,a,i,c,"throw",e)}i(void 0)}))}}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G={name:"Dashboard",components:{DashboardWidget:a.Z,DashboardWidgetItem:a.v,NcButton:o.P2,EmptyContent:o.SL,EmptyCalendar:i.Z,IconCheck:c.default,IconCheckbox:l.default},data:function(){return{events:null,locale:"en",imagePath:(0,f.imagePath)("calendar","illustrations/calendar"),loading:!0,now:(0,p.n8)()}},computed:V(V({},(0,k.Se)({timezoneObject:"getResolvedTimezoneObject"})),{},{items:function(){if(!Array.isArray(this.events)||0===this.events.length)return[];var e=this.events[0];return d()(this.now).endOf("day").isBefore(e.startDate)?[{isEmptyItem:!0}].concat(this.events.slice(0,4)):this.events},clickStartNew:function(){return(0,f.generateUrl)("apps/calendar")+"/new"}}),mounted:function(){this.initialize()},methods:{initialize:function(){var e=this;return Y(B().mark((function t(){var n,r,a,o;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,p.n8)(),(r=(0,p.n8)()).setDate(r.getDate()+14),a=d()(n).startOf("day").toDate(),t.next=6,e.initializeEnvironment();case 6:return t.next=8,e.fetchExpandedEvents(n,r);case 8:return o=t.sent,t.next=11,e.formatEvents(o,a);case 11:e.events=t.sent,e.loading=!1;case 13:case"end":return t.stop()}}),t)})))()},initializeEnvironment:function(){var e=this;return Y(B().mark((function t(){var n,r,a,o;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.yG)();case 2:return t.next=4,e.$store.dispatch("fetchCurrentUserPrincipal");case 4:return t.next=6,e.$store.dispatch("loadCollections");case 6:return n=(0,u.j)("calendar","dashboard_data"),r=n.show_tasks,a=n.timezone,t.next=9,A();case 9:o=t.sent,e.$store.commit("loadSettingsFromServer",{timezone:a,showTasks:r}),e.$store.commit("setMomentLocale",{locale:o});case 12:case"end":return t.stop()}}),t)})))()},fetchExpandedEvents:function(e,t){var n=this;return Y(B().mark((function r(){var a,o,i,c,l,u;return B().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=(0,h.Z)(10),o=[],i=N(n.$store.getters.enabledCalendars),r.prev=3,l=B().mark((function r(){var i;return B().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=c.value,o.push(a(Y(B().mark((function r(){var a,o;return B().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$store.dispatch("getEventsFromCalendarInTimeRange",{calendar:i,from:e,to:t});case 3:a=r.sent,r.next=9;break;case 6:return r.prev=6,r.t0=r.catch(0),r.abrupt("return",[]);case 9:return o=n.$store.getters.getCalendarObjectsByTimeRangeId(a),r.abrupt("return",_(o,i,e,t,n.timezoneObject));case 11:case"end":return r.stop()}}),r,null,[[0,6]])})))));case 2:case"end":return r.stop()}}),r)})),i.s();case 6:if((c=i.n()).done){r.next=10;break}return r.delegateYield(l(),"t0",8);case 8:r.next=6;break;case 10:r.next=15;break;case 12:r.prev=12,r.t1=r.catch(3),i.e(r.t1);case 15:return r.prev=15,i.f(),r.finish(15);case 18:return r.next=20,Promise.all(o);case 20:return u=r.sent,r.abrupt("return",u.flat());case 22:case"end":return r.stop()}}),r,null,[[3,12,15,18]])})))()},formatEvents:function(e,t){var n=this;return e.sort((function(e,t){return e.start.getTime()-t.start.getTime()})).filter((function(e){return!e.classNames.includes("fc-event-nc-task-completed")})).filter((function(e){return!e.classNames.includes("fc-event-nc-cancelled")})).filter((function(e){return t.getTime()<=e.start.getTime()})).slice(0,7).map((function(e){return{isEmptyItem:!1,componentName:e.extendedProps.objectType,targetUrl:"VEVENT"===e.extendedProps.objectType?n.getCalendarAppUrl(e):n.getTasksAppUrl(e),subText:n.formatSubtext(e),mainText:e.title,startDate:e.start,calendarColor:n.$store.state.calendars.calendarsById[e.extendedProps.calendarId].color,calendarDisplayName:n.$store.state.calendars.calendarsById[e.extendedProps.calendarId].displayname}}))},formatSubtext:function(e){var n=this.$store.state.settings.momentLocale;if(e.allDay)return d()(e.start).locale(n).calendar(null,{sameDay:t("calendar","[Today]"),nextDay:t("calendar","[Tomorrow]"),nextWeek:"dddd",lastDay:t("calendar","[Yesterday]"),lastWeek:t("calendar","[Last] dddd"),sameElse:function(){return"[replace-from-now]"}}).replace("replace-from-now",d()(e.start).locale(n).fromNow());var r=L.ul.fromJSDate(e.start).getInTimezone(this.timezoneObject).utcOffset()/60;return d()(e.start).utcOffset(r).locale(n).calendar(null,{sameElse:function(){return"[replace-from-now]"}}).replace("replace-from-now",d()(e.start).utcOffset(r).locale(n).fromNow())},getCalendarAppUrl:function(e){var t=e.extendedProps;return(0,f.generateUrl)("apps/calendar")+"/edit/"+t.objectId+"/"+t.recurrenceId},getTasksAppUrl:function(e){var t=e.extendedProps.davUrl.split("/"),n=t.pop(),r=t.pop();return(0,f.generateUrl)("apps/tasks")+"/#/calendars/".concat(r,"/tasks/").concat(n)}}};r(9567);const Z=(0,r(51900).Z)(G,(function(){var e=this,t=e._self._c;return t("DashboardWidget",{attrs:{id:"calendar_panel",items:e.items,loading:e.loading},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.item;return[r.isEmptyItem?t("EmptyContent",{staticClass:"half-screen",attrs:{id:"calendar-widget-empty-content",title:e.t("calendar","No more events today")},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconCheck",{attrs:{size:67}})]},proxy:!0}],null,!0)}):t("DashboardWidgetItem",{attrs:{"main-text":r.mainText,"sub-text":r.subText,"target-url":r.targetUrl},scopedSlots:e._u([{key:"avatar",fn:function(){return["VEVENT"===r.componentName?t("div",{staticClass:"calendar-dot",style:{"background-color":r.calendarColor},attrs:{title:r.calendarDisplayName}}):t("IconCheckbox",{attrs:{"fill-color":r.calendarColor}})]},proxy:!0}],null,!0)})]}},{key:"empty-content",fn:function(){return[t("EmptyContent",{attrs:{id:"calendar-widget-empty-content",title:e.t("calendar","No upcoming events")},scopedSlots:e._u([{key:"icon",fn:function(){return[t("EmptyCalendar")]},proxy:!0}])}),e._v(" "),t("div",{staticClass:"empty-label"},[t("NcButton",{attrs:{type:"secondary",href:e.clickStartNew}},[e._v("\n\t\t\t\t"+e._s(e.t("calendar","Create a new event"))+"\n\t\t\t")])],1)]},proxy:!0}])})}),[],!1,null,null,null).exports},9567:(e,t,n)=>{var r=n(92916);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,n(45346).Z)("6040151a",r,!0,{})}}]);
//# sourceMappingURL=calendar-dashboard-lazy.js.map?v=b3c1ef7884dc5d16d1d8