/*! For license information please see mail.account-settings.c44a502643324bf68b28.js.LICENSE.txt */
"use strict";(self.webpackChunknextcloud_mail=self.webpackChunknextcloud_mail||[]).push([[113],{75743:function(t,e,n){n.d(e,{G:function(){return f},s:function(){return u}});var r=n(79753),o=n(93664);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function h(){}function v(){}function m(){}var y={};l(y,s,(function(){return this}));var g=Object.getPrototypeOf,A=g&&g(g(k([])));A&&A!==e&&n.call(A,s)&&(y=A);var b=m.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,c){var u=d(t[r],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e,n){return l.apply(this,arguments)}function l(){return(l=c(a().mark((function t(e,n,i){var s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(0,r.generateUrl)("/apps/mail/api/trustedsenders/{email}?type={type}",{email:e,type:n}),!i){t.next=6;break}return t.next=4,o.Z.put(s);case 4:t.next=8;break;case 6:return t.next=8,o.Z.delete(s);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return d.apply(this,arguments)}function d(){return(d=c(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,r.generateUrl)("/apps/mail/api/trustedsenders"),t.next=3,o.Z.get(e);case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},87789:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".button.icon-rename[data-v-47366de6]{background-color:rgba(0,0,0,0);border:none;opacity:.3}.button.icon-rename[data-v-47366de6]:hover,.button.icon-rename[data-v-47366de6]:focus{opacity:1}","",{version:3,sources:["webpack://./src/components/AccountDefaultsSettings.vue"],names:[],mappings:"AACA,qCACC,8BAAA,CACA,WAAA,CACA,UAAA,CAEA,sFAEC,SAAA",sourcesContent:["\n.button.icon-rename {\n\tbackground-color: transparent;\n\tborder: none;\n\topacity: 0.3;\n\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},60191:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".alias-item[data-v-33a6bb11]{display:flex;justify-content:space-between}.button.icon-rename[data-v-33a6bb11]{background-image:var(--icon-rename-000);background-color:var(--color-main-background);border:none;opacity:.7}.button.icon-rename[data-v-33a6bb11]:hover,.button.icon-rename[data-v-33a6bb11]:focus{opacity:1}.settings-hint[data-v-33a6bb11]{margin-top:-12px;margin-bottom:6px;color:var(--color-text-maxcontrast)}h2[data-v-33a6bb11]{font-weight:bold;font-size:20px;margin-bottom:12px;margin-left:-30px;line-height:30px;color:var(--color-text-light)}.app-settings-section[data-v-33a6bb11]{margin-bottom:45px}[data-v-33a6bb11] .modal-container,[data-v-33a6bb11] .app-settings__wrapper{position:unset !important}","",{version:3,sources:["webpack://./src/components/AccountSettings.vue"],names:[],mappings:"AACA,6BACC,YAAA,CACA,6BAAA,CAGD,qCACC,uCAAA,CACA,6CAAA,CACA,WAAA,CACA,UAAA,CACA,sFAEC,SAAA,CAGF,gCACC,gBAAA,CACA,iBAAA,CACA,mCAAA,CAED,oBACC,gBAAA,CACA,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,gBAAA,CACA,6BAAA,CAED,uCACA,kBAAA,CAGA,4EAEC,yBAAA",sourcesContent:["\n.alias-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.button.icon-rename {\n\tbackground-image: var(--icon-rename-000);\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\topacity: 0.7;\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n.settings-hint {\n\tmargin-top: -12px;\n\tmargin-bottom: 6px;\n\tcolor: var(--color-text-maxcontrast);\n}\nh2 {\n\tfont-weight: bold;\n\tfont-size: 20px;\n\tmargin-bottom: 12px;\n\tmargin-left: -30px;\n\tline-height: 30px;\n\tcolor: var(--color-text-light);\n}\n.app-settings-section {\nmargin-bottom: 45px;\n}\n// Fix weird modal glitches on Firefox when toggling autoresponder\n:deep(.modal-container),\n:deep(.app-settings__wrapper) {\n\tposition: unset !important;\n}\n"],sourceRoot:""}]),e.Z=a},29445:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".alias-form[data-v-6633b2e2]{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;width:100%}.alias-form__form[data-v-6633b2e2]{display:flex;flex:1 auto;gap:10px}.alias-form__form--expand[data-v-6633b2e2]{flex-basis:calc(100% - 44px - 10px)}.alias-form__form__input[data-v-6633b2e2]{flex:1 auto}.alias-form__actions[data-v-6633b2e2]{display:flex}","",{version:3,sources:["webpack://./src/components/AliasForm.vue"],names:[],mappings:"AAGA,6BACC,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,QANU,CAOV,cAAA,CACA,UAAA,CAEA,mCACC,YAAA,CACA,WAAA,CACA,QAAA,CAEA,2CAEC,mCAAA,CAGD,0CACC,WAAA,CAIF,sCACC,YAAA",sourcesContent:["\n$form-gap: 10px;\n\n.alias-form {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: $form-gap;\n\tflex-wrap: wrap;\n\twidth: 100%;\n\n\t&__form {\n\t\tdisplay: flex;\n\t\tflex: 1 auto;\n\t\tgap: 10px; // Gap between inputs\n\n\t\t&--expand {\n\t\t\t// Prevent the submit button from being wrapped to the next line on normal sized screens\n\t\t\tflex-basis: calc(100% - 44px - $form-gap);\n\t\t}\n\n\t\t&__input {\n\t\t\tflex: 1 auto;\n\t\t}\n\t}\n\n\t&__actions {\n\t\tdisplay: flex;\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},98286:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".primary[data-v-28fd46e8]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-28fd46e8]:after{left:14px}.button-text[data-v-28fd46e8]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-28fd46e8]:hover,.button-text[data-v-28fd46e8]:focus{color:var(--color-main-text)}input[data-v-28fd46e8]{width:195px}.button-vue[data-v-28fd46e8] {display:inline-block !important;margin-top:4px !important}","",{version:3,sources:["webpack://./src/components/AliasSettings.vue"],names:[],mappings:"AACA,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACC,SAAA,CAIF,8BACC,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEC,4BAAA,CAIF,uBACC,WAAA,CAED,8BACC,+BAAA,CACA,yBAAA",sourcesContent:["\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\tleft: 14px;\n\t}\n}\n\n.button-text {\n\tbackground-color: transparent;\n\tborder: none;\n\tcolor: var(--color-text-maxcontrast);\n\tfont-weight: normal;\n\n\t&:hover,\n\t&:focus {\n\t\tcolor: var(--color-main-text);\n\t}\n}\n\ninput {\n\twidth: 195px;\n}\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n\tmargin-top: 4px !important;\n}\n"],sourceRoot:""}]),e.Z=a},92251:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".multiselect--single[data-v-16d9b268]{width:100%;margin-bottom:4px}.button-vue[data-v-16d9b268]{margin-top:4px !important}","",{version:3,sources:["webpack://./src/components/CertificateSettings.vue"],names:[],mappings:"AACA,sCACE,UAAA,CACA,iBAAA,CAGF,6BACC,yBAAA",sourcesContent:["\n.multiselect--single {\n  width: 100%;\n  margin-bottom: 4px;\n}\n\n.button-vue {\n\tmargin-top: 4px !important;\n}\n"],sourceRoot:""}]),e.Z=a},28066:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"label[data-v-2a4cf7ad]{padding-right:12px}","",{version:3,sources:["webpack://./src/components/EditorSettings.vue"],names:[],mappings:"AAEA,uBACC,kBAAA",sourcesContent:["\n\nlabel {\n\tpadding-right: 12px;\n}\n"],sourceRoot:""}]),e.Z=a},49397:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".form[data-v-5baa2848]{display:flex;flex-direction:column;gap:15px}.form__fieldset[data-v-5baa2848]{display:flex;flex-direction:column}.form__fieldset__label[data-v-5baa2848]{display:flex;align-items:center;gap:5px}.form__fieldset__input[data-v-5baa2848]{flex:1 auto}.form__fieldset__description[data-v-5baa2848]{color:var(--color-text-maxcontrast)}.form__multi-row[data-v-5baa2848]{display:flex;align-items:end;gap:15px}.form #ooo-enable-last-day[data-v-5baa2848]{cursor:pointer;min-height:unset}.form #ooo-subject[data-v-5baa2848]{width:100%}.form #ooo-message[data-v-5baa2848]{width:100%;min-height:100px;border:1px solid var(--color-border)}.form #ooo-message[data-v-5baa2848]:active,.form #ooo-message[data-v-5baa2848]:focus,.form #ooo-message[data-v-5baa2848]:hover{border-color:var(--color-primary-element) !important}","",{version:3,sources:["webpack://./src/components/OutOfOfficeForm.vue"],names:[],mappings:"AACA,uBACC,YAAA,CACA,qBAAA,CACA,QAAA,CAEA,iCACC,YAAA,CACA,qBAAA,CAEA,wCACC,YAAA,CACA,kBAAA,CACA,OAAA,CAGD,wCACC,WAAA,CAGD,8CACC,mCAAA,CAIF,kCACC,YAAA,CACA,eAAA,CACA,QAAA,CAGD,4CACC,cAAA,CACA,gBAAA,CAGD,oCACC,UAAA,CAGD,oCACC,UAAA,CACA,gBAAA,CACA,oCAAA,CAEA,+HAGC,oDAAA",sourcesContent:["\n.form {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 15px;\n\n\t&__fieldset {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__label {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 5px;\n\t\t}\n\n\t\t&__input {\n\t\t\tflex: 1 auto;\n\t\t}\n\n\t\t&__description {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t}\n\n\t&__multi-row {\n\t\tdisplay: flex;\n\t\talign-items: end;\n\t\tgap: 15px;\n\t}\n\n\t#ooo-enable-last-day {\n\t\tcursor: pointer;\n\t\tmin-height: unset;\n\t}\n\n\t#ooo-subject {\n\t\twidth: 100%;\n\t}\n\n\t#ooo-message {\n\t\twidth: 100%;\n\t\tmin-height: 100px;\n\t\tborder: 1px solid var(--color-border);\n\n\t\t&:active,\n\t\t&:focus,\n\t\t&:hover {\n\t\t\tborder-color: var(--color-primary-element) !important;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},50936:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".section[data-v-18fcabc3]{display:block;padding:0;margin-bottom:23px}textarea[data-v-18fcabc3]{width:100%}.primary[data-v-18fcabc3]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-18fcabc3]:after{left:14px}","",{version:3,sources:["webpack://./src/components/SieveFilterForm.vue"],names:[],mappings:"AACA,0BACC,aAAA,CACA,SAAA,CACA,kBAAA,CAGD,0BACC,UAAA,CAGD,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA",sourcesContent:["\n.section {\n\tdisplay: block;\n\tpadding: 0;\n\tmargin-bottom: 23px;\n}\n\ntextarea {\n\twidth: 100%;\n}\n\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\t left: 14px;\n\t }\n}\n"],sourceRoot:""}]),e.Z=a},21180:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".ck.ck-editor__editable_inline[data-v-5e504221]{width:100%;max-width:78vw;height:100%;min-height:100px;border-radius:var(--border-radius) !important;border:1px solid var(--color-border) !important;box-shadow:none !important}.primary[data-v-5e504221]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-5e504221]:after{left:14px}.button-text[data-v-5e504221]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-5e504221]:hover,.button-text[data-v-5e504221]:focus{color:var(--color-main-text)}.section[data-v-5e504221]{display:block;padding:0;margin-bottom:23px}.multiselect--single[data-v-5e504221]{width:100%}.ck-balloon-panel[data-v-5e504221]{z-index:10000 !important}.button-vue[data-v-5e504221] {display:inline-block !important;margin-top:4px !important}.warning-large-signature[data-v-5e504221]{color:#ff8c00}","",{version:3,sources:["webpack://./src/components/SignatureSettings.vue"],names:[],mappings:"AACA,gDACE,UAAA,CACA,cAAA,CACA,WAAA,CACA,gBAAA,CACA,6CAAA,CACA,+CAAA,CACA,0BAAA,CAGF,0BACE,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA,CAIJ,8BACE,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEE,4BAAA,CAGJ,0BACE,aAAA,CACA,SAAA,CACA,kBAAA,CAEF,sCACE,UAAA,CAEF,mCACE,wBAAA,CAEF,8BACC,+BAAA,CACA,yBAAA,CAED,0CACC,aAAA",sourcesContent:["\n.ck.ck-editor__editable_inline {\n  width: 100%;\n  max-width: 78vw;\n  height: 100%;\n  min-height: 100px;\n  border-radius: var(--border-radius) !important;\n  border: 1px solid var(--color-border) !important;\n  box-shadow: none !important;\n}\n\n.primary {\n  padding-left: 26px;\n  background-position: 6px;\n  color: var(--color-main-background);\n\n  &:after {\n    left: 14px;\n  }\n}\n\n.button-text {\n  background-color: transparent;\n  border: none;\n  color: var(--color-text-maxcontrast);\n  font-weight: normal;\n\n  &:hover,\n  &:focus {\n    color: var(--color-main-text);\n  }\n}\n.section {\n  display: block;\n  padding: 0;\n  margin-bottom: 23px;\n}\n.multiselect--single {\n  width: 100%;\n}\n.ck-balloon-panel {\n\t z-index: 10000 !important;\n }\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n\tmargin-top: 4px !important;\n}\n.warning-large-signature {\n\tcolor: darkorange;\n}\n"],sourceRoot:""}]),e.Z=a},67763:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".button-vue[data-v-c2fd9528] {display:inline-block !important}","",{version:3,sources:["webpack://./src/components/TrustedSenders.vue"],names:[],mappings:"AACA,8BACC,+BAAA",sourcesContent:["\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n}\n"],sourceRoot:""}]),e.Z=a},45109:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n\tbackground-color: var(--color-main-background)\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n.vue-treeselect__menu {\n\tbackground: var(--color-main-background);\n}\n.vue-treeselect--single .vue-treeselect__option--selected {\n\tbackground: var(--color-primary-element-light);\n\tborder-radius: var(--border-radius-large);\n}\n.vue-treeselect__option.vue-treeselect__option--highlight,\n.vue-treeselect__option:hover,\n.vue-treeselect__option:focus {\n\tborder-radius: var(--border-radius-large);\n}\n.vue-treeselect__placeholder, .vue-treeselect__single-value {\n\tline-height: 44px;\n}\n\n","",{version:3,sources:["webpack://./src/components/MailboxInlinePicker.vue"],names:[],mappings:";AAwEA;CACA,UAAA;CACA,SAAA;CACA,YAAA;AACA;AACA;CACA,aAAA;AACA;AACA;CACA,eAAA;CACA;AACA;AACA;CACA,SAAA;CACA,UAAA;AACA;AACA;CACA,wCAAA;AACA;AACA;CACA,8CAAA;CACA,yCAAA;AACA;AACA;;;CAGA,yCAAA;AACA;AACA;CACA,iBAAA;AACA",sourcesContent:["<template>\n\t<Treeselect\n\t\tref=\"Treeselect\"\n\t\tv-model=\"selected\"\n\t\t:options=\"mailboxes\"\n\t\t:multiple=\"false\"\n\t\t:clearable=\"false\"\n\t\t:disabled=\"disabled\" />\n</template>\n<script>\nimport Treeselect from '@riophae/vue-treeselect'\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\nimport { mailboxHasRights } from '../util/acl'\n\nexport default {\n\tname: 'MailboxInlinePicker',\n\tcomponents: {\n\t\tTreeselect,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Number,\n\t\t\tdefault: undefined,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: this.value,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmailboxes() {\n\t\t\treturn this.getMailboxes()\n\t\t},\n\t},\n\twatch: {\n\t\tselected(val) {\n\t\t\tif (val !== this.value) {\n\t\t\t\tthis.$emit('input', val)\n\t\t\t\tthis.selected = val\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tgetMailboxes(mailboxId) {\n\t\t\tlet mailboxes = []\n\t\t\tif (!mailboxId) {\n\t\t\t\tmailboxes = this.$store.getters.getMailboxes(this.account.accountId)\n\t\t\t} else {\n\t\t\t\tmailboxes = this.$store.getters.getSubMailboxes(mailboxId)\n\t\t\t}\n\t\t\tmailboxes = mailboxes.filter(mailbox => mailboxHasRights(mailbox, 'i'))\n\t\t\treturn mailboxes.map((mailbox) => {\n\t\t\t\t return {\n\t\t\t\t\tid: mailbox.databaseId,\n\t\t\t\t\tlabel: mailbox.displayName,\n\t\t\t\t\tchildren: mailbox.mailboxes.length > 0 ? this.getMailboxes(mailbox.databaseId) : '',\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n<\/script>\n<style>\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n\tbackground-color: var(--color-main-background)\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n.vue-treeselect__menu {\n\tbackground: var(--color-main-background);\n}\n.vue-treeselect--single .vue-treeselect__option--selected {\n\tbackground: var(--color-primary-element-light);\n\tborder-radius: var(--border-radius-large);\n}\n.vue-treeselect__option.vue-treeselect__option--highlight,\n.vue-treeselect__option:hover,\n.vue-treeselect__option:focus {\n\tborder-radius: var(--border-radius-large);\n\t}\n.vue-treeselect__placeholder, .vue-treeselect__single-value {\n\tline-height: 44px;\n}\n\n</style>\n"],sourceRoot:""}]),e.Z=a},27267:function(t,e,n){var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"\nform[data-v-c0776266] {\n\twidth: 250px\n}\nlabel[data-v-c0776266] {\n\tdisplay: inline-block;\n}\ninput[data-v-c0776266] {\n\twidth: 100%;\n}\n.flex-row[data-v-c0776266] {\n\tdisplay: flex;\n}\nlabel.button[data-v-c0776266] {\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.error[data-v-c0776266] {\n\tcolor: red;\n}\ninput[type='radio'][data-v-c0776266] {\n\tdisplay: none;\n}\n","",{version:3,sources:["webpack://./src/components/SieveAccountForm.vue"],names:[],mappings:";AAyMA;CACA;AACA;AAEA;CACA,qBAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,kBAAA;CACA,YAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,aAAA;AACA",sourcesContent:['<template>\n\t<form id="sieve-form">\n\t\t<p>\n\t\t\t<input\n\t\t\t\tid="sieve-disabled"\n\t\t\t\tv-model="sieveConfig.sieveEnabled"\n\t\t\t\ttype="radio"\n\t\t\t\tclass="radio"\n\t\t\t\tname="sieve-active"\n\t\t\t\t:value="false">\n\t\t\t<label\n\t\t\t\t:class="{primary: !sieveConfig.sieveEnabled}"\n\t\t\t\tfor="sieve-disabled">\n\t\t\t\t{{ t(\'mail\', \'Disabled\') }}\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid="sieve-enabled"\n\t\t\t\tv-model="sieveConfig.sieveEnabled"\n\t\t\t\ttype="radio"\n\t\t\t\tclass="radio"\n\t\t\t\tname="sieve-active"\n\t\t\t\t:value="true">\n\t\t\t<label\n\t\t\t\t:class="{primary: sieveConfig.sieveEnabled}"\n\t\t\t\tfor="sieve-enabled">\n\t\t\t\t{{ t(\'mail\', \'Enabled\') }}\n\t\t\t</label>\n\t\t</p>\n\t\t<template v-if="sieveConfig.sieveEnabled">\n\t\t\t<label for="sieve-host">{{ t(\'mail\', \'Sieve Host\') }}</label>\n\t\t\t<input\n\t\t\t\tid="sieve-host"\n\t\t\t\tv-model="sieveConfig.sieveHost"\n\t\t\t\ttype="text"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t(\'mail\', \'Sieve Security\') }}</h4>\n\t\t\t<div class="flex-row">\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-none"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="none">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-none"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'none\'}">{{\n\t\t\t\t\t\tt(\'mail\', \'None\')\n\t\t\t\t\t}}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-ssl"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="ssl">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-ssl"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'ssl\'}">\n\t\t\t\t\t{{ t(\'mail\', \'SSL/TLS\') }}\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-tls"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="tls">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-tls"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'tls\'}">\n\t\t\t\t\t{{ t(\'mail\', \'STARTTLS\') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<label for="sieve-port">{{ t(\'mail\', \'Sieve Port\') }}</label>\n\t\t\t<input\n\t\t\t\tid="sieve-port"\n\t\t\t\tv-model="sieveConfig.sievePort"\n\t\t\t\ttype="text"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t(\'mail\', \'Sieve Credentials\') }}</h4>\n\t\t\t<p>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-credentials-imap"\n\t\t\t\t\tv-model="useImapCredentials"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tclass="radio"\n\t\t\t\t\t:value="true">\n\t\t\t\t<label\n\t\t\t\t\t:class="{primary: useImapCredentials}"\n\t\t\t\t\tfor="sieve-credentials-imap">\n\t\t\t\t\t{{ t(\'mail\', \'IMAP Credentials\') }}\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-credentials-custom"\n\t\t\t\t\tv-model="useImapCredentials"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tclass="radio"\n\t\t\t\t\t:value="false">\n\t\t\t\t<label\n\t\t\t\t\t:class="{primary: !useImapCredentials}"\n\t\t\t\t\tfor="sieve-credentials-custom">\n\t\t\t\t\t{{ t(\'mail\', \'Custom\') }}\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<template v-if="!useImapCredentials">\n\t\t\t\t<label for="sieve-user">{{ t(\'mail\', \'Sieve User\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-user"\n\t\t\t\t\tv-model="sieveConfig.sieveUser"\n\t\t\t\t\ttype="text"\n\t\t\t\t\trequired>\n\t\t\t\t<label for="sieve-password">{{\n\t\t\t\t\tt(\'mail\', \'Sieve Password\')\n\t\t\t\t}}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-password"\n\t\t\t\t\tv-model="sieveConfig.sievePassword"\n\t\t\t\t\ttype="password"\n\t\t\t\t\trequired>\n\t\t\t</template>\n\t\t</template>\n\t\t<slot name="feedback" />\n\t\t<p v-if="errorMessage">\n\t\t\t{{ t(\'mail\', \'Oh Snap!\') }}\n\t\t\t{{ errorMessage }}\n\t\t</p>\n\t\t<ButtonVue type="primary"\n\t\t\t:disabled="loading"\n\t\t\t:aria-label="t(\'mail\', \'Save sieve settings\')"\n\t\t\t@click.prevent="onSubmit">\n\t\t\t{{ t(\'mail\', \'Save sieve settings\') }}\n\t\t</ButtonVue>\n\t</form>\n</template>\n\n<script>\nimport { NcButton as ButtonVue } from \'@nextcloud/vue\'\nexport default {\n\tname: \'SieveAccountForm\',\n\tcomponents: {\n\t\tButtonVue,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsieveConfig: {\n\t\t\t\tsieveEnabled: this.account.sieveEnabled,\n\t\t\t\tsieveHost: this.account.sieveHost || this.account.imapHost,\n\t\t\t\tsievePort: this.account.sievePort || 4190,\n\t\t\t\tsieveUser: this.account.sieveUser || \'\',\n\t\t\t\tsievePassword: \'\',\n\t\t\t\tsieveSslMode: this.account.sieveSslMode || \'tls\',\n\t\t\t},\n\t\t\tloading: false,\n\t\t\tuseImapCredentials: !this.account.sieveUser,\n\t\t\terrorMessage: \'\',\n\t\t}\n\t},\n\tmethods: {\n\t\tasync onSubmit() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = \'\'\n\n\t\t\t// empty user and password => use imap credentials\n\t\t\tif (this.sieveConfig.sieveUser === \'\' && this.sieveConfig.sievePassword === \'\') {\n\t\t\t\tthis.useImapCredentials = true\n\t\t\t}\n\n\t\t\t// clear user and password if imap credentials are used\n\t\t\tif (this.useImapCredentials) {\n\t\t\t\tthis.sieveConfig.sieveUser = \'\'\n\t\t\t\tthis.sieveConfig.sievePassword = \'\'\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch(\'updateSieveAccount\', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: this.sieveConfig,\n\t\t\t\t})\n\t\t\t\tif (this.sieveConfig.sieveEnabled) {\n\t\t\t\t\tawait this.$store.dispatch(\'fetchActiveSieveScript\', {\n\t\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorMessage = error.message\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\nform {\n\twidth: 250px\n}\n\nlabel {\n\tdisplay: inline-block;\n}\n\ninput {\n\twidth: 100%;\n}\n\n.flex-row {\n\tdisplay: flex;\n}\n\nlabel.button {\n\ttext-align: center;\n\tflex-grow: 1;\n}\n\nlabel.error {\n\tcolor: red;\n}\n\ninput[type=\'radio\'] {\n\tdisplay: none;\n}\n</style>\n'],sourceRoot:""}]),e.Z=a},35843:function(e,n,r){r.r(n),r.d(n,{default:function(){return We}});var o=r(68733),i=r(89177),a={name:"EditorSettings",props:{account:{type:Object,required:!0}},data:function(){return{mode:this.account.editorMode}},watch:{mode:function(t,e){var n=this;this.$store.dispatch("patchAccount",{account:this.account,data:{editorMode:t}}).then((function(){i.Z.info("editor mode updated")})).catch((function(t){throw i.Z.error("could not update editor mode",{error:t}),n.editorMode=e,t}))}}},s=r(93379),c=r.n(s),u=r(7795),l=r.n(u),f=r(90569),d=r.n(f),p=r(3565),h=r.n(p),v=r(19216),m=r.n(v),y=r(44589),g=r.n(y),A=r(28066),b={};b.styleTagTransform=g(),b.setAttributes=h(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=m(),c()(A.Z,b),A.Z&&A.Z.locals&&A.Z.locals;var w=r(51900),x=(0,w.Z)(a,(function(){var t=this,e=t._self._c;return e("div",[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"radio",attrs:{id:"plaintext",type:"radio",value:"plaintext"},domProps:{checked:t._q(t.mode,"plaintext")},on:{change:function(e){t.mode="plaintext"}}}),t._v(" "),e("label",{class:{primary:"plaintext"===t.mode},attrs:{for:"plaintext"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Plain text"))+"\n\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"radio",attrs:{id:"richtext",type:"radio",value:"richtext"},domProps:{checked:t._q(t.mode,"richtext")},on:{change:function(e){t.mode="richtext"}}}),t._v(" "),e("label",{class:{primary:"richtext"===t.mode},attrs:{for:"richtext"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Rich text"))+"\n\t\t")])])])}),[],!1,null,"2a4cf7ad",null).exports,C=r(4301),_=r.n(C),S=(r(83566),r(47360)),E={name:"MailboxInlinePicker",components:{Treeselect:_()},props:{account:{type:Object,required:!0},disabled:{type:Boolean,default:!1},value:{type:Number,default:void 0}},data:function(){return{selected:this.value}},computed:{mailboxes:function(){return this.getMailboxes()}},watch:{selected:function(t){t!==this.value&&(this.$emit("input",t),this.selected=t)}},methods:{getMailboxes:function(t){var e=this;return(t?this.$store.getters.getSubMailboxes(t):this.$store.getters.getMailboxes(this.account.accountId)).filter((function(t){return(0,S.Y)(t,"i")})).map((function(t){return{id:t.databaseId,label:t.displayName,children:t.mailboxes.length>0?e.getMailboxes(t.databaseId):""}}))}}},L=r(45109),k={};function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function j(){j=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==O(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function P(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function I(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){P(i,r,o,a,s,"next",t)}function s(t){P(i,r,o,a,s,"throw",t)}a(void 0)}))}}k.styleTagTransform=g(),k.setAttributes=h(),k.insert=d().bind(null,"head"),k.domAPI=l(),k.insertStyleElement=m(),c()(L.Z,k),L.Z&&L.Z.locals&&L.Z.locals;var D={name:"AccountDefaultsSettings",components:{MailboxInlinePicker:(0,w.Z)(E,(function(){var t=this;return(0,t._self._c)("Treeselect",{ref:"Treeselect",attrs:{options:t.mailboxes,multiple:!1,clearable:!1,disabled:t.disabled},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})}),[],!1,null,null,null).exports},props:{account:{type:Object,required:!0}},data:function(){return{saving:!1}},computed:{draftsMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.draftsMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return I(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.Z.debug("setting drafts mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{draftsMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),i.Z.error("could not set drafts mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}},sentMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.sentMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return I(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.Z.debug("setting sent mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{sentMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),i.Z.error("could not set sent mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}},trashMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.trashMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return I(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.Z.debug("setting trash mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{trashMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),i.Z.error("could not set trash mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}},archiveMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.archiveMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return I(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.Z.debug("setting archive mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{archiveMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),i.Z.error("could not set archive mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}},junkMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.junkMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return I(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.Z.debug("setting junk mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{junkMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),i.Z.error("could not set junk mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}},snoozeMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.snoozeMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return I(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.Z.debug("setting snooze mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{snoozeMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),i.Z.error("could not set snooze mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}}}},N=r(87789),M={};M.styleTagTransform=g(),M.setAttributes=h(),M.insert=d().bind(null,"head"),M.domAPI=l(),M.insertStyleElement=m(),c()(N.Z,M),N.Z&&N.Z.locals&&N.Z.locals;var B=(0,w.Z)(D,(function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v("\n\t\t"+t._s(t.t("mail","Drafts are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.draftsMailbox,callback:function(e){t.draftsMailbox=e},expression:"draftsMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Sent messages are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.sentMailbox,callback:function(e){t.sentMailbox=e},expression:"sentMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Deleted messages are moved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.trashMailbox,callback:function(e){t.trashMailbox=e},expression:"trashMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Archived messages are moved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.archiveMailbox,callback:function(e){t.archiveMailbox=e},expression:"archiveMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Snoozed messages are moved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.snoozeMailbox,callback:function(e){t.snoozeMailbox=e},expression:"snoozeMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Junk messages are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.junkMailbox,callback:function(e){t.junkMailbox=e},expression:"junkMailbox"}})],1)}),[],!1,null,"47366de6",null).exports,T=r(22717),F=r(61189),G=r(20144),Z=r(15961),U=r(58441);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function H(){H=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==R(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Y(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function V(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Y(i,r,o,a,s,"next",t)}function s(t){Y(i,r,o,a,s,"throw",t)}a(void 0)}))}}var z={name:"SignatureSettings",components:{TextEditor:T.Z,Multiselect:Z.Z2,ButtonVue:Z.P2,IconLoading:Z.lb,IconCheck:U.default},props:{account:{type:Object,required:!0}},data:function(){return{loading:!1,bus:new G.ZP,identity:null,signature:"",signatureAboveQuote:this.account.signatureAboveQuote}},computed:{identities:function(){var t=this.account.aliases.map((function(t){return{id:t.id,label:t.name+" ("+t.alias+")",signature:t.signature}}));return t.unshift({id:-1,label:this.account.name+" ("+this.account.emailAddress+")",signature:this.account.signature}),t},isLargeSignature:function(){return new Blob([this.signature]).size>2097152}},watch:{signatureAboveQuote:function(t,e){var n=this;return V(H().mark((function r(){return H().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$store.dispatch("patchAccount",{account:n.account,data:{signatureAboveQuote:t}});case 3:i.Z.debug("signature above quoted updated to "+t),r.next=10;break;case 6:r.prev=6,r.t0=r.catch(0),i.Z.error("could not update signature above quote",{e:r.t0}),n.signatureAboveQuote=e;case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()}},beforeMount:function(){this.changeIdentity(this.identities[0])},methods:{changeIdentity:function(t){i.Z.debug("select identity",{identity:t}),this.identity=t,this.signature=t.signature?(0,F.vb)((0,F.qY)(t.signature)).value:""},deleteSignature:function(){var t=this;return V(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.signature=null,e.next=3,t.saveSignature();case 3:case"end":return e.stop()}}),e)})))()},saveSignature:function(){var t=this;return V(H().mark((function e(){var n,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n="updateAccountSignature",r={account:t.account,signature:t.signature},t.identity.id>-1&&(n="updateAliasSignature",r.aliasId=t.identity.id),e.abrupt("return",t.$store.dispatch(n,r).then((function(){i.Z.info("signature updated"),t.loading=!1})).catch((function(t){throw i.Z.error("could not update account signature",{error:t}),t})));case 5:case"end":return e.stop()}}),e)})))()},handleShowToolbar:function(t){this.$emit("show-toolbar",t)}}},$=r(21180),q={};q.styleTagTransform=g(),q.setAttributes=h(),q.insert=d().bind(null,"head"),q.domAPI=l(),q.insertStyleElement=m(),c()($.Z,q),$.Z&&$.Z.locals&&$.Z.locals;var Q=(0,w.Z)(z,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"section"},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.signatureAboveQuote,expression:"signatureAboveQuote"}],staticClass:"checkbox",attrs:{id:"signature-above-quote-toggle",type:"checkbox"},domProps:{checked:Array.isArray(t.signatureAboveQuote)?t._i(t.signatureAboveQuote,null)>-1:t.signatureAboveQuote},on:{change:function(e){var n=t.signatureAboveQuote,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&(t.signatureAboveQuote=n.concat([null])):i>-1&&(t.signatureAboveQuote=n.slice(0,i).concat(n.slice(i+1)))}else t.signatureAboveQuote=o}}}),t._v(" "),e("label",{attrs:{for:"signature-above-quote-toggle"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Place signature above quoted text"))+"\n\t\t")])]),t._v(" "),t.identities.length>1?e("Multiselect",{attrs:{"allow-empty":!1,options:t.identities,searchable:!1,value:t.identity,label:"label","track-by":"id"},on:{select:t.changeIdentity}}):t._e(),t._v(" "),e("TextEditor",{attrs:{html:!0,placeholder:t.t("mail","Signature …"),bus:t.bus},on:{"show-toolbar":t.handleShowToolbar},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}}),t._v(" "),t.isLargeSignature?e("p",{staticClass:"warning-large-signature"},[t._v("\n\t\t"+t._s(t.t("mail","Your signature is larger than 2 MB. This may affect the performance of your editor."))+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary",disabled:t.loading,"aria-label":t.t("mail","Save signature")},on:{click:t.saveSignature},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20,"fill-color":"white"}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("mail","Save signature"))+"\n\t")]),t._v(" "),t.signature?e("ButtonVue",{staticClass:"button-text",attrs:{"aria-label":t.t("mail","Delete"),type:"tertiary-no-background"},on:{click:t.deleteSignature}},[t._v("\n\t\t"+t._s(t.t("mail","Delete"))+"\n\t")]):t._e()],1)}),[],!1,null,"5e504221",null).exports,J=r(73229),K=r(76188);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function X(){X=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==W(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function tt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function et(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){tt(i,r,o,a,s,"next",t)}function s(t){tt(i,r,o,a,s,"throw",t)}a(void 0)}))}}var nt,rt,ot={name:"AliasForm",components:{NcButton:Z.P2,IconRename:J.default,IconLoading:Z.lb,IconDelete:K.Z,IconCheck:U.default},props:{account:{type:Object,required:!0},alias:{type:Object,required:!0},enableUpdate:{type:Boolean,default:!0},enableDelete:{type:Boolean,default:!0},onUpdateAlias:{type:Function,default:(rt=et(X().mark((function t(e,n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.alias,n.name;case 1:case"end":return t.stop()}}),t)}))),function(t,e){return rt.apply(this,arguments)})},onDelete:{type:Function,default:(nt=et(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return nt.apply(this,arguments)})}},data:function(){return{changeAlias:this.alias.alias,changeName:this.alias.name,showForm:!1,loading:!1}},computed:{formId:function(){return"alias-form-".concat(this.alias.id)}},methods:{updateAlias:function(){var t=this;return et(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.onUpdateAlias(t.alias.id,{alias:t.changeAlias,name:t.changeName});case 3:t.showForm=!1,t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},deleteAlias:function(){var t=this;return et(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.onDelete(t.alias.id);case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}}},it=ot,at=r(29445),st={};st.styleTagTransform=g(),st.setAttributes=h(),st.insert=d().bind(null,"head"),st.domAPI=l(),st.insertStyleElement=m(),c()(at.Z,st),at.Z&&at.Z.locals&&at.Z.locals;var ct=(0,w.Z)(it,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"alias-form"},[t.showForm?e("form",{staticClass:"alias-form__form",attrs:{id:t.formId},on:{submit:function(e){return e.preventDefault(),t.updateAlias.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.changeName,expression:"changeName"}],staticClass:"alias-form__form__input",attrs:{type:"text",required:""},domProps:{value:t.changeName},on:{input:function(e){e.target.composing||(t.changeName=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.changeAlias,expression:"changeAlias"}],staticClass:"alias-form__form__input",attrs:{disabled:t.alias.provisioned,type:"email",required:""},domProps:{value:t.changeAlias},on:{input:function(e){e.target.composing||(t.changeAlias=e.target.value)}}})]):e("div",[e("strong",[t._v(t._s(t.alias.name))]),t._v(" <"+t._s(t.alias.alias)+">\n\t")]),t._v(" "),e("div",{staticClass:"alias-form__actions"},[t.showForm?[e("NcButton",{attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Update alias"),"native-type":"submit",form:t.formId,title:t.t("mail","Update alias")},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}],null,!1,4145190044)})]:[t._t("default"),t._v(" "),t.enableUpdate?e("NcButton",{attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Rename alias"),title:t.t("mail","Show update alias form")},on:{click:function(e){e.preventDefault(),t.showForm=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconRename",{attrs:{size:20}})]},proxy:!0}],null,!1,4207163347)}):t._e(),t._v(" "),t.enableDelete&&!t.alias.provisioned?e("NcButton",{attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Delete alias"),title:t.t("mail","Delete alias")},on:{click:function(e){return e.preventDefault(),t.deleteAlias.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconDelete",{attrs:{size:20}})]},proxy:!0}],null,!1,1111346051)}):t._e()]],2)])}),[],!1,null,"6633b2e2",null);function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function lt(){lt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ut(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ft(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function dt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ft(i,r,o,a,s,"next",t)}function s(t){ft(i,r,o,a,s,"throw",t)}a(void 0)}))}}var pt={name:"AliasSettings",components:{AliasForm:ct.exports,ButtonVue:Z.P2,IconLoading:Z.lb,IconCheck:U.default,IconRename:J.default},props:{account:{type:Object,required:!0}},data:function(){return{newAlias:"",newName:this.account.name,showForm:!1,loading:!1}},computed:{aliases:function(){return this.account.aliases},accountAlias:function(){return{alias:this.account.emailAddress,name:this.account.name,provisioned:!!this.account.provisioningId,smimeCertificateId:this.account.smimeCertificateId}}},methods:{createAlias:function(){var t=this;return dt(lt().mark((function e(){return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("createAlias",{account:t.account,alias:t.newAlias,name:t.newName});case 3:i.Z.debug("created alias",{accountId:t.account.id,alias:t.newAlias,name:t.newName}),t.resetCreate(),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},resetCreate:function(){this.newAlias="",this.newName=this.account.name,this.showForm=!1},updateAlias:function(t,e){var n=this;return dt(lt().mark((function r(){var o;return lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n.aliases.find((function(e){return e.id===t})),r.next=3,n.$store.dispatch("updateAlias",{account:n.account,aliasId:o.id,alias:e.alias,name:e.name,smimeCertificateId:o.smimeCertificateId});case 3:case"end":return r.stop()}}),r)})))()},deleteAlias:function(t){var e=this;return dt(lt().mark((function n(){return lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("deleteAlias",{account:e.account,aliasId:t});case 2:case"end":return n.stop()}}),n)})))()}}},ht=r(98286),vt={};vt.styleTagTransform=g(),vt.setAttributes=h(),vt.insert=d().bind(null,"head"),vt.domAPI=l(),vt.insertStyleElement=m(),c()(ht.Z,vt),ht.Z&&ht.Z.locals&&ht.Z.locals;var mt=(0,w.Z)(pt,(function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"aliases-list"},[e("li",[e("AliasForm",{attrs:{account:t.account,alias:t.accountAlias,"enable-update":!1,"enable-delete":!1}},[t.account.provisioningId?t._e():e("ButtonVue",{attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Go back"),title:t.t("mail","Change name")},on:{click:function(e){return t.$emit("rename-primary-alias")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconRename",{attrs:{size:20}})]},proxy:!0}],null,!1,4207163347)})],1)],1),t._v(" "),t._l(t.aliases,(function(n){return e("li",{key:n.id},[e("AliasForm",{attrs:{account:t.account,alias:n,"on-update-alias":t.updateAlias,"on-delete":t.deleteAlias}})],1)})),t._v(" "),t.showForm?e("li",[e("form",{attrs:{id:"createAliasForm"},on:{submit:function(e){return e.preventDefault(),t.createAlias.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],attrs:{type:"text",placeholder:t.t("mail","Name"),required:""},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newAlias,expression:"newAlias"}],attrs:{type:"email",placeholder:t.t("mail","Email address"),required:""},domProps:{value:t.newAlias},on:{input:function(e){e.target.composing||(t.newAlias=e.target.value)}}})])]):t._e()],2),t._v(" "),t.account.provisioningId?t._e():e("div",[t.showForm?t._e():e("ButtonVue",{attrs:{type:"primary","aria-label":t.t("mail","Add alias")},on:{click:function(e){t.showForm=!0}}},[t._v("\n\t\t\t"+t._s(t.t("mail","Add alias"))+"\n\t\t")]),t._v(" "),t.showForm?e("ButtonVue",{attrs:{"native-type":"submit",type:"primary",form:"createAliasForm","aria-label":t.t("mail","Create alias"),disabled:t.loading},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}],null,!1,4145190044)},[t._v("\n\t\t\t"+t._s(t.t("mail","Create alias"))+"\n\t\t")]):t._e(),t._v(" "),t.showForm?e("ButtonVue",{staticClass:"button-text",attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Cancel")},on:{click:t.resetCreate}},[t._v("\n\t\t\t"+t._s(t.t("mail","Cancel"))+"\n\t\t")]):t._e()],1)])}),[],!1,null,"28fd46e8",null),yt=mt.exports,gt=r(75743),At=r(76059),bt=r.n(At),wt=r(66415),xt=r.n(wt),Ct=r(64024);function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function St(){St=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==_t(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Et(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Lt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Et(i,r,o,a,s,"next",t)}function s(t){Et(i,r,o,a,s,"throw",t)}a(void 0)}))}}var kt=xt()(bt()("email")),Ot={name:"TrustedSenders",components:{ButtonVue:Z.P2},data:function(){return{list:[]}},computed:{sortedSenders:function(){return kt(this.list)}},mounted:function(){var t=this;return Lt(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,gt.G)();case 2:t.list=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{removeSender:function(e){var n=this;return Lt(St().mark((function r(){return St().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.list=n.list.filter((function(t){return t.id!==e.id})),r.prev=1,r.next=4,(0,gt.s)(e.email,e.type,!1);case 4:r.next=11;break;case 6:r.prev=6,r.t0=r.catch(1),i.Z.error("Could not remove trusted sender ".concat(e.email),{error:r.t0}),(0,Ct.x2)(t("mail","Could not remove trusted sender {sender}",{sender:e.email})),n.list.push(e);case 11:case"end":return r.stop()}}),r,null,[[1,6]])})))()},senderType:function(e){switch(e){case"individual":return t("mail","individual");case"domain":return t("mail","domain")}return e}}},jt=r(67763),Pt={};Pt.styleTagTransform=g(),Pt.setAttributes=h(),Pt.insert=d().bind(null,"head"),Pt.domAPI=l(),Pt.insertStyleElement=m(),c()(jt.Z,Pt),jt.Z&&jt.Z.locals&&jt.Z.locals;var It=(0,w.Z)(Ot,(function(){var t=this,e=t._self._c;return e("div",[t._l(t.sortedSenders,(function(n){return e("div",{key:n.email},[t._v("\n\t\t"+t._s(n.email)+"\n\t\t"+t._s(t.senderType(n.type))+"\n\t\t"),e("ButtonVue",{staticClass:"button",attrs:{type:"tertiary","aria-label":t.t("mail","Remove")},on:{click:function(e){return t.removeSender(n)}}},[t._v("\n\t\t\t"+t._s(t.t("mail","Remove"))+"\n\t\t")])],1)})),t._v(" "),t.sortedSenders.length?t._e():e("span",[t._v(" "+t._s(t.t("mail","No senders are trusted at the moment.")))])],2)}),[],!1,null,"c2fd9528",null).exports;function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Nt(){Nt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Dt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Mt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var Bt={name:"SieveAccountForm",components:{ButtonVue:Z.P2},props:{account:{type:Object,required:!0}},data:function(){return{sieveConfig:{sieveEnabled:this.account.sieveEnabled,sieveHost:this.account.sieveHost||this.account.imapHost,sievePort:this.account.sievePort||4190,sieveUser:this.account.sieveUser||"",sievePassword:"",sieveSslMode:this.account.sieveSslMode||"tls"},loading:!1,useImapCredentials:!this.account.sieveUser,errorMessage:""}},methods:{onSubmit:function(){var t,e=this;return(t=Nt().mark((function t(){return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMessage="",""===e.sieveConfig.sieveUser&&""===e.sieveConfig.sievePassword&&(e.useImapCredentials=!0),e.useImapCredentials&&(e.sieveConfig.sieveUser="",e.sieveConfig.sievePassword=""),t.prev=4,t.next=7,e.$store.dispatch("updateSieveAccount",{account:e.account,data:e.sieveConfig});case 7:if(!e.sieveConfig.sieveEnabled){t.next=10;break}return t.next=10,e.$store.dispatch("fetchActiveSieveScript",{accountId:e.account.id});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.errorMessage=t.t0.message;case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[4,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Mt(i,r,o,a,s,"next",t)}function s(t){Mt(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}},Tt=Bt,Ft=r(27267),Gt={};Gt.styleTagTransform=g(),Gt.setAttributes=h(),Gt.insert=d().bind(null,"head"),Gt.domAPI=l(),Gt.insertStyleElement=m(),c()(Ft.Z,Gt),Ft.Z&&Ft.Z.locals&&Ft.Z.locals;var Zt=(0,w.Z)(Tt,(function(){var t=this,e=t._self._c;return e("form",{attrs:{id:"sieve-form"}},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveEnabled,expression:"sieveConfig.sieveEnabled"}],staticClass:"radio",attrs:{id:"sieve-disabled",type:"radio",name:"sieve-active"},domProps:{value:!1,checked:t._q(t.sieveConfig.sieveEnabled,!1)},on:{change:function(e){return t.$set(t.sieveConfig,"sieveEnabled",!1)}}}),t._v(" "),e("label",{class:{primary:!t.sieveConfig.sieveEnabled},attrs:{for:"sieve-disabled"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Disabled"))+"\n\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveEnabled,expression:"sieveConfig.sieveEnabled"}],staticClass:"radio",attrs:{id:"sieve-enabled",type:"radio",name:"sieve-active"},domProps:{value:!0,checked:t._q(t.sieveConfig.sieveEnabled,!0)},on:{change:function(e){return t.$set(t.sieveConfig,"sieveEnabled",!0)}}}),t._v(" "),e("label",{class:{primary:t.sieveConfig.sieveEnabled},attrs:{for:"sieve-enabled"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Enabled"))+"\n\t\t")])]),t._v(" "),t.sieveConfig.sieveEnabled?[e("label",{attrs:{for:"sieve-host"}},[t._v(t._s(t.t("mail","Sieve Host")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveHost,expression:"sieveConfig.sieveHost"}],attrs:{id:"sieve-host",type:"text",required:""},domProps:{value:t.sieveConfig.sieveHost},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sieveHost",e.target.value)}}}),t._v(" "),e("h4",[t._v(t._s(t.t("mail","Sieve Security")))]),t._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-none",type:"radio",name:"sieve-sec",value:"none"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"none")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","none")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"none"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-none"}},[t._v(t._s(t.t("mail","None")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-ssl",type:"radio",name:"sieve-sec",value:"ssl"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"ssl")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","ssl")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-ssl"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","SSL/TLS"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-tls",type:"radio",name:"sieve-sec",value:"tls"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"tls")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","tls")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-tls"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","STARTTLS"))+"\n\t\t\t")])]),t._v(" "),e("label",{attrs:{for:"sieve-port"}},[t._v(t._s(t.t("mail","Sieve Port")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sievePort,expression:"sieveConfig.sievePort"}],attrs:{id:"sieve-port",type:"text",required:""},domProps:{value:t.sieveConfig.sievePort},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sievePort",e.target.value)}}}),t._v(" "),e("h4",[t._v(t._s(t.t("mail","Sieve Credentials")))]),t._v(" "),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.useImapCredentials,expression:"useImapCredentials"}],staticClass:"radio",attrs:{id:"sieve-credentials-imap",type:"radio"},domProps:{value:!0,checked:t._q(t.useImapCredentials,!0)},on:{change:function(e){t.useImapCredentials=!0}}}),t._v(" "),e("label",{class:{primary:t.useImapCredentials},attrs:{for:"sieve-credentials-imap"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","IMAP Credentials"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.useImapCredentials,expression:"useImapCredentials"}],staticClass:"radio",attrs:{id:"sieve-credentials-custom",type:"radio"},domProps:{value:!1,checked:t._q(t.useImapCredentials,!1)},on:{change:function(e){t.useImapCredentials=!1}}}),t._v(" "),e("label",{class:{primary:!t.useImapCredentials},attrs:{for:"sieve-credentials-custom"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","Custom"))+"\n\t\t\t")])]),t._v(" "),t.useImapCredentials?t._e():[e("label",{attrs:{for:"sieve-user"}},[t._v(t._s(t.t("mail","Sieve User")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveUser,expression:"sieveConfig.sieveUser"}],attrs:{id:"sieve-user",type:"text",required:""},domProps:{value:t.sieveConfig.sieveUser},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sieveUser",e.target.value)}}}),t._v(" "),e("label",{attrs:{for:"sieve-password"}},[t._v(t._s(t.t("mail","Sieve Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sievePassword,expression:"sieveConfig.sievePassword"}],attrs:{id:"sieve-password",type:"password",required:""},domProps:{value:t.sieveConfig.sievePassword},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sievePassword",e.target.value)}}})]]:t._e(),t._v(" "),t._t("feedback"),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary",disabled:t.loading,"aria-label":t.t("mail","Save sieve settings")},on:{click:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t._v("\n\t\t"+t._s(t.t("mail","Save sieve settings"))+"\n\t")])],2)}),[],!1,null,"c0776266",null),Ut=Zt.exports;function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Ht(){Ht=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Rt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Rt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Rt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $t(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var qt={name:"SieveFilterForm",components:{ButtonVue:Z.P2,IconLoading:Z.lb,IconCheck:U.default},props:{account:{type:Object,required:!0}},data:function(){return{script:"",loading:!0,errorMessage:""}},computed:{scriptData:function(){return this.$store.getters.getActiveSieveScript(this.account.id)}},watch:{scriptData:{immediate:!0,handler:function(t){t&&(this.script=t.script,this.loading=!1)}}},methods:{saveActiveScript:function(){var e,n=this;return(e=Ht().mark((function e(){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loading=!0,n.errorMessage="",e.prev=2,e.next=5,n.$store.dispatch("updateActiveSieveScript",{accountId:n.account.id,scriptData:Vt(Vt({},n.scriptData),{},{script:n.script})});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),422===e.t0.response.status?n.errorMessage=t("mail","The syntax seems to be incorrect:")+" "+e.t0.response.data.message:n.errorMessage=e.t0.message;case 10:n.loading=!1;case 11:case"end":return e.stop()}}),e,null,[[2,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){$t(i,r,o,a,s,"next",t)}function s(t){$t(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}},Qt=qt,Jt=r(50936),Kt={};Kt.styleTagTransform=g(),Kt.setAttributes=h(),Kt.insert=d().bind(null,"head"),Kt.domAPI=l(),Kt.insertStyleElement=m(),c()(Jt.Z,Kt),Jt.Z&&Jt.Z.locals&&Jt.Z.locals;var Wt=(0,w.Z)(Qt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"section"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.script,expression:"script"},{name:"shortkey",rawName:"v-shortkey.avoid",modifiers:{avoid:!0}}],attrs:{id:"sieve-text-area",rows:"20",disabled:t.loading},domProps:{value:t.script},on:{input:function(e){e.target.composing||(t.script=e.target.value)}}}),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary",disabled:t.loading,"aria-label":t.t("mail","Save sieve script")},on:{click:t.saveActiveScript},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("mail","Save sieve script"))+"\n\t")])],1)}),[],!1,null,"18fcabc3",null).exports;function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ee(t){var e="function"==typeof Map?new Map:void 0;return ee=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ne(t,arguments,ie(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oe(r,t)},ee(t)}function ne(t,e,n){return ne=re()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&oe(o,n.prototype),o},ne.apply(null,arguments)}function re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ie(t)}var ae="### Nextcloud Mail: Vacation Responder ### DON'T EDIT ###",se="# DATA: ",ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(i,t);var e,n,r,o=(n=i,r=re(),function(){var t,e=ie(n);if(r){var o=ie(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(ee(Error));function ue(t){var e,n,r=[],o=0,i=o,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return te(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.split(/\r?\n/));try{for(a.s();!(n=a.n()).done;){var s=n.value;switch(o){case 0:if(s.startsWith(ae)){i=1;break}r.push(s);break;case 1:if(s.startsWith(ae))i=0;else if(s.startsWith(se)){var c=s.slice(8);(e=JSON.parse(c)).start&&(e.start=new Date(e.start)),e.end&&(e.end=new Date(e.end))}break;default:throw new ce("Reached an invalid state")}o=i}}catch(t){a.e(t)}finally{a.f()}return{sieveScript:r.join("\n"),data:e}}function le(t,e){var n,r=e.enabled,o=e.start,i=e.end,a=e.subject,s=e.message,c=e.allowedRecipients,u={version:1,enabled:r,start:o?fe(o):void 0,end:i?fe(i):void 0,subject:a,message:s};if(!r)return delete u.start,delete u.end,[t,ae,se+JSON.stringify(u),ae].join("\n");n=i?'allof(currentdate :value "ge" "date" "'.concat(fe(o),'", currentdate :value "le" "date" "').concat(fe(i),'")'):'currentdate :value "ge" "date" "'.concat(fe(o),'"');var l=["vacation",":days 4",':subject "'.concat(de(a),'"')];if(null!=c&&c.length){var f=c.map((function(t){return'"'.concat(t,'"')})).join(", ");l.push(":addresses [".concat(f,"]"))}l.push('"'.concat(de(s),'"'));var d=-1!==a.indexOf("${subject}")||-1!==s.indexOf("${subject}"),p=[ae,'require "date";','require "relational";','require "vacation";'];d&&p.push('require "variables";'),p.push(ae);var h=[ae,se+JSON.stringify(u)];return d&&h.push.apply(h,['set "subject" "";','if header :matches "subject" "*" {','\tset "subject" "${1}";',"}"]),h.push("if ".concat(n," {"),"\t".concat(l.join(" "),";"),"}",ae),[].concat(p,[t],h).join("\n")}function fe(t){var e=t.getFullYear().toString().padStart(4,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)}function de(t){return t.replaceAll(/\\/g,"\\\\").replaceAll(/"/g,'\\"')}function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function he(){he=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==pe(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach((function(e){ye(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ye(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===pe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ge(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var be={name:"OutOfOfficeForm",components:{DatetimePicker:Z.P4,TextEditor:T.Z,Button:Z.P2,CheckIcon:U.default},props:{account:{type:Object,required:!0}},data:function(){return{enabled:!1,enableLastDay:!1,firstDay:new Date,lastDay:null,subject:"",message:"",loading:!1,errorMessage:""}},computed:{valid:function(){return!!(this.firstDay&&(!this.enableLastDay||this.enableLastDay&&this.lastDay)&&(!this.enableLastDay||this.lastDay>=this.firstDay)&&this.subject&&this.message)},sieveScriptData:function(){return this.$store.getters.getActiveSieveScript(this.account.id)},parsedState:function(){var t;if(null!==(t=this.sieveScriptData)&&void 0!==t&&t.script)try{return ue(this.sieveScriptData.script).data}catch(t){i.Z.warn("Failed to parse OOO state",{error:t})}},aliases:function(){return[{name:this.account.name,alias:this.account.emailAddress}].concat((t=this.account.aliases,function(t){if(Array.isArray(t))return Ae(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ae(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map((function(t){var e=t.name,n=t.alias;return"".concat(e," <").concat(n,">")}));var t}},watch:{parsedState:{immediate:!0,handler:function(t){var e,n,r,o,i,a;null!==(e=t)&&void 0!==e||(t={}),this.enabled=null!==(n=!!t.enabled)&&void 0!==n&&n,this.firstDay=null!==(r=t.start)&&void 0!==r?r:new Date,this.lastDay=null!==(o=t.end)&&void 0!==o?o:null,this.enableLastDay=!!this.lastDay,this.subject=null!==(i=t.subject)&&void 0!==i?i:"",this.message=(0,F.vb)((0,F.Oh)(null!==(a=t.message)&&void 0!==a?a:"")).value}},enableLastDay:function(t){t?(this.lastDay=new Date(this.firstDay),this.lastDay.setDate(this.lastDay.getDate()+6)):this.lastDay=null},firstDay:function(t,e){if(this.enableLastDay){var n=Math.floor((this.lastDay-e)/864e5);n<0||(this.lastDay=new Date(t),this.lastDay.setDate(t.getDate()+n))}}},methods:{submit:function(){var t,e=this;return(t=he().mark((function t(){var n,r,o;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMessage="",n=ue(e.sieveScriptData.script),r=n.sieveScript,o=le(r,{enabled:e.enabled,start:e.firstDay,end:e.lastDay,subject:e.subject,message:(0,F.UK)((0,F.dy)(e.message)).value,allowedRecipients:e.aliases}),t.prev=5,t.next=8,e.$store.dispatch("updateActiveSieveScript",{accountId:e.account.id,scriptData:me(me({},e.sieveScriptData),{},{script:o})});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),e.errorMessage=t.t0.message;case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[5,10,13,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ge(i,r,o,a,s,"next",t)}function s(t){ge(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}},we=be,xe=r(49397),Ce={};Ce.styleTagTransform=g(),Ce.setAttributes=h(),Ce.insert=d().bind(null,"head"),Ce.domAPI=l(),Ce.insertStyleElement=m(),c()(xe.Z,Ce),xe.Z&&xe.Z.locals&&xe.Z.locals;var _e=(0,w.Z)(we,(function(){var t=this,e=t._self._c;return t.sieveScriptData?e("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"form__multi-row"},[e("fieldset",{staticClass:"form__fieldset"},[e("input",{staticClass:"radio",attrs:{id:"ooo-disabled",type:"radio",name:"enabled"},domProps:{checked:!t.enabled},on:{change:function(e){t.enabled=!1}}}),t._v(" "),e("label",{attrs:{for:"ooo-disabled"}},[t._v(t._s(t.t("mail","Autoresponder off")))])]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("input",{staticClass:"radio",attrs:{id:"ooo-enabled",type:"radio",name:"enabled"},domProps:{checked:t.enabled},on:{change:function(e){t.enabled=!0}}}),t._v(" "),e("label",{attrs:{for:"ooo-enabled"}},[t._v(t._s(t.t("mail","Autoresponder on")))])])]),t._v(" "),e("div",{staticClass:"form__multi-row"},[e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-first-day"}},[t._v(t._s(t.t("mail","First day")))]),t._v(" "),e("DatetimePicker",{attrs:{id:"ooo-first-day",disabled:!t.enabled},model:{value:t.firstDay,callback:function(e){t.firstDay=e},expression:"firstDay"}})],1),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("div",{staticClass:"form__fieldset__label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.enableLastDay,expression:"enableLastDay"}],attrs:{id:"ooo-enable-last-day",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(t.enableLastDay)?t._i(t.enableLastDay,null)>-1:t.enableLastDay},on:{change:function(e){var n=t.enableLastDay,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&(t.enableLastDay=n.concat([null])):i>-1&&(t.enableLastDay=n.slice(0,i).concat(n.slice(i+1)))}else t.enableLastDay=o}}}),t._v(" "),e("label",{attrs:{for:"ooo-enable-last-day"}},[t._v("\n\t\t\t\t\t"+t._s(t.t("mail","Last day (optional)"))+"\n\t\t\t\t")])]),t._v(" "),e("DatetimePicker",{attrs:{id:"ooo-last-day",disabled:!t.enabled||!t.enableLastDay},model:{value:t.lastDay,callback:function(e){t.lastDay=e},expression:"lastDay"}})],1)]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-subject"}},[t._v(t._s(t.t("mail","Subject")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],attrs:{id:"ooo-subject",type:"text",disabled:!t.enabled},domProps:{value:t.subject},on:{input:function(e){e.target.composing||(t.subject=e.target.value)}}}),t._v(" "),e("p",{staticClass:"form__fieldset__description"},[t._v("\n\t\t\t"+t._s(t.t("mail","${subject} will be replaced with the subject of the message you are responding to"))+"\n\t\t")])]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-message"}},[t._v(t._s(t.t("mail","Message")))]),t._v(" "),e("TextEditor",{attrs:{id:"ooo-message",html:!1,disabled:!t.enabled,bus:{$on:function(){}}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("Button",{attrs:{type:"primary","native-type":"submit","aria-label":t.t("mail","Save autoresponder"),disabled:t.loading||!t.valid},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CheckIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,2630571749)},[t._v("\n\t\t"+t._s(t.t("mail","Save autoresponder"))+"\n\t")])],1):t._e()}),[],!1,null,"5baa2848",null),Se=_e.exports;function Ee(t,e){return t.info.notAfter<e.info.notAfter?1:t.info.notAfter>e.info.notAfter?-1:0}var Le=r(20629),ke=r(80351),Oe=r.n(ke);function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Pe(){Pe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==je(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ie(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?De(Object(n),!0).forEach((function(e){Me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Me(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===je(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Be={name:"CertificateSettings",components:{Multiselect:Z.Z2,Button:Z.P2},props:{account:{type:Object,required:!0}},data:function(){return{alias:null,certificate:null}},computed:Ne(Ne({},(0,Le.Se)({smimeCertificates:"getSmimeCertificates"})),{},{savedCertificate:{get:function(){var e=this;return this.certificate?this.certificate:this.smimeCertOptions.find((function(t){return e.alias.smimeCertificateId===t.id}))||{label:t("mail","No certificate")}},set:function(t){this.certificate=t}},accountSmimeCertificate:function(){return{id:-1,alias:this.account.emailAddress,name:this.account.name,provisioned:!!this.account.provisioningId,smimeCertificateId:this.account.smimeCertificateId}},aliases:function(){var t=this.account.aliases.map((function(t){return{id:t.id,alias:t.alias,name:t.name,provisioned:!!t.provisioningId,smimeCertificateId:t.smimeCertificateId,isAccountCertificate:!1}}));return t.push(Ne(Ne({},this.accountSmimeCertificate),{},{isAccountCertificate:!0})),t},smimeCertOptions:function(){var e=this,n=(new Date).getTime()/1e3+86400,r=this.smimeCertificates.filter((function(t){return t.hasKey&&t.emailAddress===e.alias.alias&&t.info.notAfter>=n&&t.purposes.sign&&t.purposes.encrypt})).map(this.mapCertificateToOption).sort(Ee);return r.push({label:t("mail","No certificate")}),r}}),methods:{selectCertificate:function(t){this.certificate=t},handleAlias:function(t){this.alias=t,this.savedCertificate=null},updateSmimeCertificate:function(){var e,n=this;return(e=Pe().mark((function e(){return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.alias.isAccountCertificate){e.next=5;break}return e.next=3,n.$store.dispatch("updateAccountSmimeCertificate",{account:n.account,smimeCertificateId:n.certificate.id}).then((function(){(0,Ct.s$)(t("mail","Certificate updated"))})).catch((function(e){i.Z.error("could not update account Smime ceritificate",{error:e}),(0,Ct.x2)(t("mail","Could not update certificate"))}));case 3:e.next=7;break;case 5:return e.next=7,n.$store.dispatch("updateAlias",{account:n.account,aliasId:n.alias.id,alias:n.alias.alias,name:n.alias.name,smimeCertificateId:n.certificate.id}).then((function(){(0,Ct.s$)(t("mail","Certificate updated"))})).catch((function(e){i.Z.error("could not update alias Smime ceritificate",{error:e}),(0,Ct.x2)(t("mail","Could not update certificate"))}));case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){Ie(i,r,o,a,s,"next",t)}function s(t){Ie(i,r,o,a,s,"throw",t)}a(void 0)}))})()},mapCertificateToOption:function(t){var e,n=this.t("mail","{commonName} - Valid until {expiryDate}",{commonName:null!==(e=t.info.commonName)&&void 0!==e?e:t.info.emailAddress,expiryDate:Oe().unix(t.info.notAfter).format("LL")});return Ne(Ne({},t),{},{label:n})}}},Te=Be,Fe=r(92251),Ge={};Ge.styleTagTransform=g(),Ge.setAttributes=h(),Ge.insert=d().bind(null,"head"),Ge.domAPI=l(),Ge.insertStyleElement=m(),c()(Fe.Z,Ge),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var Ze=(0,w.Z)(Te,(function(){var t=this,e=t._self._c;return e("div",[e("Multiselect",{attrs:{"allow-empty":!1,options:t.aliases,searchable:!1,value:t.alias,placeholder:t.t("mail","Select an alias"),label:"name","track-by":"id"},on:{select:t.handleAlias}}),t._v(" "),null!==t.alias?e("Multiselect",{attrs:{options:t.smimeCertOptions,searchable:!1,label:"label","track-by":"id"},on:{select:t.selectCertificate},model:{value:t.savedCertificate,callback:function(e){t.savedCertificate=e},expression:"savedCertificate"}}):t._e(),t._v(" "),e("Button",{attrs:{type:"primary",disabled:null===t.certificate,"aria-label":t.t("mail","Update Certificate")},on:{click:t.updateSmimeCertificate}},[t._v("\n\t\t"+t._s(t.t("mail","Update Certificate"))+"\n\t")])],1)}),[],!1,null,"16d9b268",null).exports,Ue=r(76810),Re=r.n(Ue);function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Ye(){Ye=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function p(){}function h(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==He(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},A(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ve(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var ze={name:"TrashRetentionSettings",props:{account:{type:Object,required:!0}},data:function(){return{trashRetentionDays:this.account.trashRetentionDays,debouncedSave:Re()(1e3,this.save)}},methods:{save:function(){var t,e=this;return(t=Ye().mark((function t(){var n;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=parseInt(e.trashRetentionDays),isNaN(n)&&(n=0),t.next=4,e.$store.dispatch("patchAccount",{account:e.account,data:{trashRetentionDays:n}});case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ve(i,r,o,a,s,"next",t)}function s(t){Ve(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}},$e=ze,qe=(0,w.Z)($e,(function(){var t=this,e=t._self._c;return e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trashRetentionDays,expression:"trashRetentionDays"}],attrs:{type:"number",min:"0"},domProps:{value:t.trashRetentionDays},on:{input:[function(e){e.target.composing||(t.trashRetentionDays=e.target.value)},function(e){return t.debouncedSave()}]}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Disable trash retention by leaving the field empty or setting it to 0. Only mails deleted after enabling trash retention will be processed."))+"\n\t")])])}),[],!1,null,null,null).exports,Qe={name:"AccountSettings",components:{SieveAccountForm:Ut,SieveFilterForm:Wt,TrustedSenders:It,AccountForm:o.Z,AliasSettings:yt,EditorSettings:x,SignatureSettings:Q,AppSettingsDialog:Z.MX,AppSettingsSection:Z.V$,AccountDefaultsSettings:B,OutOfOfficeForm:Se,CertificateSettings:Ze,TrashRetentionSettings:qe},props:{account:{required:!0,type:Object},open:{type:Boolean,default:!1}},data:function(){return{trapElements:[]}},computed:{menu:function(){return this.buildMenu()},displayName:function(){return this.account.name},email:function(){return this.account.emailAddress}},mounted:function(){this.$store.dispatch("fetchActiveSieveScript",{accountId:this.account.id})},methods:{scrollToAccountSettings:function(){this.$refs.accountForm.$el.scrollIntoView({behavior:"smooth"})},updateOpen:function(){this.$emit("update:open")},handleShowToolbar:function(t){this.trapElements.push(t)}}},Je=r(60191),Ke={};Ke.styleTagTransform=g(),Ke.setAttributes=h(),Ke.insert=d().bind(null,"head"),Ke.domAPI=l(),Ke.insertStyleElement=m(),c()(Je.Z,Ke),Je.Z&&Je.Z.locals&&Je.Z.locals;var We=(0,w.Z)(Qe,(function(){var t=this,e=t._self._c;return e("AppSettingsDialog",{attrs:{id:"app-settings-dialog",open:t.open,"show-navigation":!0,"additional-trap-elements":t.trapElements,title:t.t("mail","Account settings")},on:{"update:open":t.updateOpen}},[e("AppSettingsSection",{attrs:{id:"alias-settings",title:t.t("mail","Aliases")}},[e("AliasSettings",{attrs:{account:t.account},on:{"rename-primary-alias":t.scrollToAccountSettings}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"certificate-settings",title:t.t("mail","Alias to S/MIME certificate mapping")}},[e("CertificateSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"signature",title:t.t("mail","Signature")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","A signature is added to the text of new messages and replies."))+"\n\t\t")]),t._v(" "),e("SignatureSettings",{attrs:{account:t.account},on:{"show-toolbar":t.handleShowToolbar}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"writing-mode",title:t.t("mail","Writing mode")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Preferred writing mode for new messages and replies."))+"\n\t\t")]),t._v(" "),e("EditorSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"default-folders",title:t.t("mail","Default folders")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","The folders to use for drafts, sent messages, deleted messages, archived messages and junk messages."))+"\n\t\t")]),t._v(" "),e("AccountDefaultsSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"trash-retention",title:t.t("mail","Automatic trash deletion")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Days after which messages in Trash will automatically be deleted:"))+"\n\t\t")]),t._v(" "),e("TrashRetentionSettings",{attrs:{account:t.account}})],1),t._v(" "),t.account?e("AppSettingsSection",{attrs:{id:"out-of-office-replies",title:t.t("mail","Autoresponder")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Automated reply to incoming messages. If someone sends you several messages, this automated reply will be sent at most once every 4 days."))+"\n\t\t")]),t._v(" "),t.account.sieveEnabled?e("OutOfOfficeForm",{attrs:{account:t.account}}):e("p",[t._v("\n\t\t\t"+t._s(t.t("mail","Please connect to a sieve server first."))+"\n\t\t")])],1):t._e(),t._v(" "),t.account&&t.account.sieveEnabled?e("AppSettingsSection",{attrs:{id:"sieve-filter",title:t.t("mail","Sieve filter rules")}},[e("div",{attrs:{id:"sieve-filter"}},[e("SieveFilterForm",{key:t.account.accountId,ref:"sieveFilterForm",attrs:{account:t.account}})],1)]):t._e(),t._v(" "),e("AppSettingsSection",{attrs:{id:"trusted-sender",title:t.t("mail","Trusted senders")}},[e("TrustedSenders")],1),t._v(" "),t.account&&!t.account.provisioningId?e("AppSettingsSection",{attrs:{id:"mail-server",title:t.t("mail","Mail server")}},[e("div",{attrs:{id:"mail-settings"}},[e("AccountForm",{key:t.account.accountId,ref:"accountForm",attrs:{"display-name":t.displayName,email:t.email,account:t.account}})],1)]):t._e(),t._v(" "),t.account&&!t.account.provisioningId?e("AppSettingsSection",{attrs:{id:"sieve-settings",title:t.t("mail","Sieve filter server")}},[e("div",{attrs:{id:"sieve-settings"}},[e("SieveAccountForm",{key:t.account.accountId,ref:"sieveAccountForm",attrs:{account:t.account}})],1)]):t._e()],1)}),[],!1,null,"33a6bb11",null).exports},88022:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAACVBMVEUAAAD///////9zeKVjAAAAAnRSTlMAuLMp9oYAAAAPSURBVAjXY4CDrJUgBAMAGaECJ9dz3BAAAAAASUVORK5CYII="},45899:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAACVBMVEUAAADi4uLh4eHOxeSRAAAAAnRSTlMAuLMp9oYAAAAPSURBVAjXY4CDrJUgBAMAGaECJ9dz3BAAAAAASUVORK5CYII="},42041:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEUAAADj4+Pf39/h4eHh4eHh4eHk5OTh4eHg4ODi4uLh4eHh4eHg4ODh4eHh4eHg4ODh4eHh4eHp6en////h4eFqcyvUAAAAFHRSTlMAOQfy7bgS5NrBvqOIfXNHMSELAgQ/iFsAAAA2SURBVAjXY4AANjYIzcjMAaVFuBkY+RkEWERYmRjYRXjANAOfiIgIFxNIAa8IpxBEi6AwiAQAK2MBd7xY8csAAAAASUVORK5CYII="},25852:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////8IX9KGAAAAFXRSTlMA8u24NxILB+Tawb6jiH1zRz0xIQIIP3GUAAAAMklEQVQI1y3FtQEAMQDDQD+EGbz/qkEVOpyEOP6PudKjZNSXn4Jm2CKRdBKzSLsFWl8fMG0Bl6Jk1rMAAAAASUVORK5CYII="},4481:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEUAAAD///////////84wDuoAAAAA3RSTlMAyTzPIdReAAAAGUlEQVQI12PAD+b///+Nof7//79gAsLFCwAx/w4blADeeQAAAABJRU5ErkJggg=="},63406:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEUAAADi4uLi4uLh4eE5RQaIAAAAA3RSTlMAyTzPIdReAAAAGUlEQVQI12PAD+b///+Nof7//79gAsLFCwAx/w4blADeeQAAAABJRU5ErkJggg=="},94673:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAXVBMVEUAAADh4eHh4eHh4eHi4uLb29vh4eHh4eHh4eHh4eHh4eHh4eHh4eHi4uLi4uLj4+Pi4uLk5OTo6Ojh4eHh4eHi4uLg4ODg4ODh4eHg4ODh4eHf39/g4OD////h4eEzIk+wAAAAHnRSTlMAzu6/LA3p5eLZx8ONTjYiHRIKooV+YWBaRzEnCANnm5rnAAAAZElEQVQY033P2wqAIAyA4VWaaWrnc/n+j5mbhBjUf7WPoTD47TJb4i5zTr/sRDRHuyFaoWX7uK/RlbctlPEuyI1f4WY9yQINEkf6rzzo8YIzmUFoCs7J1EjeIaa9bXIEmzl8dgOZEAj/+2IvzAAAAABJRU5ErkJggg=="},76935:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAYFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////98JRy6AAAAH3RSTlMAzu4sDenl38fBvo1OMyIdEQrj1cSihX5hYFpHNycIcQOASAAAAF9JREFUGNN9zEcOgDAMRFHTS0LvNfe/JRmHKAIJ/mqeLJn+k9uDtaeUeFnFziGsBucUTirrprfe81RqZ3Bb6hPWeuZwDFOHyf+ig9CCzQ7INBn7bG5kF+QSt13BHNJnF7AaCT4Y+CW7AAAAAElFTkSuQmCC"},71639:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMAy2EFIuWxUgAAACRJREFUGNNjGBBgJOICBY7KDCoucODEAJSAS6FwUJShGjAQAADBPRGrK2/FhgAAAABJRU5ErkJggg=="},87138:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAADh4eHg4ODNzc3h4eEYfw2wAAAABHRSTlMAy2EFIuWxUgAAACRJREFUGNNjGBBgJOICBY7KDCoucODEAJSAS6FwUJShGjAQAADBPRGrK2/FhgAAAABJRU5ErkJggg=="},17394:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAUVBMVEUAAADh4eHh4eHh4eHh4eHi4uLi4uLh4eHh4eHh4eHf39/j4+Ph4eHh4eHh4eHg4ODi4uLh4eHh4eHi4uLh4eHh4eHh4eHh4eHh4eH////h4eF3FMFTAAAAGnRSTlMA+/eJhGhfSHE9JBzz5KaQf3pXT0Xbz0I5AYDw8F0AAAB+SURBVCjPrdHbDoMgEEVRKAii1dZe9fz/hxplTiKIT7qfYCWTEEZdUvOwbckNAD2WHeh3brHW5f5EzGQ+iN+b1Gt6KPvtv16Dn6JX9M9ya3/A1yfu5dlyduL6Hec7mXY6ddXLPP2lpABGZ8PWXfYLTJxZekVhhl7eTX24zZPNKXoRC7zQLjUAAAAASUVORK5CYII="},46719:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAWlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////9ZMre9AAAAHXRSTlMA/PiJhGNI9XlEHJB/b2ldV08+Oibk49vPp6QhAYgGBuwAAACCSURBVCjPrdHdDoIwDAXgTWAqCigo/+f9X5OwnoUwtis4V92XNWladUl+rzQPeQJAN2EHxoOnsPn7/oYk8fxBv08Rr/deOH/aZ2Nm8ZJ+s573QGfWKnNuZGzWm3+lv2V3pcU1XQ385/yjmBoM3Z+dXvlbYLLD3ujhTaOM3KaIXvNkFkuSEvYy1LqOAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=mail.account-settings.c44a502643324bf68b28.js.map