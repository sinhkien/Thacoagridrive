{"version":3,"file":"mail.717.9768b9cf0e8decc495c5.js","mappings":"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","sources":["webpack://nextcloud-mail/./node_modules/@ckeditor/ckeditor5-build-balloon/build/translations/ lazy-once ^\\.\\/.*$ prefetchOrder: 0 preloadOrder: 0 namespace object","webpack://nextcloud-mail/./src/ckeditor/signature/InsertSignatureCommand.js","webpack://nextcloud-mail/./src/components/TextEditor.vue?4a75","webpack://nextcloud-mail/./src/components/TextEditor.vue?061d","webpack://nextcloud-mail/./src/components/TextEditor.vue","webpack://nextcloud-mail/./src/ckeditor/signature/SignaturePlugin.js","webpack://nextcloud-mail/./src/ckeditor/quote/QuotePlugin.js","webpack://nextcloud-mail/./src/ckeditor/mail/MailPlugin.js","webpack://nextcloud-mail/src/components/TextEditor.vue","webpack://nextcloud-mail/./src/components/TextEditor.vue?a257","webpack://nextcloud-mail/./src/components/TextEditor.vue?5ffc","webpack://nextcloud-mail/./src/components/TextEditor.vue?5ce4","webpack://nextcloud-mail/./src/components/TextEditor.vue?143c"],"sourcesContent":["var map = {\n\t\"./af\": 50554,\n\t\"./af.js\": 50554,\n\t\"./ar\": 51634,\n\t\"./ar.js\": 51634,\n\t\"./ast\": 29303,\n\t\"./ast.js\": 29303,\n\t\"./az\": 97078,\n\t\"./az.js\": 97078,\n\t\"./bg\": 80996,\n\t\"./bg.js\": 80996,\n\t\"./bn\": 48213,\n\t\"./bn.js\": 48213,\n\t\"./bs\": 3210,\n\t\"./bs.js\": 3210,\n\t\"./ca\": 89306,\n\t\"./ca.js\": 89306,\n\t\"./cs\": 35017,\n\t\"./cs.js\": 35017,\n\t\"./da\": 54505,\n\t\"./da.js\": 54505,\n\t\"./de\": 88780,\n\t\"./de-ch\": 32847,\n\t\"./de-ch.js\": 32847,\n\t\"./de.js\": 88780,\n\t\"./el\": 45374,\n\t\"./el.js\": 45374,\n\t\"./en-au\": 51920,\n\t\"./en-au.js\": 51920,\n\t\"./en-gb\": 98203,\n\t\"./en-gb.js\": 98203,\n\t\"./eo\": 49486,\n\t\"./eo.js\": 49486,\n\t\"./es\": 81565,\n\t\"./es-co\": 5604,\n\t\"./es-co.js\": 5604,\n\t\"./es.js\": 81565,\n\t\"./et\": 64458,\n\t\"./et.js\": 64458,\n\t\"./eu\": 48629,\n\t\"./eu.js\": 48629,\n\t\"./fa\": 96594,\n\t\"./fa.js\": 96594,\n\t\"./fi\": 17123,\n\t\"./fi.js\": 17123,\n\t\"./fr\": 34351,\n\t\"./fr.js\": 34351,\n\t\"./gl\": 57774,\n\t\"./gl.js\": 57774,\n\t\"./gu\": 4378,\n\t\"./gu.js\": 4378,\n\t\"./he\": 66007,\n\t\"./he.js\": 66007,\n\t\"./hi\": 21961,\n\t\"./hi.js\": 21961,\n\t\"./hr\": 54466,\n\t\"./hr.js\": 54466,\n\t\"./hu\": 49510,\n\t\"./hu.js\": 49510,\n\t\"./id\": 38623,\n\t\"./id.js\": 38623,\n\t\"./it\": 70848,\n\t\"./it.js\": 70848,\n\t\"./ja\": 2489,\n\t\"./ja.js\": 2489,\n\t\"./jv\": 4231,\n\t\"./jv.js\": 4231,\n\t\"./km\": 37113,\n\t\"./km.js\": 37113,\n\t\"./kn\": 12405,\n\t\"./kn.js\": 12405,\n\t\"./ko\": 66766,\n\t\"./ko.js\": 66766,\n\t\"./ku\": 95257,\n\t\"./ku.js\": 95257,\n\t\"./lt\": 49748,\n\t\"./lt.js\": 49748,\n\t\"./lv\": 24976,\n\t\"./lv.js\": 24976,\n\t\"./ms\": 5043,\n\t\"./ms.js\": 5043,\n\t\"./nb\": 240,\n\t\"./nb.js\": 240,\n\t\"./ne\": 63923,\n\t\"./ne.js\": 63923,\n\t\"./nl\": 71195,\n\t\"./nl.js\": 71195,\n\t\"./no\": 14962,\n\t\"./no.js\": 14962,\n\t\"./oc\": 26770,\n\t\"./oc.js\": 26770,\n\t\"./pl\": 10605,\n\t\"./pl.js\": 10605,\n\t\"./pt\": 18591,\n\t\"./pt-br\": 88827,\n\t\"./pt-br.js\": 88827,\n\t\"./pt.js\": 18591,\n\t\"./ro\": 24485,\n\t\"./ro.js\": 24485,\n\t\"./ru\": 94507,\n\t\"./ru.js\": 94507,\n\t\"./si\": 98608,\n\t\"./si.js\": 98608,\n\t\"./sk\": 61075,\n\t\"./sk.js\": 61075,\n\t\"./sl\": 44240,\n\t\"./sl.js\": 44240,\n\t\"./sq\": 5097,\n\t\"./sq.js\": 5097,\n\t\"./sr\": 50849,\n\t\"./sr-latn\": 83813,\n\t\"./sr-latn.js\": 83813,\n\t\"./sr.js\": 50849,\n\t\"./sv\": 48888,\n\t\"./sv.js\": 48888,\n\t\"./th\": 41089,\n\t\"./th.js\": 41089,\n\t\"./tk\": 10729,\n\t\"./tk.js\": 10729,\n\t\"./tr\": 15654,\n\t\"./tr.js\": 15654,\n\t\"./tt\": 5550,\n\t\"./tt.js\": 5550,\n\t\"./ug\": 34046,\n\t\"./ug.js\": 34046,\n\t\"./uk\": 46390,\n\t\"./uk.js\": 46390,\n\t\"./ur\": 28339,\n\t\"./ur.js\": 28339,\n\t\"./uz\": 2316,\n\t\"./uz.js\": 2316,\n\t\"./vi\": 23865,\n\t\"./vi.js\": 23865,\n\t\"./zh\": 4516,\n\t\"./zh-cn\": 60758,\n\t\"./zh-cn.js\": 60758,\n\t\"./zh.js\": 4516\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(function(id) {\n\t\treturn __webpack_require__.t(id, 7 | 16);;\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn __webpack_require__.e(/* lazy-once context */ 390).then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = 72749;\nmodule.exports = webpackAsyncContext;","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command'\n\nexport const TRIGGER_CHANGE_ALIAS = 'change_alias'\nexport const TRIGGER_EDITOR_READY = 'editor_ready'\n\nexport default class InsertSignatureCommand extends Command {\n\n\t/**\n\t * Remove a signature element\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t */\n\tremoveSignatureElement(editor, writer) {\n\t\t// Create a range spanning over the entire root content:\n\t\tconst range = editor.model.createRangeIn(\n\t\t\teditor.model.document.getRoot()\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\tif (value.item.is('element') && value.item.name === 'signature') {\n\t\t\t\twriter.remove(value.item)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Insert a signature element\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {string} signature text\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t */\n\tinsertSignatureElement(editor, writer, signature, signatureAboveQuote) {\n\t\t// Skip empty signature\n\t\tif (signature.length === 0) {\n\t\t\treturn\n\t\t}\n\n\t\t// Convert an HTML string to a view document fragment:\n\t\tconst viewFragment = editor.data.processor.toView(signature)\n\n\t\t// Convert the view document fragment to a model document fragment\n\t\t// in the context of $root. This conversion takes the schema into\n\t\t// account so if, for example, the view document fragment contained a bare text node,\n\t\t// this text node cannot be a child of $root, so it will be automatically\n\t\t// wrapped with a <paragraph>. You can define the context yourself (in the second parameter),\n\t\t// and e.g. convert the content like it would happen in a <paragraph>.\n\t\t// Note: The clipboard feature uses a custom context called $clipboardHolder\n\t\t// which has a loosened schema.\n\t\tconst modelFragment = editor.data.toModel(viewFragment)\n\n\t\tconst signatureElement = writer.createElement('signature')\n\t\twriter.append(writer.createText('-- '), signatureElement)\n\t\twriter.append(writer.createElement('paragraph'), signatureElement)\n\t\twriter.append(modelFragment, signatureElement)\n\t\tif (signatureAboveQuote) {\n\t\t\twriter.append(writer.createElement('paragraph'), signatureElement)\n\t\t}\n\n\t\tconst signaturePosition = this.findPosition(editor, writer, signatureAboveQuote)\n\t\teditor.model.insertContent(signatureElement, signaturePosition)\n\t}\n\n\t/**\n\t * Find a position to insert the signature element.\n\t *\n\t * If signatureAboveQuote and a quote element exist the position\n\t * above the quoted text otherwise the end of the document.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t * @return {module:engine/model/position~Position} position instance\n\t */\n\tfindPosition(editor, writer, signatureAboveQuote) {\n\t\tif (signatureAboveQuote) {\n\t\t\t// Create a range spanning over the entire root content:\n\t\t\tconst range = editor.model.createRangeIn(\n\t\t\t\teditor.model.document.getRoot()\n\t\t\t)\n\n\t\t\t// Iterate over all items in this range:\n\t\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\t\tif (value.item.is('element') && value.item.name === 'quote') {\n\t\t\t\t\treturn writer.createPositionBefore(value.item)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn writer.createPositionAt(editor.model.document.getRoot(), 'end')\n\t}\n\n\t/**\n\t * Check if a signature element exist\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @return {boolean}\n\t */\n\thasSignatureElement(editor) {\n\t\t// Create a range spanning over the entire root content:\n\t\tconst range = editor.model.createRangeIn(\n\t\t\teditor.model.document.getRoot()\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\tif (value.item.is('element')) {\n\t\t\t\tif (value.item.name === 'quote') {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tif (value.item.name === 'signature') {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n\n\t/**\n\t * @param {string} trigger TRIGGER_CHANGE_ALIAS or TRIGGER_EDITOR_READY\n\t * @param {string} signature text\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t */\n\texecute(trigger, signature, signatureAboveQuote) {\n\t\tthis.editor.model.change(writer => {\n\t\t\t/**\n\t\t\t * TRIGGER_CHANGE_ALIAS:\n\t\t\t * Current signature is replaced.\n\t\t\t *\n\t\t\t * Use case: User selects a different alias.\n\t\t\t *\n\t\t\t * TRIGGER_EDITOR_READY:\n\t\t\t * Insert signature if non exist.\n\t\t\t *\n\t\t\t * Use case: Write new message, Modify signature, Save draft, Close Editor, Open editor\n\t\t\t */\n\n\t\t\tif (trigger === TRIGGER_CHANGE_ALIAS) {\n\t\t\t\tthis.removeSignatureElement(this.editor, writer)\n\t\t\t\tthis.insertSignatureElement(this.editor, writer, signature, signatureAboveQuote)\n\t\t\t}\n\n\t\t\tif (trigger === TRIGGER_EDITOR_READY && !this.hasSignatureElement(this.editor)) {\n\t\t\t\tthis.insertSignatureElement(this.editor, writer, signature, signatureAboveQuote)\n\t\t\t}\n\t\t})\n\t}\n\n\trefresh() {\n\t\tthis.isEnabled = true\n\t}\n\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-18f7cd3a] a{color:#07d}[data-v-18f7cd3a] p{cursor:text;margin:0 !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TextEditor.vue\"],\"names\":[],\"mappings\":\"AAEA,oBACC,UAAA,CAED,oBACC,WAAA,CACA,mBAAA\",\"sourcesContent\":[\"\\n\\n:deep(a) {\\n\\tcolor: #07d;\\n}\\n:deep(p) {\\n\\tcursor: text;\\n\\tmargin: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n/*\\nOverwrite the default z-index for CKEditor\\nhttps://github.com/ckeditor/ckeditor5/issues/1142\\n */\\n:root {\\n\\t--ck-z-default: 10000;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TextEditor.vue\"],\"names\":[],\"mappings\":\";AAoOA;;;EAGA;AACA;CACA,qBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\\n  -\\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\\n  -\\n  - @license AGPL-3.0-or-later\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n\\t<ckeditor\\n\\t\\tv-if=\\\"ready\\\"\\n\\t\\t:value=\\\"value\\\"\\n\\t\\t:config=\\\"config\\\"\\n\\t\\t:editor=\\\"editor\\\"\\n\\t\\t:disabled=\\\"disabled\\\"\\n\\t\\t@input=\\\"onEditorInput\\\"\\n\\t\\t@ready=\\\"onEditorReady\\\" />\\n</template>\\n\\n<script>\\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment'\\nimport Editor from '@ckeditor/ckeditor5-editor-balloon/src/ballooneditor'\\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials'\\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote'\\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold'\\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font'\\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph'\\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading'\\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic'\\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link'\\nimport ListStyle from '@ckeditor/ckeditor5-list/src/liststyle'\\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat'\\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin'\\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough'\\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin'\\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter'\\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image'\\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize'\\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload'\\nimport MailPlugin from '../ckeditor/mail/MailPlugin'\\n\\nimport { getLanguage } from '@nextcloud/l10n'\\n\\nimport logger from '../logger'\\n\\nexport default {\\n\\tname: 'TextEditor',\\n\\tcomponents: {\\n\\t\\tckeditor: CKEditor.component,\\n\\t},\\n\\tprops: {\\n\\t\\tvalue: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\thtml: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tplaceholder: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\tfocus: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tbus: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tdisabled: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\tconst plugins = [EssentialsPlugin, ParagraphPlugin, SignaturePlugin, QuotePlugin]\\n\\t\\tconst toolbar = ['undo', 'redo']\\n\\n\\t\\tif (this.html) {\\n\\t\\t\\tplugins.push(...[\\n\\t\\t\\t\\tHeadingPlugin,\\n\\t\\t\\t\\tAlignmentPlugin,\\n\\t\\t\\t\\tBoldPlugin,\\n\\t\\t\\t\\tItalicPlugin,\\n\\t\\t\\t\\tBlockQuotePlugin,\\n\\t\\t\\t\\tLinkPlugin,\\n\\t\\t\\t\\tListStyle,\\n\\t\\t\\t\\tFontPlugin,\\n\\t\\t\\t\\tRemoveFormat,\\n\\t\\t\\t\\tStrikethroughPlugin,\\n\\t\\t\\t\\tImagePlugin,\\n\\t\\t\\t\\tImageUploadPlugin,\\n\\t\\t\\t\\tBase64UploadAdapter,\\n\\t\\t\\t\\tImageResizePlugin,\\n\\t\\t\\t\\tMailPlugin,\\n\\t\\t\\t])\\n\\t\\t\\ttoolbar.unshift(...[\\n\\t\\t\\t\\t'heading',\\n\\t\\t\\t\\t'fontFamily',\\n\\t\\t\\t\\t'fontSize',\\n\\t\\t\\t\\t'bold',\\n\\t\\t\\t\\t'italic',\\n\\t\\t\\t\\t'fontColor',\\n\\t\\t\\t\\t'imageUpload',\\n\\t\\t\\t\\t'alignment',\\n\\t\\t\\t\\t'bulletedList',\\n\\t\\t\\t\\t'numberedList',\\n\\t\\t\\t\\t'blockquote',\\n\\t\\t\\t\\t'fontBackgroundColor',\\n\\t\\t\\t\\t'strikethrough',\\n\\t\\t\\t\\t'link',\\n\\t\\t\\t\\t'removeFormat',\\n\\t\\t\\t])\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tready: false,\\n\\t\\t\\teditor: Editor,\\n\\t\\t\\tconfig: {\\n\\t\\t\\t\\tplaceholder: this.placeholder,\\n\\t\\t\\t\\tplugins,\\n\\t\\t\\t\\ttoolbar: {\\n\\t\\t\\t\\t\\titems: toolbar,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tlanguage: 'en',\\n\\t\\t\\t},\\n\\t\\t}\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tthis.loadEditorTranslations(getLanguage())\\n\\t},\\n\\tmethods: {\\n\\t\\tasync loadEditorTranslations(language) {\\n\\t\\t\\tif (language === 'en') {\\n\\t\\t\\t\\t// The default, nothing to fetch\\n\\t\\t\\t\\treturn this.showEditor('en')\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tlogger.debug(`loading ${language} translations for CKEditor`)\\n\\t\\t\\t\\tawait import(\\n\\t\\t\\t\\t\\t/* webpackMode: \\\"lazy-once\\\" */\\n\\t\\t\\t\\t\\t/* webpackPrefetch: true */\\n\\t\\t\\t\\t\\t/* webpackPreload: true */\\n\\t\\t\\t\\t\\t`@ckeditor/ckeditor5-build-balloon/build/translations/${language}`\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\tthis.showEditor(language)\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tlogger.error(`could not find CKEditor translations for \\\"${language}\\\"`, { error })\\n\\t\\t\\t\\tthis.showEditor('en')\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tshowEditor(language) {\\n\\t\\t\\tlogger.debug(`using \\\"${language}\\\" as CKEditor language`)\\n\\t\\t\\tthis.config.language = language\\n\\n\\t\\t\\tthis.ready = true\\n\\t\\t},\\n\\t\\t/**\\n\\t\\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\\n\\t\\t */\\n\\t\\tonEditorReady(editor) {\\n\\t\\t\\tlogger.debug('TextEditor is ready', { editor })\\n\\t\\t\\tthis.editorInstance = editor\\n\\n\\t\\t\\tif (this.focus) {\\n\\t\\t\\t\\tlogger.debug('focusing TextEditor')\\n\\t\\t\\t\\teditor.editing.view.focus()\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (this.html) {\\n\\t\\t\\t\\tthis.$emit('show-toolbar', editor.ui._focusableToolbarDefinitions[0].toolbarView.element)\\n\\t\\t\\t}\\n\\t\\t\\tthis.bus.$on('append-to-body-at-cursor', this.appendToBodyAtCursor)\\n\\t\\t\\tthis.$emit('ready', editor)\\n\\t\\t},\\n\\t\\tonEditorInput(text) {\\n\\t\\t\\tif (text !== this.value) {\\n\\t\\t\\t\\tlogger.debug(`TextEditor input changed to <${text}>`)\\n\\t\\t\\t\\tthis.$emit('input', text)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tappendToBodyAtCursor(toAppend) {\\n\\t\\t\\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\\n\\t\\t\\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\\n\\t\\t\\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\\n\\t\\t\\tthis.editorInstance.model.insertContent(modelFragment)\\n\\t\\t},\\n\\t\\teditorExecute(commandName, ...args) {\\n\\t\\t\\tif (this.editorInstance) {\\n\\t\\t\\t\\tthis.editorInstance.execute(commandName, ...args)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthrow new Error('Impossible to execute a command before editor is ready.')\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style lang=\\\"scss\\\" scoped>\\n\\n:deep(a) {\\n\\tcolor: #07d;\\n}\\n:deep(p) {\\n\\tcursor: text;\\n\\tmargin: 0 !important;\\n}\\n</style>\\n\\n<style>\\n/*\\nOverwrite the default z-index for CKEditor\\nhttps://github.com/ckeditor/ckeditor5/issues/1142\\n */\\n:root {\\n\\t--ck-z-default: 10000;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.ready)?_c('ckeditor',{attrs:{\"value\":_vm.value,\"config\":_vm.config,\"editor\":_vm.editor,\"disabled\":_vm.disabled},on:{\"input\":_vm.onEditorInput,\"ready\":_vm.onEditorReady}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport InsertSignatureCommand from './InsertSignatureCommand'\n\nexport default class Signature extends Plugin {\n\n\tinit() {\n\t\tthis._defineSchema()\n\t\tthis._defineConverters()\n\n\t\tthis.editor.commands.add(\n\t\t\t'insertSignature',\n\t\t\tnew InsertSignatureCommand(this.editor)\n\t\t)\n\t}\n\n\t_defineSchema() {\n\t\tconst schema = this.editor.model.schema\n\n\t\tschema.register('signature', {\n\t\t\tinheritAllFrom: '$container',\n\t\t})\n\t}\n\n\t_defineConverters() {\n\t\tconst conversion = this.editor.conversion\n\n\t\tconversion.elementToElement({\n\t\t\tmodel: 'signature',\n\t\t\tview: {\n\t\t\t\tname: 'div',\n\t\t\t\tclasses: 'signature',\n\t\t\t},\n\t\t})\n\t}\n\n}\n","/**\n * @copyright 2021 Silvio Zimmer <silvio.zimmer@die-kinderwelt.com>\n *\n * @author 2021 Silvio Zimmer <silvio.zimmer@die-kinderwelt.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\n\nexport default class Quote extends Plugin {\n\n\tinit() {\n\t\tthis._defineSchema()\n\t\tthis._defineConverters()\n\t}\n\n\t_defineSchema() {\n\t\tconst schema = this.editor.model.schema\n\n\t\tschema.register('quote', {\n\t\t\tinheritAllFrom: '$container',\n\t\t})\n\t}\n\n\t_defineConverters() {\n\t\tconst conversion = this.editor.conversion\n\n\t\tconversion.elementToElement({\n\t\t\tmodel: 'quote',\n\t\t\tview: {\n\t\t\t\tname: 'div',\n\t\t\t\tclasses: 'quote',\n\t\t\t},\n\t\t})\n\t}\n\n}\n","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport { Paragraph } from '@ckeditor/ckeditor5-paragraph'\n\nexport default class Mail extends Plugin {\n\n\tstatic get requires() {\n\t\treturn [Paragraph]\n\t}\n\n\tinit() {\n\t\tthis._overwriteParagraphConversion()\n\t}\n\n\t/**\n\t * Overwrite the elementToElement conversion\n\t * from the default paragraph plugin to add\n\t * margin:0 to every <p>.\n\t *\n\t * @private\n\t */\n\t_overwriteParagraphConversion() {\n\t\tthis.editor.conversion.elementToElement({\n\t\t\tmodel: 'paragraph',\n\t\t\tview: {\n\t\t\t\tname: 'p',\n\t\t\t\tstyles: {\n\t\t\t\t\tmargin: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t\tconverterPriority: 'high',\n\t\t})\n\t}\n\n}\n","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<ckeditor\n\t\tv-if=\"ready\"\n\t\t:value=\"value\"\n\t\t:config=\"config\"\n\t\t:editor=\"editor\"\n\t\t:disabled=\"disabled\"\n\t\t@input=\"onEditorInput\"\n\t\t@ready=\"onEditorReady\" />\n</template>\n\n<script>\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment'\nimport Editor from '@ckeditor/ckeditor5-editor-balloon/src/ballooneditor'\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials'\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote'\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold'\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font'\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph'\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading'\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic'\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link'\nimport ListStyle from '@ckeditor/ckeditor5-list/src/liststyle'\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat'\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin'\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough'\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin'\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter'\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image'\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize'\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload'\nimport MailPlugin from '../ckeditor/mail/MailPlugin'\n\nimport { getLanguage } from '@nextcloud/l10n'\n\nimport logger from '../logger'\n\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tckeditor: CKEditor.component,\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thtml: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tbus: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\tconst plugins = [EssentialsPlugin, ParagraphPlugin, SignaturePlugin, QuotePlugin]\n\t\tconst toolbar = ['undo', 'redo']\n\n\t\tif (this.html) {\n\t\t\tplugins.push(...[\n\t\t\t\tHeadingPlugin,\n\t\t\t\tAlignmentPlugin,\n\t\t\t\tBoldPlugin,\n\t\t\t\tItalicPlugin,\n\t\t\t\tBlockQuotePlugin,\n\t\t\t\tLinkPlugin,\n\t\t\t\tListStyle,\n\t\t\t\tFontPlugin,\n\t\t\t\tRemoveFormat,\n\t\t\t\tStrikethroughPlugin,\n\t\t\t\tImagePlugin,\n\t\t\t\tImageUploadPlugin,\n\t\t\t\tBase64UploadAdapter,\n\t\t\t\tImageResizePlugin,\n\t\t\t\tMailPlugin,\n\t\t\t])\n\t\t\ttoolbar.unshift(...[\n\t\t\t\t'heading',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontSize',\n\t\t\t\t'bold',\n\t\t\t\t'italic',\n\t\t\t\t'fontColor',\n\t\t\t\t'imageUpload',\n\t\t\t\t'alignment',\n\t\t\t\t'bulletedList',\n\t\t\t\t'numberedList',\n\t\t\t\t'blockquote',\n\t\t\t\t'fontBackgroundColor',\n\t\t\t\t'strikethrough',\n\t\t\t\t'link',\n\t\t\t\t'removeFormat',\n\t\t\t])\n\t\t}\n\n\t\treturn {\n\t\t\tready: false,\n\t\t\teditor: Editor,\n\t\t\tconfig: {\n\t\t\t\tplaceholder: this.placeholder,\n\t\t\t\tplugins,\n\t\t\t\ttoolbar: {\n\t\t\t\t\titems: toolbar,\n\t\t\t\t},\n\t\t\t\tlanguage: 'en',\n\t\t\t},\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.loadEditorTranslations(getLanguage())\n\t},\n\tmethods: {\n\t\tasync loadEditorTranslations(language) {\n\t\t\tif (language === 'en') {\n\t\t\t\t// The default, nothing to fetch\n\t\t\t\treturn this.showEditor('en')\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlogger.debug(`loading ${language} translations for CKEditor`)\n\t\t\t\tawait import(\n\t\t\t\t\t/* webpackMode: \"lazy-once\" */\n\t\t\t\t\t/* webpackPrefetch: true */\n\t\t\t\t\t/* webpackPreload: true */\n\t\t\t\t\t`@ckeditor/ckeditor5-build-balloon/build/translations/${language}`\n\t\t\t\t)\n\t\t\t\tthis.showEditor(language)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not find CKEditor translations for \"${language}\"`, { error })\n\t\t\t\tthis.showEditor('en')\n\t\t\t}\n\t\t},\n\t\tshowEditor(language) {\n\t\t\tlogger.debug(`using \"${language}\" as CKEditor language`)\n\t\t\tthis.config.language = language\n\n\t\t\tthis.ready = true\n\t\t},\n\t\t/**\n\t\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\n\t\t */\n\t\tonEditorReady(editor) {\n\t\t\tlogger.debug('TextEditor is ready', { editor })\n\t\t\tthis.editorInstance = editor\n\n\t\t\tif (this.focus) {\n\t\t\t\tlogger.debug('focusing TextEditor')\n\t\t\t\teditor.editing.view.focus()\n\t\t\t}\n\n\t\t\tif (this.html) {\n\t\t\t\tthis.$emit('show-toolbar', editor.ui._focusableToolbarDefinitions[0].toolbarView.element)\n\t\t\t}\n\t\t\tthis.bus.$on('append-to-body-at-cursor', this.appendToBodyAtCursor)\n\t\t\tthis.$emit('ready', editor)\n\t\t},\n\t\tonEditorInput(text) {\n\t\t\tif (text !== this.value) {\n\t\t\t\tlogger.debug(`TextEditor input changed to <${text}>`)\n\t\t\t\tthis.$emit('input', text)\n\t\t\t}\n\t\t},\n\t\tappendToBodyAtCursor(toAppend) {\n\t\t\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\n\t\t\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\n\t\t\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\n\t\t\tthis.editorInstance.model.insertContent(modelFragment)\n\t\t},\n\t\teditorExecute(commandName, ...args) {\n\t\t\tif (this.editorInstance) {\n\t\t\t\tthis.editorInstance.execute(commandName, ...args)\n\t\t\t} else {\n\t\t\t\tthrow new Error('Impossible to execute a command before editor is ready.')\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n:deep(a) {\n\tcolor: #07d;\n}\n:deep(p) {\n\tcursor: text;\n\tmargin: 0 !important;\n}\n</style>\n\n<style>\n/*\nOverwrite the default z-index for CKEditor\nhttps://github.com/ckeditor/ckeditor5/issues/1142\n */\n:root {\n\t--ck-z-default: 10000;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=18f7cd3a&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=18f7cd3a&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&id=18f7cd3a&prod&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&id=18f7cd3a&prod&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=18f7cd3a&scoped=true&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextEditor.vue?vue&type=style&index=0&id=18f7cd3a&prod&lang=scss&scoped=true&\"\nimport style1 from \"./TextEditor.vue?vue&type=style&index=1&id=18f7cd3a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18f7cd3a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["map","webpackAsyncContext","req","webpackAsyncContextResolve","then","id","__webpack_require__","t","e","o","Error","code","keys","Object","resolve","module","exports","TRIGGER_CHANGE_ALIAS","TRIGGER_EDITOR_READY","InsertSignatureCommand","_Command","_inherits","_super","_classCallCheck","apply","arguments","key","value","editor","writer","_step","_iterator","_createForOfIteratorHelper","model","createRangeIn","document","getRoot","getWalker","shallow","s","n","done","item","is","name","remove","err","f","signature","signatureAboveQuote","length","viewFragment","data","processor","toView","modelFragment","toModel","signatureElement","createElement","append","createText","signaturePosition","this","findPosition","insertContent","_step2","_iterator2","createPositionBefore","createPositionAt","_step3","_iterator3","trigger","_this","change","removeSignatureElement","insertSignatureElement","hasSignatureElement","isEnabled","Command","___CSS_LOADER_EXPORT___","push","Signature","_Plugin","_defineSchema","_defineConverters","commands","add","schema","register","inheritAllFrom","conversion","elementToElement","view","classes","Plugin","Quote","Mail","get","Paragraph","_overwriteParagraphConversion","styles","margin","converterPriority","_regeneratorRuntime","Op","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","reject","record","result","_typeof","__await","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","undefined","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","components","ckeditor","CKEditor","props","String","required","html","Boolean","default","placeholder","focus","bus","disabled","plugins","EssentialsPlugin","ParagraphPlugin","SignaturePlugin","QuotePlugin","toolbar","HeadingPlugin","AlignmentPlugin","BoldPlugin","ItalicPlugin","BlockQuotePlugin","LinkPlugin","ListStyle","FontPlugin","RemoveFormat","StrikethroughPlugin","ImagePlugin","ImageUploadPlugin","Base64UploadAdapter","ImageResizePlugin","MailPlugin","unshift","ready","Editor","config","items","language","beforeMount","loadEditorTranslations","getLanguage","methods","_callee","_context","showEditor","logger","concat","t0","args","onEditorReady","editorInstance","editing","$emit","ui","_focusableToolbarDefinitions","toolbarView","element","$on","appendToBodyAtCursor","onEditorInput","text","toAppend","editorExecute","commandName","_this$editorInstance","_len","Array","_key","execute","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","_vm","_c","_self","attrs","on","_e"],"sourceRoot":""}